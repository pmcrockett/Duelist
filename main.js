(()=>{"use strict";var t=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,e=/\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\b/g,s=/[^-+\dA-Z]/g;function i(e,s,i,c){if(1!==arguments.length||"string"!=typeof e||/\d/.test(e)||(s=e,e=void 0),(e=e||0===e?e:new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var h=(s=String(n[s]||s||n.default)).slice(0,4);"UTC:"!==h&&"GMT:"!==h||(s=s.slice(4),i=!0,"GMT:"===h&&(c=!0));var m=function(){return i?"getUTC":"get"},p=function(){return e[m()+"Date"]()},g=function(){return e[m()+"Day"]()},f=function(){return e[m()+"Month"]()},b=function(){return e[m()+"FullYear"]()},k=function(){return e[m()+"Hours"]()},L=function(){return e[m()+"Minutes"]()},y=function(){return e[m()+"Seconds"]()},C=function(){return e[m()+"Milliseconds"]()},v=function(){return i?0:e.getTimezoneOffset()},A=function(){return d(e)},S={d:function(){return p()},dd:function(){return a(p())},ddd:function(){return r.dayNames[g()]},DDD:function(){return o({y:b(),m:f(),d:p(),_:m(),dayName:r.dayNames[g()],short:!0})},dddd:function(){return r.dayNames[g()+7]},DDDD:function(){return o({y:b(),m:f(),d:p(),_:m(),dayName:r.dayNames[g()+7]})},m:function(){return f()+1},mm:function(){return a(f()+1)},mmm:function(){return r.monthNames[f()]},mmmm:function(){return r.monthNames[f()+12]},yy:function(){return String(b()).slice(2)},yyyy:function(){return a(b(),4)},h:function(){return k()%12||12},hh:function(){return a(k()%12||12)},H:function(){return k()},HH:function(){return a(k())},M:function(){return L()},MM:function(){return a(L())},s:function(){return y()},ss:function(){return a(y())},l:function(){return a(C(),3)},L:function(){return a(Math.floor(C()/10))},t:function(){return k()<12?r.timeNames[0]:r.timeNames[1]},tt:function(){return k()<12?r.timeNames[2]:r.timeNames[3]},T:function(){return k()<12?r.timeNames[4]:r.timeNames[5]},TT:function(){return k()<12?r.timeNames[6]:r.timeNames[7]},Z:function(){return c?"GMT":i?"UTC":l(e)},o:function(){return(v()>0?"-":"+")+a(100*Math.floor(Math.abs(v())/60)+Math.abs(v())%60,4)},p:function(){return(v()>0?"-":"+")+a(Math.floor(Math.abs(v())/60),2)+":"+a(Math.floor(Math.abs(v())%60),2)},S:function(){return["th","st","nd","rd"][p()%10>3?0:(p()%100-p()%10!=10)*p()%10]},W:function(){return A()},WW:function(){return a(A())},N:function(){return u(e)}};return s.replace(t,(function(t){return t in S?S[t]():t.slice(1,t.length-1)}))}var n={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},r={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(t).padStart(e,"0")},o=function(t){var e=t.y,s=t.m,i=t.d,n=t._,r=t.dayName,a=t.short,o=void 0!==a&&a,d=new Date,u=new Date;u.setDate(u[n+"Date"]()-1);var l=new Date;return l.setDate(l[n+"Date"]()+1),d[n+"FullYear"]()===e&&d[n+"Month"]()===s&&d[n+"Date"]()===i?o?"Tdy":"Today":u[n+"FullYear"]()===e&&u[n+"Month"]()===s&&u[n+"Date"]()===i?o?"Ysd":"Yesterday":l[n+"FullYear"]()===e&&l[n+"Month"]()===s&&l[n+"Date"]()===i?o?"Tmw":"Tomorrow":r},d=function(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);var s=new Date(e.getFullYear(),0,4);s.setDate(s.getDate()-(s.getDay()+6)%7+3);var i=e.getTimezoneOffset()-s.getTimezoneOffset();e.setHours(e.getHours()-i);var n=(e-s)/6048e5;return 1+Math.floor(n)},u=function(t){var e=t.getDay();return 0===e&&(e=7),e},l=function(t){return(String(t).match(e)||[""]).pop().replace(s,"").replace(/GMT\+0000/g,"UTC")};const c=document.querySelector(".task-bin"),h=["N/A","Unimportant","Important","Urgent"],m=["N/A","Not started","In progress","Complete"];let p=!1;function g(t,e,s){A(s,e),s.expanded?t.setAttribute("d","M12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22M17,14L12,9L7,14H17Z"):t.setAttribute("d","M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M7,10L12,15L17,10H7Z")}function f(t,e,s,i){let n=e.querySelector(".subtasks-plus-img > path:not(.bg-img)");if(s.subtaskList.expanded=t,A(s.subtaskList,e),s.subtaskList.expanded?n.setAttribute("d","M17,13H7V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"):n.setAttribute("d","M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"),i)for(let n of s.subtaskList.tasks)f(t,e.querySelector(`.subtasks.id-${n.id}`),n,i)}function b(){p=!0,c.classList.add("freeze")}function k(){p=!1,c.classList.remove("freeze")}function L(t){let e=c.querySelector(`.task.id-${t}`);e&&e.classList.remove("selected")}function y(t,e){let s=document.elementsFromPoint(t,e),i=!1,n=-1;for(let t of s)if(t.classList.contains("task")){let e=t.className.indexOf("id-"),s=t.className.indexOf(" ",e);s<0&&(s=t.className.length),i=!0,n=Number(t.className.slice(e+3,s))}else if(t.classList.contains("task-expand-img"))return-1;return i?n:-1}function C(t){let e=document.createElement("div");return e.classList.add(...t),e}function v(t,e){let s=document.createElement("div");return s.textContent=t,s.classList.add(...e),s}function A(t,e){if(t.expanded)return e.classList.remove("collapsed"),void e.classList.add("expanded");e.classList.remove("expanded"),e.classList.add("collapsed")}function S(t,e){if(e.currentlyEditing)return;b();let s=document.querySelector("body"),i=s.querySelector(`.task.id-${t.id}`);i.classList.add("editing"),t.currentlyEditing=!0,e.currentlyEditing=!0;let n=document.createElement("div");n.classList.add("card-input"),s.appendChild(n);let r=document.createElement("div");r.classList.add("field-container"),n.appendChild(r);let a=document.createElement("label");a.setAttribute("for","input-title"),a.textContent="Task name",r.appendChild(a);let o=document.createElement("input");o.setAttribute("type","text"),o.setAttribute("name","input-title"),o.setAttribute("id","input-title"),o.setAttribute("value",t.title),r.appendChild(o),o.focus(),o.setSelectionRange(o.value.length,o.value.length);let d=document.createElement("div");d.classList.add("due-container","input-container"),n.appendChild(d);let u=document.createElement("div");u.classList.add("field-container"),d.appendChild(u);let l=document.createElement("label");l.setAttribute("for","input-date"),l.textContent="Due date",u.appendChild(l);let c=document.createElement("input");c.setAttribute("type","date"),c.setAttribute("name","input-date"),c.setAttribute("id","input-date"),c.setAttribute("value",t.dueDateStr),u.appendChild(c);let p=document.createElement("div");p.classList.add("field-container"),d.appendChild(p);let g=document.createElement("label");g.setAttribute("for","input-time"),g.textContent="Due time",p.appendChild(g);let f=document.createElement("input");f.setAttribute("type","time"),f.setAttribute("name","input-time"),f.setAttribute("id","input-time"),f.setAttribute("value",t.dueTimeStr),p.appendChild(f);let L=document.createElement("div");L.classList.add("field-container"),n.appendChild(L);let y=document.createElement("label");y.setAttribute("for","input-desc"),y.textContent="Description",L.appendChild(y);let C=document.createElement("textarea");C.setAttribute("name","input-desc"),C.setAttribute("id","input-desc"),C.textContent=t.description,L.appendChild(C);let v=document.createElement("div");v.classList.add("radio-container","input-container"),n.appendChild(v);let A=document.createElement("div");A.classList.add("field-container"),v.appendChild(A);let S=document.createElement("div");S.classList.add("pseudo-label"),S.textContent="Priority",A.appendChild(S);let D=x("priority-radio",t.priority,h);D.setAttribute("name","input-priority"),D.setAttribute("id","input-priority"),A.appendChild(D);let M=document.createElement("div");M.classList.add("field-container"),v.appendChild(M);let I=document.createElement("div");I.classList.add("pseudo-label"),I.textContent="Progress",M.appendChild(I);let N=x("progress-radio",t.progress,m);N.setAttribute("name","input-progress"),N.setAttribute("id","input-progress"),M.appendChild(N);let H=document.createElement("div");H.classList.add("progress-check-container"),M.appendChild(H);let $=document.createElement("input");$.setAttribute("type","checkbox"),t.useProgressFromSubtasks&&$.setAttribute("checked","checked"),$.setAttribute("id","progress-check"),$.setAttribute("name","progress-check"),$.setAttribute("id","progress-check");let P=document.createElement("label");P.setAttribute("for","progress-check"),P.textContent="Set progress from subtasks",H.appendChild($),H.appendChild(P),w($,N);let F=document.createElement("div");F.classList.add("field-container"),n.appendChild(F);let O=document.createElement("label");O.setAttribute("for","input-notes"),O.textContent="Notes",F.appendChild(O);let z=document.createElement("textarea");z.setAttribute("name","input-notes"),z.setAttribute("id","input-notes"),z.textContent=t.notes,F.appendChild(z);let Y=document.createElement("div");Y.classList.add("input-buttons"),n.appendChild(Y);let R=E("M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z","Confirm",!0,"input-button");R.classList.add("confirm-edit-img","input-button"),Y.appendChild(R);let Z=E("M9,7L11,12L9,17H11L12,14.5L13,17H15L13,12L15,7H13L12,9.5L11,7H9M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2Z","Cancel",!0,"input-button");Z.classList.add("confirm-edit-img","input-button"),Y.appendChild(Z),$.addEventListener("change",(t=>{w($,N)})),R.addEventListener("click",(s=>{t.currentlyEditing=!1,e.currentlyEditing=!1,t.title=o.value,t.dueDateStr=c.value,t.dueTimeStr=f.value,t.updateDue(),t.description=C.value,t.priority=T(D),t.useProgressFromSubtasks=$.checked,t.useProgressFromSubtasks?t.progress=t.getProgressRecursive():t.progress=T(N),t.notes=z.value,n.remove(),k(),i.classList.remove("editing"),t.supertaskList.writeRootToLocalStorage(),t.refreshDom(!1)})),Z.addEventListener("click",(s=>{t.currentlyEditing=!1,e.currentlyEditing=!1,n.remove(),i.classList.remove("editing"),k()}))}function w(t,e){t.checked?e.setAttribute("disabled","disabled"):e.removeAttribute("disabled")}function x(t,e,s){let i=document.createElement("fieldset");i.classList.add(`${t}-fieldset`);let n=[],r=[];for(let e=0;e<s.length;e++)n.push(document.createElement("input")),n[e].setAttribute("type","radio"),n[e].setAttribute("id",`${t}-${e}`),n[e].setAttribute("name",t),n[e].setAttribute("value",s[e]),i.appendChild(n[e]),r.push(document.createElement("label")),r[e].setAttribute("for",`${t}-${e}`),r[e].textContent=s[e],i.appendChild(r[e]);return n[e].setAttribute("checked",""),i}function T(t){let e=t.querySelectorAll("input");for(let t=0;t<e.length;t++)if(e[t].checked)return t;return-1}function E(t,e,s,i){let n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("viewBox","0 0 24 24");let r=document.createElementNS("http://www.w3.org/2000/svg","title");if(r.textContent=e,n.appendChild(r),s){var a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("d","M12,4A10,10 0 0,0 4,12A10,10 0 0,0 12,20A10,10 0 0,0 20,12A10,10 0 0,0 12,4Z"),a.classList.add("bg-img"),n.appendChild(a)}let o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d",t),n.appendChild(o),null!=i&&(o.classList.add(i),s&&a.classList.add(i)),n}const D="http://www.w3.org/2000/svg",M=class{clickReleaseWindow;svg;group;menu;border;menuItems=[];buttonDownTime;isVisible=!1;tileGroup=null;functions;itemTexts;borderSize=1;scale=1;fontSize=20;menuMargin=2;menuPosOffset={x:-4,y:-1};menuWidth;menuHeight;initTime;postInitDelay=200;html;constructor(t,e,s){this.html=document.querySelector("html"),this.svg=document.createElementNS(D,"svg"),this.svg.classList.add("menu"),s&&this.svg.classList.add(...s),this.svg.setAttribute("display","none"),this.clickReleaseWindow=500,this.group=document.createElementNS(D,"g"),this.menu=document.createElementNS(D,"rect"),this.border=document.createElementNS(D,"rect"),this.group.appendChild(this.border),this.group.appendChild(this.menu),this.group.setAttribute("id","menuGroup"),this.border.classList.add("menu-border"),this.menu.classList.add("menu-rect"),this.functions=e,this.itemTexts=t,this.svg.addEventListener("mousemove",(t=>{this.updateHighlight(t.clientX,t.clientY)})),window.addEventListener("scroll",(t=>{this.isVisible&&this.erase()})),document.addEventListener("mousedown",(t=>{if(this.isVisible&&(new Date).getTime()-this.initTime>this.postInitDelay){let e=this.getHighlighted(),s=document.elementsFromPoint(t.clientX,t.clientY);e&&s.includes(e.rect)&&this.activateSelection(),this.erase(),this.svg.remove()}}))}init(){let t=window.getComputedStyle(this.svg).getPropertyValue("font-size");if(t){let e="";for(let s of t){let t=s.charCodeAt(0);t>=48&&t<=57&&(e+=s)}this.fontSize=Number(e)}this.svg.setAttribute("display","block"),this.svg.setAttribute("style","position: absolute;");for(let t=0;t<this.itemTexts.length;t++)this.addMenuItem(this.itemTexts[t],this.functions[t]);let e=0,s=0;for(let t of this.menuItems){let e=t.svgText.text.getBBox().width+2*t.svgText.xMargin;e>s&&(s=e)}for(let t=0;t<this.menuItems.length;t++)this.menuItems[t].rect.setAttribute("width",s),this.menuItems[t].group.setAttribute("transform",`translate(0, ${e})`),e+=Number(this.menuItems[t].rect.getAttribute("height"));this.menu.setAttribute("width",`${s}`),this.menu.setAttribute("height",`${e}`),this.border.setAttribute("width",`${s+2*this.borderSize}`),this.border.setAttribute("height",`${e+2*this.borderSize}`),this.border.setAttribute("x",""+-1*this.borderSize),this.border.setAttribute("y",""+-1*this.borderSize),this.svg.setAttribute("width",""+(s*this.scale+this.borderSize*this.scale)),this.svg.setAttribute("height",""+(e*this.scale+this.borderSize*this.scale)),this.svg.setAttribute("viewBox",`${-1*this.borderSize-this.menuMargin} ${-1*this.borderSize-this.menuMargin} ${s+2*this.borderSize+2*this.menuMargin} ${e+2*this.borderSize+2*this.menuMargin}`),this.menuWidth=s+2*this.borderSize-2*this.menuMargin,this.menuHeight=e+2*this.borderSize-2*this.menuMargin,this.initTime=(new Date).getTime()}buttonDown(t,e){this.isVisible&&this.erase(),this.isVisible=!0,this.svg.appendChild(this.group),this.init();const s=this.html.clientWidth,i=this.html.clientHeight;let n=0,r=0;t+this.menuPosOffset.x+this.menuWidth+1>s&&(n=s-(t+this.menuPosOffset.x+this.menuWidth+1)),e+this.menuPosOffset.y+this.menuHeight+1>i&&(r=i-(e+this.menuPosOffset.y+this.menuHeight+1)),this.svg.setAttribute("transform",`translate(${t-this.menuMargin+this.menuPosOffset.x+n+window.scrollX}, ${e-this.menuMargin+this.menuPosOffset.y+r+window.scrollY})`),this.updateHighlight(t,e),this.buttonDownTime=performance.now()}buttonUp(){performance.now()-this.buttonDownTime>clickReleaseWindow&&this.erase()}erase(){this.group.remove();for(let t of this.menuItems)t.group.remove();this.svg.setAttribute("display","none"),this.menuItems=[],this.isVisible=!1}addMenuItem(t,e,s){null==s&&(s=this.menuItems.length),this.menuItems.splice(s,0,new I(t,this.fontSize,this.group,s,e))}updateHighlight(t,e){if(this.isVisible){for(let t of this.menuItems)t.unhighlight();let s=document.elementsFromPoint(t,e);for(let t of this.menuItems)if(s.includes(t.rect)){t.highlight();break}}}getHighlighted(){if(this.isVisible)for(let t of this.menuItems)if(t.isHighlighted)return t}getHighlightedText(){let t=this.getHighlighted();return t?t.svgText.text.textContent:void 0}activateSelection(t="highlighted"){"highlighted"===t&&(t=this.getHighlightedText());let e=this.menuItems.find((e=>e.text==t));return e?e.function():null}};class I{rect;group;text;svgText;isHighlighted;functions;constructor(t,e,s,i,n){this.text=t,this.rect=document.createElementNS(D,"rect"),this.group=document.createElementNS(D,"g"),this.group.appendChild(this.rect),s.appendChild(this.group),this.svgText=new N(t,this.group,i,e),this.rect.setAttribute("fill","rgba(0, 0, 0, 0)"),this.rect.setAttribute("height",""+1.2*e),this.rect.classList.add("menu-item"),this.isHighlighted=!1,this.function=n}highlight(){this.rect.classList.add("menu-highlight"),this.isHighlighted=!0}unhighlight(){this.rect.classList.remove("menu-highlight"),this.isHighlighted=!1}}function N(t,e,s=-1,i=10){this.fontSize=i,this.xMargin=.2*this.fontSize,this.text=document.createElementNS(D,"text"),this.text.textContent=t,this.text.setAttribute("cursor","default"),this.text.classList.add(`menu-text-${s}`),this.text.classList.add("menu-text"),e.appendChild(this.text),this.text.setAttribute("x",`${this.xMargin}`),this.text.setAttribute("y",""+.9*this.fontSize),this.text.setAttribute("font-size",`${this.fontSize}px`)}function H(t){let e;try{e=window[t];const s="__storage_test__";return e.setItem(s,s),e.removeItem(s),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e&&0!==e.length}}class ${title;dueDate;dueDateStr;dueTime;dueTimeStr;description;priority;progress;notes;id;depth;currentlyEditing;useProgressFromSubtasks;subtaskList;supertaskList;expanded;selected;domDiv;static lastId=-1;constructor(t,e,s,i,n,r,a,o,d){this.title=t||"",this.dueDateStr=e,this.dueTimeStr=s,this.updateDue(),this.description=i||"",this.priority=n||0,this.progress=r||0,this.notes=a||"",this.selected=!1,o?o.add(this):this.supertaskList=null,this.currentlyEditing=!1,this.subtaskList=new P(this),this.expanded=this.hasContent(),this.useProgressFromSubtasks=!1,d?this.id=-1:(this.assignNewId(),this.updateDepth(!0))}clone(t,e,s){var i=new $(this.title,this.dueDateStr,this.dueTimeStr,this.description,this.priority,this.progress,this.notes,null,!0);if(i.expanded=this.expanded,i.selected=!1,i.useProgressFromSubtasks=this.useProgressFromSubtasks,e&&e.add(i,s),t){i.subtaskList.expanded=this.subtaskList.expanded;for(let e=0;e<this.subtaskList.tasks.length;e++)this.subtaskList.tasks[e].clone(t,i.subtaskList)}return i}updateDue(){let t=function(){let t=(new Date).getTimezoneOffset(),e=t<0?-1:1;t=Math.abs(t);let s=`${String(Math.floor(t/60)).padStart(2,"0")}:${String(t%60).padStart(2,"0")}`;return s=1==e?"-"+s:"+"+s,s}();if(this.dueDateStr&&this.dueDateStr.length){let e=`${this.dueDateStr}T00:00:00${t}`;this.dueDate=new Date(e)}if(this.dueTimeStr&&this.dueTimeStr.length){let e=`2000-01-01T${this.dueTimeStr}:00${t}`;this.dueTime=new Date(e)}}updateDepth(t){if(this.depth=0,null==this.supertaskList)return;let e=this.supertaskList.owner;for(;null!=e;)this.depth++,e=e.supertaskList?e.supertaskList.owner:null}editTitle(){}editDue(){}editDescription(){}editProgress(){}editNotes(){}delete(t){return!!this.supertaskList&&(this.domDiv&&(this.domDiv.task.remove(),t&&this.domDiv.subtasks.remove()),this.supertaskList.removeId(this.id))}hasContent(){return this.description&&""!=this.description||this.priority||this.progress||this.notes&&this.notes.length}log(){O.logTask(this)}assignNewId(){this.id=$.generateId()}assignNewIdRecursive(){this.assignNewId();for(let t=0;t<this.subtaskList.tasks.length;t++)this.subtaskList.tasks[t].assignNewIdRecursive()}refreshDom(t){this.domDiv&&(this.domDiv.task.remove(),t&&this.domDiv.subtasks.remove()),this.useProgressFromSubtasks&&(this.progress=this.getProgressRecursive()),this.domDiv=function(t,e){let s=null,n=t.supertask,r=-1;t.supertaskList&&(r=t.supertaskList.getTaskIdx(t)+1);let a=-1,o=null;r>0&&r<t.supertaskList.tasks.length&&(a=t.supertaskList.tasks[r].id,o=c.querySelector(`.task.id-${a}`)),s=n?c.querySelector(`.subtasks.id-${n.id}`):c;let d=`margin-left: calc(calc(var(--card-indent) * ${t.depth}) + calc(var(--card-margin) * 0.5))`,u=document.createElement("div");u.classList.add("task",`id-${t.id}`),u.setAttribute("style",d),t.selected&&u.classList.add("selected"),o?o.insertAdjacentElement("beforebegin",u):s.appendChild(u);let l=document.createElement("div");l.classList.add("card-header-div"),u.appendChild(l);let p=document.createElement("div");p.classList.add("card-title-container"),l.appendChild(p),t.priority&&p.appendChild(function(t){let e=E(["M12 16C13.66 16 15 14.66 15 13C15 11.88 14.39 10.9 13.5 10.39L3.79 4.77L9.32 14.35C9.82 15.33 10.83 16 12 16M12 3C10.19 3 8.5 3.5 7.03 4.32L9.13 5.53C10 5.19 11 5 12 5C16.42 5 20 8.58 20 13C20 15.21 19.11 17.21 17.66 18.65H17.65C17.26 19.04 17.26 19.67 17.65 20.06C18.04 20.45 18.68 20.45 19.07 20.07C20.88 18.26 22 15.76 22 13C22 7.5 17.5 3 12 3M2 13C2 15.76 3.12 18.26 4.93 20.07C5.32 20.45 5.95 20.45 6.34 20.06C6.73 19.67 6.73 19.04 6.34 18.65C4.89 17.2 4 15.21 4 13C4 12 4.19 11 4.54 10.1L3.33 8C2.5 9.5 2 11.18 2 13Z","M12 1.38L9.14 12.06C8.8 13.1 9.04 14.29 9.86 15.12C11.04 16.29 12.94 16.29 14.11 15.12C14.9 14.33 15.16 13.2 14.89 12.21M14.6 3.35L15.22 5.68C18.04 6.92 20 9.73 20 13C20 15.21 19.11 17.21 17.66 18.65H17.65C17.26 19.04 17.26 19.67 17.65 20.06C18.04 20.45 18.68 20.45 19.07 20.07C20.88 18.26 22 15.76 22 13C22 8.38 18.86 4.5 14.6 3.35M9.4 3.36C5.15 4.5 2 8.4 2 13C2 15.76 3.12 18.26 4.93 20.07C5.32 20.45 5.95 20.45 6.34 20.06C6.73 19.67 6.73 19.04 6.34 18.65C4.89 17.2 4 15.21 4 13C4 9.65 5.94 6.86 8.79 5.65","M12,16A3,3 0 0,1 9,13C9,11.88 9.61,10.9 10.5,10.39L20.21,4.77L14.68,14.35C14.18,15.33 13.17,16 12,16M12,3C13.81,3 15.5,3.5 16.97,4.32L14.87,5.53C14,5.19 13,5 12,5A8,8 0 0,0 4,13C4,15.21 4.89,17.21 6.34,18.65H6.35C6.74,19.04 6.74,19.67 6.35,20.06C5.96,20.45 5.32,20.45 4.93,20.07V20.07C3.12,18.26 2,15.76 2,13A10,10 0 0,1 12,3M22,13C22,15.76 20.88,18.26 19.07,20.07V20.07C18.68,20.45 18.05,20.45 17.66,20.06C17.27,19.67 17.27,19.04 17.66,18.65V18.65C19.11,17.2 20,15.21 20,13C20,12 19.81,11 19.46,10.1L20.67,8C21.5,9.5 22,11.18 22,13Z"][t-1],h[t],!1);return e.classList.add("priority-img",["priority-low","priority-mid","priority-high"][t-1]),e}(t.priority)),t.progress&&p.appendChild(function(t){let e=E(["M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z","M8.46 8.46C9.4 7.53 10.67 7 12 7C13.33 7 14.6 7.53 15.54 8.46L8.46 15.54C7.53 14.6 7 13.33 7 12C7 10.67 7.53 9.4 8.46 8.46M8.17 2.76C9.39 2.26 10.69 2 12 2C13.31 2 14.61 2.26 15.83 2.76C17.04 3.26 18.14 4 19.07 4.93C20 5.86 20.74 6.96 21.24 8.17C21.74 9.39 22 10.69 22 12C22 14.65 20.95 17.2 19.07 19.07C17.2 20.95 14.65 22 12 22C10.69 22 9.39 21.74 8.17 21.24C6.96 20.74 5.86 20 4.93 19.07C3.05 17.2 2 14.65 2 12C2 9.35 3.05 6.8 4.93 4.93C5.86 4 6.96 3.26 8.17 2.76M6.34 17.66C7.84 19.16 9.88 20 12 20C14.12 20 16.16 19.16 17.66 17.66C19.16 16.16 20 14.12 20 12C20 9.88 19.16 7.84 17.66 6.34C16.16 4.84 14.12 4 12 4C9.88 4 7.84 4.84 6.34 6.34C4.84 7.84 4 9.88 4 12C4 14.12 4.84 16.16 6.34 17.66Z","M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7Z"][t-1],m[t],!1);return e.classList.add("progress-img",["progress-not-started","progress-in-progress","progress-completed"][t-1]),e}(t.progress));let b=document.createElement("h2");b.textContent=t.title,b.classList.add("card-title","card-editable"),p.appendChild(b);let k=E("M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M15.1,7.07C15.24,7.07 15.38,7.12 15.5,7.23L16.77,8.5C17,8.72 17,9.07 16.77,9.28L15.77,10.28L13.72,8.23L14.72,7.23C14.82,7.12 14.96,7.07 15.1,7.07M13.13,8.81L15.19,10.87L9.13,16.93H7.07V14.87L13.13,8.81Z","Edit task",!0);if(k.classList.add("edit-task-img"),l.appendChild(k),t.dueDate){let e=document.createElement("div");e.textContent=`${i(t.dueDate,"dddd, mmmm dS, yyyy")}`,e.classList.add("card-due-date","card-editable"),l.appendChild(e)}if(t.dueTime){let e=document.createElement("div");e.textContent=`${i(t.dueTime,"h:MM TT")}`,e.classList.add("card-due-time","card-editable"),l.appendChild(e)}let L=E("","Expand",!0);L.classList.add("task-expand-img"),l.appendChild(L),t.hasContent()||L.classList.add("hidden");let y=L.querySelector("path:not(.bg-img)");if(g(y,u,t),t.priority>0||t.progress>0){let e=document.createElement("div");if(e.classList.add("info-container"),u.appendChild(e),t.priority>0){let s=C(["card-container"]);e.appendChild(s);let i=v("Priority",["card-label"]);s.appendChild(i);let n=document.createElement("div");n.textContent=h[t.priority],n.classList.add("card-priority","card-editable"),s.appendChild(n)}if(t.progress>0||t.useProgressFromSubtasks){let s=C(["card-container"]);e.appendChild(s);let i=v("Progress",["card-label"]);s.appendChild(i);let n=document.createElement("div");n.textContent=m[t.progress],t.useProgressFromSubtasks&&(n.textContent+=" (from subtasks)"),n.classList.add("card-progress","card-editable"),s.appendChild(n)}}if(t.description.length){let e=C(["card-container"]);u.appendChild(e);let s=document.createElement("div");s.textContent=t.description,s.classList.add("card-description","card-content","card-editable"),e.appendChild(s);let i=v("About",["card-label"]);e.appendChild(i)}if(t.notes.length){let e=C(["card-container"]);u.appendChild(e);let s=document.createElement("div");s.textContent=t.notes,s.classList.add("card-notes","card-content","card-editable"),e.appendChild(s);let i=v("Notes",["card-label"]);e.appendChild(i)}let A=c.querySelector(`.subtasks.id-${t.id}`);if(A){A.remove(),u.insertAdjacentElement("afterend",A);let e=A.querySelector(".subtasks-header");A.querySelector(".subtasks-text").textContent=`${t.subtasks.length} \n            ${1==t.subtasks.length?"subtask":"subtasks"}`,t.subtasks.length?e.classList.remove("hidden"):e.classList.add("hidden")}else{A=document.createElement("div"),u.insertAdjacentElement("afterend",A),A.classList.add("subtasks",`id-${t.id}`);let s=document.createElement("div");s.classList.add("subtasks-header",`id-${t.id}`),s.setAttribute("style",d),A.appendChild(s);let i=E("","Subtasks",!0);i.classList.add("subtasks-plus-img"),s.appendChild(i),i.querySelector("path:not(.bg-img)"),f(t.subtaskList.expanded,A,t,!1);let n=document.createElement("div");n.classList.add("subtasks-text",`id-${t.id}`),s.appendChild(n),n.textContent=`${t.subtasks.length} \n            ${1==t.subtasks.length?"subtask":"subtasks"}`,t.subtasks.length?s.classList.remove("hidden"):s.classList.add("hidden"),s.addEventListener("click",(s=>{e.currentlyEditing||(t.subtaskList.expanded=!t.subtaskList.expanded,f(t.subtaskList.expanded,A,t,e.selectionAddTo))}))}return L.addEventListener("click",(s=>{e.currentlyEditing||(t.expanded=!t.expanded,g(y,u,t))})),l.addEventListener("mouseover",(t=>{let e=document.elementsFromPoint(t.clientX,t.clientY);for(let t of e)if(t.classList.contains("task-expand-img"))return l.classList.remove("hover-possible"),!1;return l.classList.add("hover-possible"),!0})),k.addEventListener("click",(s=>{"touch"==s.pointerType?t.selected&&e.touch.touchedId[0]==t.id&&S(t,e):S(t,e)})),{task:u,subtasks:A}}(this,F),t&&this.subtaskList.refreshDom(t);for(let t of this.chain)t.useProgressFromSubtasks&&t.refreshDom(!1)}addSubtask(t,e){return this.subtaskList.add(t,e)}removeSubtaskId(t){return this.subtaskList.removeId(t)}removeSubtaskIdx(t){return this.subtaskList.removeIdx(t)}getProgressRecursive(t){null==t&&(t=0),!this.useProgressFromSubtasks&&this.progress>0&&(t=1!=this.progress||1!=t&&0!=t?3!=this.progress||3!=t&&0!=t?2:3:1);for(let e of this.subtaskList.tasks)t=e.getProgressRecursive(t);return t}get subtasks(){return this.subtaskList.tasks}get supertask(){return this.supertaskList?this.supertaskList.owner:null}get chain(){let t=this.supertaskList.owner,e=[];for(;t;)e.push(t),t=t.supertaskList.owner;return e}static generateId(){return $.lastId>=Number.MAX_SAFE_INTEGER&&($.lastId=-1),++$.lastId}static resetIds(){$.lastId=-1}}class P{tasks;owner;expanded=!1;static writeErrorShown=!1;static DEFAULT_KEY="taskList";constructor(t,e){this.owner=t,this.tasks=[],e&&e.forEach((t=>{this.add(t)}))}sort(){}createTask(t,e){t||(t=this.tasks.length+1);let s=new $;this.add(s,t),this.owner?this.owner.refreshDom(!0):this.refreshDom(!1),this.writeRootToLocalStorage(),e&&S(s,F)}add(t,e){null==e&&(e=this.tasks.length),this.tasks.splice(e,0,t),t.supertaskList=this,t.updateDepth(!0)}getTaskIdx(t){for(let e=0;e<this.tasks.length;e++)if(this.tasks[e].id==t.id)return e;return-1}removeId(t){console.log(`Looking for id ${t} in tasks length ${this.tasks.length}`);for(let e=0;e<this.tasks.length;e++)if(this.tasks[e].id==t)return console.log(`Removing id ${t} at idx ${e}`),this.removeIdx(e);return!1}removeIdx(t){return this.tasks[t].supertaskList=null,this.tasks.splice(t,1),!0}getTaskById(t,e){let s=null;for(let i of this.tasks){if(i.id==t)return i;if(e&&i.subtaskList.hasTasks()&&(s=i.subtaskList.getTaskById(t,e),s))return s}return s}hasTasks(){return this.tasks.length>=1}getIdOrder(t){const e=[];for(let s of this.tasks)e.push(s.id),t&&e.push(...s.subtaskList.getIdOrder(t));return e}clear(){for(;this.tasks.length;)this.tasks[0].delete(!0)}refreshDom(t){this.tasks.forEach((e=>{e.domDiv&&(e.domDiv.task.remove(),t&&e.domDiv.subtasks.remove())})),this.tasks.forEach((e=>{e.refreshDom(t)}));for(let e=0;e<this.tasks.length;e++)this.tasks[e].refreshDom(t)}cloneJson(){let t=new P(null,null);t.expanded=this.expanded;for(let e of this.tasks){let s=e.clone(!1,null);t.add(s),s.id=e.id,s.depth=e.depth,s.dueDate=null,s.dueTime=null,s.subtaskList=e.subtaskList.cloneJson(),s.supertaskList=null}return t}initFromJson(t,e){this.owner=e,this.expanded=t.expanded,this.clear();for(let e of t.tasks){let t=new $(e.title,e.dueDateStr,e.dueTimeStr,e.description,e.priority,e.progress,e.notes,this,!1);t.expanded=e.expanded,t.useProgressFromSubtasks=e.useProgressFromSubtasks,t.subtaskList.initFromJson(e.subtaskList,t)}}writeToLocalStorage(t){if(H("localStorage")){t||(t=P.DEFAULT_KEY);let e=JSON.stringify(this.cloneJson());return localStorage.setItem(t,e),!0}return P.writeErrorShown||(P.writeErrorShown=!0,alert("Your browser either doesn't support local storage or has it disabled, so your tasks will not be saved after leaving this page.")),!1}writeRootToLocalStorage(t){this.owner?this.root.writeToLocalStorage(t):this.writeToLocalStorage(t)}restoreFromLocalStorage(t){if(H("localStorage")){t||(t=P.DEFAULT_KEY);let e=localStorage.getItem(t);if(e){$.resetIds();let t=JSON.parse(e);return this.initFromJson(t),this.refreshDom(!0),!0}}return!1}clearLocalStorage(t){H("localStorage")&&(t||(t=P.DEFAULT_KEY),localStorage.removeItem(t))}get root(){return this.owner?this.owner.chain.length?this.owner.chain[this.owner.chain.length-1].supertaskList:this.owner.supertaskList:this}}let F=function(){let t=function(t,e){"Control"==e.key&&(F.selectionAddTo=t)},e=function(t,e){"Shift"==e.key&&(F.selectionMass=t)};return document.addEventListener("keydown",(s=>{t.bind(this,!0,s)(),e.bind(this,!0,s)()})),document.addEventListener("keyup",(s=>{t.bind(this,!1,s)(),e.bind(this,!1,s)()})),{currentlyEditing:!1,selectionAddTo:!1,touch:{time:[null,null],pos:[null,null],touchedId:[null,null]}}}(),O=function(){let t=function(e,s){s||(s=""),console.log(s+"----------------"),console.log(s+"Title: "+e.title),console.log(s+"Due date: "+e.dueDate),console.log(s+"Due time: "+e.dueTime),console.log(s+"Description: "+e.description),console.log(s+"Progress: "+e.progress),console.log(s+"Notes:  "+e.notes),console.log(s+"ID: "+e.id),console.log(s+"Depth: "+e.depth),e.supertaskList&&e.supertaskList.owner?console.log(s+"Supertask: ("+e.supertaskList.owner.id+") "+e.supertaskList.owner.title):console.log(s+"No supertask"),e.subtaskList.hasTasks()&&(console.log(s+e.subtaskList.tasks.length+" subtask"+(1!=e.subtaskList.tasks.length?"s:":":")),e.subtaskList.tasks.forEach((e=>{t(e,s+"*   ")})))};return{logTask:t}}(),z=function(){const t=[];let e=function(t){const e=[];for(let s of t){let i=s.chain,n=!1;for(let e of t)if(i.includes(e)){n=!0;break}n||e.push(s)}return e},s=function(){t.splice(0,t.length)};return{buffer:t,remove:function(t,s,i){t instanceof Array||(t=[t]),s&&(t=e(t));let n=t[0].supertaskList.root;for(let e of t){let t=e.supertaskList.getTaskIdx(e),n=e.supertaskList,r=e.subtaskList;if(e.delete(!0),!s)for(let e=0;e<r.tasks.length;e++)n.add(r.tasks[e],t++);i&&(n.owner?n.owner.refreshDom(!0):n.refreshDom(!0))}n.writeToLocalStorage()},copy:function(i,n,r){i instanceof Array||(i=[i]),s(),n&&(i=e(i));let a=r.getIdOrder(!0);i.sort((function(t,e){return a.indexOf(t.id)<a.indexOf(e.id)?-1:1}));for(let e of i)t.push(e.clone(n))},cut:function(t,e,s,i){t instanceof Array||(t=[t]),this.copy(t,e,i),this.remove(t,e)},paste:function(e,s){if(e instanceof $&&(e=e.subtaskList),t.length){for(let i of t){let t=i.clone(!0,e,s++);t.assignNewIdRecursive(),t.updateDepth(!0)}return e.owner?e.owner.refreshDom(!0):e.refreshDom(!0),e.writeRootToLocalStorage(),!0}return!1},clearBuffer:s}}(),Y=function(){const t=[];let e=function(e){i(e)||(e.selected=!0,t.push(e),function(t){let e=c.querySelector(`.task.id-${t}`);e&&e.classList.add("selected")}(e.id))},s=function(){for(let e of t)e.selected=!1,L(e.id);t.splice(0,t.length)},i=function(e){return t.indexOf(e)>=0},n=function(t){if(F.selectionMass)if(Y.selected.length){let e=R.getIdOrder(!0),s=e.indexOf(Y.selected[0].id),i=e.indexOf(t.id);if(i<s){let t=s;s=i,i=t}Y.addExclusive(Y.selected[0]);for(let t=s;t<=i;t++)e[t]!=Y.selected[0].id&&Y.add(R.getTaskById(e[t],!0))}else Y.addExclusive(t);else F.selectionAddTo?Y.contains(t)?Y.remove(t):Y.add(t):Y.addExclusive(t)};return{selected:t,add:e,addExclusive:function(t){s(),t.selected=!0,e(t)},remove:function(e){let s=t.indexOf(e);return s>=0&&(t.splice(s,1),e.selected=!1,L(e.id),!0)},clear:s,contains:i,updateSelection:n,triggerMenu:function(e,s,i,r){let a,o=R.getTaskById(y(e,s),!0);o&&!t.includes(o)&&n(o);let d=null;if(r&&(d=["touch-menu"]),o&&Y.selected.length){b();let t=["New task (above)","New task (below)","New task (as subtask)","Copy (with subtasks)","Copy (without subtasks)","Cut (with subtasks)","Cut (without subtasks)"],i=[function(){o.supertaskList.createTask(o.supertaskList.getTaskIdx(o),!0)},function(){o.supertaskList.createTask(o.supertaskList.getTaskIdx(o)+1,!0)},function(){o.subtaskList.createTask(null,!0)},function(){z.copy(Y.selected,!0,R)},function(){z.copy(Y.selected,!1,R)},function(){z.cut(Y.selected,!0,!0,R)},function(){z.cut(Y.selected,!1,!0,R)}];z.buffer.length&&(t.push("Paste (above)","Paste (below)","Paste (as subtask)"),i.push((function(){z.paste(o.supertaskList,o.supertaskList.getTaskIdx(o))}),(function(){z.paste(o.supertaskList,o.supertaskList.getTaskIdx(o)+1)}),(function(){z.paste(o.subtaskList)}))),t.push("Delete (with subtasks)","Delete (without subtasks)"),i.push((function(){z.remove(Y.selected,!0,!0)}),(function(){z.remove(Y.selected,!1,!0)})),a=new M(t,i,d),document.querySelector("body").appendChild(a.svg),a.buttonDown(e,s)}else{b();let t=["New task"],i=[function(){R.createTask(R.tasks.length,!0)}];z.buffer.length&&(t.push("Paste"),i.push((function(){z.paste(R,R.tasks.length)}))),a=new M(t,i,d),document.querySelector("body").appendChild(a.svg),a.buttonDown(e,s)}}}}(),R=new P;R.restoreFromLocalStorage(),R.refreshDom(!0),document.addEventListener("contextmenu",(t=>{t.preventDefault()})),document.addEventListener("click",(t=>{let e=R.getTaskById(y(t.clientX,t.clientY),!0),s=document.elementsFromPoint(t.clientX,t.clientY);if(!F.currentlyEditing&&!t.target.classList.contains("input-button"))if(e)Y.updateSelection(e);else{let t=!0;for(let e of s)if(e.classList.contains("task-expand-img")||e.classList.contains("subtasks-plus-img")){t=!1;break}t&&Y.clear()}})),document.addEventListener("mouseup",(t=>{0!=t.button||F.currentlyEditing||k()})),document.addEventListener("mousedown",(t=>{2!=t.button||F.currentlyEditing||Y.triggerMenu(t.clientX,t.clientY,F.selectionAddTo)})),document.addEventListener("touchstart",(t=>{F.touch.time.splice(0,1),F.touch.time.push((new Date).getTime()),F.touch.pos.splice(0,1),F.touch.pos.push({x:t.touches[0].clientX,y:t.touches[0].clientY}),F.touch.time[0]&&F.touch.time[1]-F.touch.time[0]<300&&Math.abs(F.touch.pos[1].x-F.touch.pos[0].x)<40&&Math.abs(F.touch.pos[1].y-F.touch.pos[0].y)<40&&Y.triggerMenu(F.touch.pos[1].x,F.touch.pos[1].y,F.selectionAddTo,!0),F.touch.touchedId.splice(0,1),F.touch.touchedId.push(y(t.touches[0].clientX,t.touches[0].clientY)),console.log("Set last touched to "+F.touch.touchedId)})),document.addEventListener("touchend",(t=>{})),document.addEventListener("keydown",(t=>{"e"==t.key&&console.log(Y.selected)})),document.querySelector(".clear-data").addEventListener("click",(t=>{F.currentlyEditing||confirm("This will delete all saved data. Continue?")&&(R.clear(),R.clearLocalStorage())}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBR1lwTyxTQUFTQyxjQUFjLGVBQzdCa0csaUJBQWlCLFNBQVNDLElBQzNCaU0sRUFBYWpQLGtCQUNLNEMsUUFBUSxnREFHdkIrUSxFQUFTcEQsUUFDVG9ELEVBQVMvQixvQkFFakIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL2R1ZWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZWZvcm1hdC9saWIvZGF0ZWZvcm1hdC5qcyIsIndlYnBhY2s6Ly9kdWVsaXN0Ly4vc3JjL2RvbS5qcyIsIndlYnBhY2s6Ly9kdWVsaXN0Ly4vc3JjL3JpZ2h0LWNsaWNrLW1lbnUuanMiLCJ3ZWJwYWNrOi8vZHVlbGlzdC8uL3NyYy9zdG9yYWdlLWF2YWlsYWJsZS5qcyIsIndlYnBhY2s6Ly9kdWVsaXN0Ly4vc3JjL3NjcmlwdC5qcyIsIndlYnBhY2s6Ly9kdWVsaXN0Ly4vc3JjL3RpbWV6b25lLXN0cmluZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdG9rZW49L2R7MSw0fXxEezMsNH18bXsxLDR9fHl5KD86eXkpP3woW0hoTXNUdF0pXFwxP3xXezEsMn18W0xsb3BTWk5dfFwiW15cIl0qXCJ8J1teJ10qJy9nO3ZhciB0aW1lem9uZT0vXFxiKD86W0EtWl17MSwzfVtBLVpdW1RDXSkoPzpbLStdXFxkezR9KT98KCg/OkF1c3RyYWxpYW4gKT8oPzpQYWNpZmljfE1vdW50YWlufENlbnRyYWx8RWFzdGVybnxBdGxhbnRpYykgKD86U3RhbmRhcmR8RGF5bGlnaHR8UHJldmFpbGluZykgVGltZSlcXGIvZzt2YXIgdGltZXpvbmVDbGlwPS9bXi0rXFxkQS1aXS9nO2V4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRhdGVGb3JtYXQoZGF0ZSxtYXNrLHV0YyxnbXQpe2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0xJiZ0eXBlb2YgZGF0ZT09PVwic3RyaW5nXCImJiEvXFxkLy50ZXN0KGRhdGUpKXttYXNrPWRhdGU7ZGF0ZT11bmRlZmluZWR9ZGF0ZT1kYXRlfHxkYXRlPT09MD9kYXRlOm5ldyBEYXRlO2lmKCEoZGF0ZSBpbnN0YW5jZW9mIERhdGUpKXtkYXRlPW5ldyBEYXRlKGRhdGUpfWlmKGlzTmFOKGRhdGUpKXt0aHJvdyBUeXBlRXJyb3IoXCJJbnZhbGlkIGRhdGVcIil9bWFzaz1TdHJpbmcobWFza3NbbWFza118fG1hc2t8fG1hc2tzW1wiZGVmYXVsdFwiXSk7dmFyIG1hc2tTbGljZT1tYXNrLnNsaWNlKDAsNCk7aWYobWFza1NsaWNlPT09XCJVVEM6XCJ8fG1hc2tTbGljZT09PVwiR01UOlwiKXttYXNrPW1hc2suc2xpY2UoNCk7dXRjPXRydWU7aWYobWFza1NsaWNlPT09XCJHTVQ6XCIpe2dtdD10cnVlfX12YXIgXz1mdW5jdGlvbiBfKCl7cmV0dXJuIHV0Yz9cImdldFVUQ1wiOlwiZ2V0XCJ9O3ZhciBfZD1mdW5jdGlvbiBkKCl7cmV0dXJuIGRhdGVbXygpK1wiRGF0ZVwiXSgpfTt2YXIgRD1mdW5jdGlvbiBEKCl7cmV0dXJuIGRhdGVbXygpK1wiRGF5XCJdKCl9O3ZhciBfbT1mdW5jdGlvbiBtKCl7cmV0dXJuIGRhdGVbXygpK1wiTW9udGhcIl0oKX07dmFyIHk9ZnVuY3Rpb24geSgpe3JldHVybiBkYXRlW18oKStcIkZ1bGxZZWFyXCJdKCl9O3ZhciBfSD1mdW5jdGlvbiBIKCl7cmV0dXJuIGRhdGVbXygpK1wiSG91cnNcIl0oKX07dmFyIF9NPWZ1bmN0aW9uIE0oKXtyZXR1cm4gZGF0ZVtfKCkrXCJNaW51dGVzXCJdKCl9O3ZhciBfcz1mdW5jdGlvbiBzKCl7cmV0dXJuIGRhdGVbXygpK1wiU2Vjb25kc1wiXSgpfTt2YXIgX0w9ZnVuY3Rpb24gTCgpe3JldHVybiBkYXRlW18oKStcIk1pbGxpc2Vjb25kc1wiXSgpfTt2YXIgX289ZnVuY3Rpb24gbygpe3JldHVybiB1dGM/MDpkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCl9O3ZhciBfVz1mdW5jdGlvbiBXKCl7cmV0dXJuIGdldFdlZWsoZGF0ZSl9O3ZhciBfTj1mdW5jdGlvbiBOKCl7cmV0dXJuIGdldERheU9mV2VlayhkYXRlKX07dmFyIGZsYWdzPXtkOmZ1bmN0aW9uIGQoKXtyZXR1cm4gX2QoKX0sZGQ6ZnVuY3Rpb24gZGQoKXtyZXR1cm4gcGFkKF9kKCkpfSxkZGQ6ZnVuY3Rpb24gZGRkKCl7cmV0dXJuIGkxOG4uZGF5TmFtZXNbRCgpXX0sREREOmZ1bmN0aW9uIERERCgpe3JldHVybiBnZXREYXlOYW1lKHt5OnkoKSxtOl9tKCksZDpfZCgpLF86XygpLGRheU5hbWU6aTE4bi5kYXlOYW1lc1tEKCldLHNob3J0OnRydWV9KX0sZGRkZDpmdW5jdGlvbiBkZGRkKCl7cmV0dXJuIGkxOG4uZGF5TmFtZXNbRCgpKzddfSxEREREOmZ1bmN0aW9uIEREREQoKXtyZXR1cm4gZ2V0RGF5TmFtZSh7eTp5KCksbTpfbSgpLGQ6X2QoKSxfOl8oKSxkYXlOYW1lOmkxOG4uZGF5TmFtZXNbRCgpKzddfSl9LG06ZnVuY3Rpb24gbSgpe3JldHVybiBfbSgpKzF9LG1tOmZ1bmN0aW9uIG1tKCl7cmV0dXJuIHBhZChfbSgpKzEpfSxtbW06ZnVuY3Rpb24gbW1tKCl7cmV0dXJuIGkxOG4ubW9udGhOYW1lc1tfbSgpXX0sbW1tbTpmdW5jdGlvbiBtbW1tKCl7cmV0dXJuIGkxOG4ubW9udGhOYW1lc1tfbSgpKzEyXX0seXk6ZnVuY3Rpb24geXkoKXtyZXR1cm4gU3RyaW5nKHkoKSkuc2xpY2UoMil9LHl5eXk6ZnVuY3Rpb24geXl5eSgpe3JldHVybiBwYWQoeSgpLDQpfSxoOmZ1bmN0aW9uIGgoKXtyZXR1cm4gX0goKSUxMnx8MTJ9LGhoOmZ1bmN0aW9uIGhoKCl7cmV0dXJuIHBhZChfSCgpJTEyfHwxMil9LEg6ZnVuY3Rpb24gSCgpe3JldHVybiBfSCgpfSxISDpmdW5jdGlvbiBISCgpe3JldHVybiBwYWQoX0goKSl9LE06ZnVuY3Rpb24gTSgpe3JldHVybiBfTSgpfSxNTTpmdW5jdGlvbiBNTSgpe3JldHVybiBwYWQoX00oKSl9LHM6ZnVuY3Rpb24gcygpe3JldHVybiBfcygpfSxzczpmdW5jdGlvbiBzcygpe3JldHVybiBwYWQoX3MoKSl9LGw6ZnVuY3Rpb24gbCgpe3JldHVybiBwYWQoX0woKSwzKX0sTDpmdW5jdGlvbiBMKCl7cmV0dXJuIHBhZChNYXRoLmZsb29yKF9MKCkvMTApKX0sdDpmdW5jdGlvbiB0KCl7cmV0dXJuIF9IKCk8MTI/aTE4bi50aW1lTmFtZXNbMF06aTE4bi50aW1lTmFtZXNbMV19LHR0OmZ1bmN0aW9uIHR0KCl7cmV0dXJuIF9IKCk8MTI/aTE4bi50aW1lTmFtZXNbMl06aTE4bi50aW1lTmFtZXNbM119LFQ6ZnVuY3Rpb24gVCgpe3JldHVybiBfSCgpPDEyP2kxOG4udGltZU5hbWVzWzRdOmkxOG4udGltZU5hbWVzWzVdfSxUVDpmdW5jdGlvbiBUVCgpe3JldHVybiBfSCgpPDEyP2kxOG4udGltZU5hbWVzWzZdOmkxOG4udGltZU5hbWVzWzddfSxaOmZ1bmN0aW9uIFooKXtyZXR1cm4gZ210P1wiR01UXCI6dXRjP1wiVVRDXCI6Zm9ybWF0VGltZXpvbmUoZGF0ZSl9LG86ZnVuY3Rpb24gbygpe3JldHVybihfbygpPjA/XCItXCI6XCIrXCIpK3BhZChNYXRoLmZsb29yKE1hdGguYWJzKF9vKCkpLzYwKSoxMDArTWF0aC5hYnMoX28oKSklNjAsNCl9LHA6ZnVuY3Rpb24gcCgpe3JldHVybihfbygpPjA/XCItXCI6XCIrXCIpK3BhZChNYXRoLmZsb29yKE1hdGguYWJzKF9vKCkpLzYwKSwyKStcIjpcIitwYWQoTWF0aC5mbG9vcihNYXRoLmFicyhfbygpKSU2MCksMil9LFM6ZnVuY3Rpb24gUygpe3JldHVybltcInRoXCIsXCJzdFwiLFwibmRcIixcInJkXCJdW19kKCklMTA+Mz8wOihfZCgpJTEwMC1fZCgpJTEwIT0xMCkqX2QoKSUxMF19LFc6ZnVuY3Rpb24gVygpe3JldHVybiBfVygpfSxXVzpmdW5jdGlvbiBXVygpe3JldHVybiBwYWQoX1coKSl9LE46ZnVuY3Rpb24gTigpe3JldHVybiBfTigpfX07cmV0dXJuIG1hc2sucmVwbGFjZSh0b2tlbixmdW5jdGlvbihtYXRjaCl7aWYobWF0Y2ggaW4gZmxhZ3Mpe3JldHVybiBmbGFnc1ttYXRjaF0oKX1yZXR1cm4gbWF0Y2guc2xpY2UoMSxtYXRjaC5sZW5ndGgtMSl9KX1leHBvcnQgdmFyIG1hc2tzPXtkZWZhdWx0OlwiZGRkIG1tbSBkZCB5eXl5IEhIOk1NOnNzXCIsc2hvcnREYXRlOlwibS9kL3l5XCIscGFkZGVkU2hvcnREYXRlOlwibW0vZGQveXl5eVwiLG1lZGl1bURhdGU6XCJtbW0gZCwgeXl5eVwiLGxvbmdEYXRlOlwibW1tbSBkLCB5eXl5XCIsZnVsbERhdGU6XCJkZGRkLCBtbW1tIGQsIHl5eXlcIixzaG9ydFRpbWU6XCJoOk1NIFRUXCIsbWVkaXVtVGltZTpcImg6TU06c3MgVFRcIixsb25nVGltZTpcImg6TU06c3MgVFQgWlwiLGlzb0RhdGU6XCJ5eXl5LW1tLWRkXCIsaXNvVGltZTpcIkhIOk1NOnNzXCIsaXNvRGF0ZVRpbWU6XCJ5eXl5LW1tLWRkJ1QnSEg6TU06c3NvXCIsaXNvVXRjRGF0ZVRpbWU6XCJVVEM6eXl5eS1tbS1kZCdUJ0hIOk1NOnNzJ1onXCIsZXhwaXJlc0hlYWRlckZvcm1hdDpcImRkZCwgZGQgbW1tIHl5eXkgSEg6TU06c3MgWlwifTtleHBvcnQgdmFyIGkxOG49e2RheU5hbWVzOltcIlN1blwiLFwiTW9uXCIsXCJUdWVcIixcIldlZFwiLFwiVGh1XCIsXCJGcmlcIixcIlNhdFwiLFwiU3VuZGF5XCIsXCJNb25kYXlcIixcIlR1ZXNkYXlcIixcIldlZG5lc2RheVwiLFwiVGh1cnNkYXlcIixcIkZyaWRheVwiLFwiU2F0dXJkYXlcIl0sbW9udGhOYW1lczpbXCJKYW5cIixcIkZlYlwiLFwiTWFyXCIsXCJBcHJcIixcIk1heVwiLFwiSnVuXCIsXCJKdWxcIixcIkF1Z1wiLFwiU2VwXCIsXCJPY3RcIixcIk5vdlwiLFwiRGVjXCIsXCJKYW51YXJ5XCIsXCJGZWJydWFyeVwiLFwiTWFyY2hcIixcIkFwcmlsXCIsXCJNYXlcIixcIkp1bmVcIixcIkp1bHlcIixcIkF1Z3VzdFwiLFwiU2VwdGVtYmVyXCIsXCJPY3RvYmVyXCIsXCJOb3ZlbWJlclwiLFwiRGVjZW1iZXJcIl0sdGltZU5hbWVzOltcImFcIixcInBcIixcImFtXCIsXCJwbVwiLFwiQVwiLFwiUFwiLFwiQU1cIixcIlBNXCJdfTt2YXIgcGFkPWZ1bmN0aW9uIHBhZCh2YWwpe3ZhciBsZW49YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOjI7cmV0dXJuIFN0cmluZyh2YWwpLnBhZFN0YXJ0KGxlbixcIjBcIil9O3ZhciBnZXREYXlOYW1lPWZ1bmN0aW9uIGdldERheU5hbWUoX3JlZil7dmFyIHk9X3JlZi55LG09X3JlZi5tLGQ9X3JlZi5kLF89X3JlZi5fLGRheU5hbWU9X3JlZi5kYXlOYW1lLF9yZWYkc2hvcnQ9X3JlZltcInNob3J0XCJdLF9zaG9ydD1fcmVmJHNob3J0PT09dm9pZCAwP2ZhbHNlOl9yZWYkc2hvcnQ7dmFyIHRvZGF5PW5ldyBEYXRlO3ZhciB5ZXN0ZXJkYXk9bmV3IERhdGU7eWVzdGVyZGF5LnNldERhdGUoeWVzdGVyZGF5W18rXCJEYXRlXCJdKCktMSk7dmFyIHRvbW9ycm93PW5ldyBEYXRlO3RvbW9ycm93LnNldERhdGUodG9tb3Jyb3dbXytcIkRhdGVcIl0oKSsxKTt2YXIgdG9kYXlfZD1mdW5jdGlvbiB0b2RheV9kKCl7cmV0dXJuIHRvZGF5W18rXCJEYXRlXCJdKCl9O3ZhciB0b2RheV9tPWZ1bmN0aW9uIHRvZGF5X20oKXtyZXR1cm4gdG9kYXlbXytcIk1vbnRoXCJdKCl9O3ZhciB0b2RheV95PWZ1bmN0aW9uIHRvZGF5X3koKXtyZXR1cm4gdG9kYXlbXytcIkZ1bGxZZWFyXCJdKCl9O3ZhciB5ZXN0ZXJkYXlfZD1mdW5jdGlvbiB5ZXN0ZXJkYXlfZCgpe3JldHVybiB5ZXN0ZXJkYXlbXytcIkRhdGVcIl0oKX07dmFyIHllc3RlcmRheV9tPWZ1bmN0aW9uIHllc3RlcmRheV9tKCl7cmV0dXJuIHllc3RlcmRheVtfK1wiTW9udGhcIl0oKX07dmFyIHllc3RlcmRheV95PWZ1bmN0aW9uIHllc3RlcmRheV95KCl7cmV0dXJuIHllc3RlcmRheVtfK1wiRnVsbFllYXJcIl0oKX07dmFyIHRvbW9ycm93X2Q9ZnVuY3Rpb24gdG9tb3Jyb3dfZCgpe3JldHVybiB0b21vcnJvd1tfK1wiRGF0ZVwiXSgpfTt2YXIgdG9tb3Jyb3dfbT1mdW5jdGlvbiB0b21vcnJvd19tKCl7cmV0dXJuIHRvbW9ycm93W18rXCJNb250aFwiXSgpfTt2YXIgdG9tb3Jyb3dfeT1mdW5jdGlvbiB0b21vcnJvd195KCl7cmV0dXJuIHRvbW9ycm93W18rXCJGdWxsWWVhclwiXSgpfTtpZih0b2RheV95KCk9PT15JiZ0b2RheV9tKCk9PT1tJiZ0b2RheV9kKCk9PT1kKXtyZXR1cm4gX3Nob3J0P1wiVGR5XCI6XCJUb2RheVwifWVsc2UgaWYoeWVzdGVyZGF5X3koKT09PXkmJnllc3RlcmRheV9tKCk9PT1tJiZ5ZXN0ZXJkYXlfZCgpPT09ZCl7cmV0dXJuIF9zaG9ydD9cIllzZFwiOlwiWWVzdGVyZGF5XCJ9ZWxzZSBpZih0b21vcnJvd195KCk9PT15JiZ0b21vcnJvd19tKCk9PT1tJiZ0b21vcnJvd19kKCk9PT1kKXtyZXR1cm4gX3Nob3J0P1wiVG13XCI6XCJUb21vcnJvd1wifXJldHVybiBkYXlOYW1lfTt2YXIgZ2V0V2Vlaz1mdW5jdGlvbiBnZXRXZWVrKGRhdGUpe3ZhciB0YXJnZXRUaHVyc2RheT1uZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksZGF0ZS5nZXRNb250aCgpLGRhdGUuZ2V0RGF0ZSgpKTt0YXJnZXRUaHVyc2RheS5zZXREYXRlKHRhcmdldFRodXJzZGF5LmdldERhdGUoKS0odGFyZ2V0VGh1cnNkYXkuZ2V0RGF5KCkrNiklNyszKTt2YXIgZmlyc3RUaHVyc2RheT1uZXcgRGF0ZSh0YXJnZXRUaHVyc2RheS5nZXRGdWxsWWVhcigpLDAsNCk7Zmlyc3RUaHVyc2RheS5zZXREYXRlKGZpcnN0VGh1cnNkYXkuZ2V0RGF0ZSgpLShmaXJzdFRodXJzZGF5LmdldERheSgpKzYpJTcrMyk7dmFyIGRzPXRhcmdldFRodXJzZGF5LmdldFRpbWV6b25lT2Zmc2V0KCktZmlyc3RUaHVyc2RheS5nZXRUaW1lem9uZU9mZnNldCgpO3RhcmdldFRodXJzZGF5LnNldEhvdXJzKHRhcmdldFRodXJzZGF5LmdldEhvdXJzKCktZHMpO3ZhciB3ZWVrRGlmZj0odGFyZ2V0VGh1cnNkYXktZmlyc3RUaHVyc2RheSkvKDg2NGU1KjcpO3JldHVybiAxK01hdGguZmxvb3Iod2Vla0RpZmYpfTt2YXIgZ2V0RGF5T2ZXZWVrPWZ1bmN0aW9uIGdldERheU9mV2VlayhkYXRlKXt2YXIgZG93PWRhdGUuZ2V0RGF5KCk7aWYoZG93PT09MCl7ZG93PTd9cmV0dXJuIGRvd307ZXhwb3J0IHZhciBmb3JtYXRUaW1lem9uZT1mdW5jdGlvbiBmb3JtYXRUaW1lem9uZShkYXRlKXtyZXR1cm4oU3RyaW5nKGRhdGUpLm1hdGNoKHRpbWV6b25lKXx8W1wiXCJdKS5wb3AoKS5yZXBsYWNlKHRpbWV6b25lQ2xpcCxcIlwiKS5yZXBsYWNlKC9HTVRcXCswMDAwL2csXCJVVENcIil9OyIsImltcG9ydCBkYXRlRm9ybWF0LCB7IG1hc2tzIH0gZnJvbSBcImRhdGVmb3JtYXRcIjtcblxuY29uc3QgdGFza0JpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFzay1iaW5cIik7XG5jb25zdCBwcmlvcml0eUxpc3QgPSBbIFwiTi9BXCIsIFwiVW5pbXBvcnRhbnRcIiwgXCJJbXBvcnRhbnRcIiwgXCJVcmdlbnRcIiBdO1xuY29uc3QgcHJvZ3Jlc3NMaXN0ID0gWyBcIk4vQVwiLCBcIk5vdCBzdGFydGVkXCIsIFwiSW4gcHJvZ3Jlc3NcIiwgXCJDb21wbGV0ZVwiIF07XG5cbmV4cG9ydCBsZXQgZnJvemVuID0gZmFsc2U7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDYXJkKF90YXNrLCBfc3RhdGVNYW5hZ2VyKSB7XG4gICAgLy8gdGl0bGU7XG4gICAgLy8gZHVlO1xuICAgIC8vIGRlc2NyaXB0aW9uO1xuICAgIC8vIHByb2dyZXNzO1xuICAgIC8vIG5vdGVzO1xuICAgIC8vIGlkO1xuICAgIGxldCBzdXBlcnRhc2tEaXYgPSBudWxsO1xuICAgIGxldCBzdXBlcnRhc2sgPSBfdGFzay5zdXBlcnRhc2s7XG4gICAgbGV0IG5laWdoYm9ySWR4ID0gLTE7XG5cbiAgICBpZiAoX3Rhc2suc3VwZXJ0YXNrTGlzdCkge1xuICAgICAgICBuZWlnaGJvcklkeCA9IF90YXNrLnN1cGVydGFza0xpc3QuZ2V0VGFza0lkeChfdGFzaykgKyAxO1xuICAgIH1cbiAgICBcbiAgICBsZXQgbmVpZ2hib3JJZCA9IC0xO1xuICAgIGxldCBuZWlnaGJvckRpdiA9IG51bGw7XG5cbiAgICBpZiAobmVpZ2hib3JJZHggPiAwICYmIG5laWdoYm9ySWR4IDwgX3Rhc2suc3VwZXJ0YXNrTGlzdC50YXNrcy5sZW5ndGgpIHtcbiAgICAgICAgbmVpZ2hib3JJZCA9IF90YXNrLnN1cGVydGFza0xpc3QudGFza3NbbmVpZ2hib3JJZHhdLmlkO1xuICAgICAgICBuZWlnaGJvckRpdiA9IHRhc2tCaW4ucXVlcnlTZWxlY3RvcihgLnRhc2suaWQtJHtuZWlnaGJvcklkfWApO1xuICAgIH1cbiAgICBcbiAgICBpZiAoc3VwZXJ0YXNrKSB7XG4gICAgICAgIHN1cGVydGFza0RpdiA9IHRhc2tCaW4ucXVlcnlTZWxlY3RvcihgLnN1YnRhc2tzLmlkLSR7c3VwZXJ0YXNrLmlkfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHN1cGVydGFza0RpdiA9IHRhc2tCaW47XG4gICAgfVxuXG4gICAgbGV0IGluZGVudFN0ciA9IGBtYXJnaW4tbGVmdDogY2FsYyhjYWxjKHZhcigtLWNhcmQtaW5kZW50KSAqICR7X3Rhc2suZGVwdGh9KSArIGNhbGModmFyKC0tY2FyZC1tYXJnaW4pICogMC41KSlgO1xuICAgIC8vIGxldCBpbmRlbnRTdHIgPSBgbWFyZ2luLWxlZnQ6IDBweGA7XG4gICAgbGV0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNhcmQuY2xhc3NMaXN0LmFkZChcInRhc2tcIiwgYGlkLSR7X3Rhc2suaWR9YCk7XG4gICAgY2FyZC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBpbmRlbnRTdHIpO1xuXG4gICAgaWYgKF90YXNrLnNlbGVjdGVkKSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpO1xuICAgIH1cblxuICAgIGlmIChuZWlnaGJvckRpdikge1xuICAgICAgICBuZWlnaGJvckRpdi5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJiZWZvcmViZWdpblwiLCBjYXJkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzdXBlcnRhc2tEaXYuYXBwZW5kQ2hpbGQoY2FyZCk7XG4gICAgfVxuICAgIFxuICAgIGxldCBoRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBoRGl2LmNsYXNzTGlzdC5hZGQoXCJjYXJkLWhlYWRlci1kaXZcIik7XG4gICAgY2FyZC5hcHBlbmRDaGlsZChoRGl2KTtcblxuICAgIGxldCB0aXRsZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGl0bGVDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImNhcmQtdGl0bGUtY29udGFpbmVyXCIpO1xuICAgIGhEaXYuYXBwZW5kQ2hpbGQodGl0bGVDb250YWluZXIpO1xuXG4gICAgaWYgKF90YXNrLnByaW9yaXR5KSB7XG4gICAgICAgIHRpdGxlQ29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZVByaW9yaXR5U3ZnKF90YXNrLnByaW9yaXR5KSk7XG4gICAgfVxuXG4gICAgaWYgKF90YXNrLnByb2dyZXNzKSB7XG4gICAgICAgIHRpdGxlQ29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZVByb2dyZXNzU3ZnKF90YXNrLnByb2dyZXNzKSk7XG4gICAgfVxuXG4gICAgbGV0IGgyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgIGgyLnRleHRDb250ZW50ID0gX3Rhc2sudGl0bGU7XG4gICAgaDIuY2xhc3NMaXN0LmFkZChcImNhcmQtdGl0bGVcIiwgXCJjYXJkLWVkaXRhYmxlXCIpO1xuICAgIHRpdGxlQ29udGFpbmVyLmFwcGVuZENoaWxkKGgyKTtcblxuICAgIGxldCBzdmcgPSBjcmVhdGVTdmcoXCJNMTIsMkM2LjQ3LDIgMiw2LjQ3IDIsMTJDMiwxNy41MyA2LjQ3LDIyIDEyLDIyQzE3LjUzLDIyIDIyLDE3LjUzIDIyLDEyQzIyLDYuNDcgMTcuNTMsMiAxMiwyTTE1LjEsNy4wN0MxNS4yNCw3LjA3IDE1LjM4LDcuMTIgMTUuNSw3LjIzTDE2Ljc3LDguNUMxNyw4LjcyIDE3LDkuMDcgMTYuNzcsOS4yOEwxNS43NywxMC4yOEwxMy43Miw4LjIzTDE0LjcyLDcuMjNDMTQuODIsNy4xMiAxNC45Niw3LjA3IDE1LjEsNy4wN00xMy4xMyw4LjgxTDE1LjE5LDEwLjg3TDkuMTMsMTYuOTNINy4wN1YxNC44N0wxMy4xMyw4LjgxWlwiLCBcbiAgICAgICAgXCJFZGl0IHRhc2tcIiwgdHJ1ZSk7XG4gICAgc3ZnLmNsYXNzTGlzdC5hZGQoXCJlZGl0LXRhc2staW1nXCIpO1xuICAgIGhEaXYuYXBwZW5kQ2hpbGQoc3ZnKTtcblxuICAgIGlmIChfdGFzay5kdWVEYXRlKSB7XG4gICAgICAgIGxldCBkdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZHVlRGF0ZS50ZXh0Q29udGVudCA9IGAke2RhdGVGb3JtYXQoX3Rhc2suZHVlRGF0ZSwgXCJkZGRkLCBtbW1tIGRTLCB5eXl5XCIpfWA7XG4gICAgICAgIC8vZHVlRGF0ZS50ZXh0Q29udGVudCA9IGAke190YXNrLmR1ZURhdGV9YDtcbiAgICAgICAgZHVlRGF0ZS5jbGFzc0xpc3QuYWRkKFwiY2FyZC1kdWUtZGF0ZVwiLCBcImNhcmQtZWRpdGFibGVcIik7XG4gICAgICAgIGhEaXYuYXBwZW5kQ2hpbGQoZHVlRGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKF90YXNrLmR1ZVRpbWUpIHtcbiAgICAgICAgbGV0IGR1ZVRpbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBkdWVUaW1lLnRleHRDb250ZW50ID0gYCR7ZGF0ZUZvcm1hdChfdGFzay5kdWVUaW1lLCBcImg6TU0gVFRcIil9YDtcbiAgICAgICAgLy9kdWVUaW1lLnRleHRDb250ZW50ID0gYCR7X3Rhc2suZHVlVGltZX1gO1xuICAgICAgICBkdWVUaW1lLmNsYXNzTGlzdC5hZGQoXCJjYXJkLWR1ZS10aW1lXCIsIFwiY2FyZC1lZGl0YWJsZVwiKTtcbiAgICAgICAgaERpdi5hcHBlbmRDaGlsZChkdWVUaW1lKTtcbiAgICB9XG5cbiAgICBsZXQgdGFza0V4cGFuZFN2ZyA9IGNyZWF0ZVN2ZyhcIlwiLCBcIkV4cGFuZFwiLCB0cnVlKTtcbiAgICB0YXNrRXhwYW5kU3ZnLmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWV4cGFuZC1pbWdcIik7XG4gICAgaERpdi5hcHBlbmRDaGlsZCh0YXNrRXhwYW5kU3ZnKTtcblxuICAgIGlmICghX3Rhc2suaGFzQ29udGVudCgpKSB7XG4gICAgICAgIHRhc2tFeHBhbmRTdmcuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICB9XG5cbiAgICBsZXQgdGFza0V4cGFuZFBhdGggPSB0YXNrRXhwYW5kU3ZnLnF1ZXJ5U2VsZWN0b3IoXCJwYXRoOm5vdCguYmctaW1nKVwiKTtcbiAgICB1cGRhdGVUYXNrRXhwYW5kVmlldyh0YXNrRXhwYW5kUGF0aCwgY2FyZCwgX3Rhc2spO1xuXG4gICAgLy8gbGV0IHNwYWNlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgLy8gc3BhY2VyLmNsYXNzTGlzdC5hZGQoXCJjYXJkLXNwYWNlclwiLCBcImNhcmQtY29udGVudFwiKTtcbiAgICAvLyBjYXJkLmFwcGVuZENoaWxkKHNwYWNlcik7XG5cbiAgICAvL2lmIChfdGFzay5wcmlvcml0eSA+IDAgfHwgX3Rhc2sucHJvZ3Jlc3MgPiAwIHx8IF90YXNrLnVzZVByb2dyZXNzRnJvbVN1YnRhc2tzKSB7XG4gICAgaWYgKF90YXNrLnByaW9yaXR5ID4gMCB8fCBfdGFzay5wcm9ncmVzcyA+IDApIHtcbiAgICAgICAgbGV0IGluZm9Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBpbmZvQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJpbmZvLWNvbnRhaW5lclwiKTtcbiAgICAgICAgY2FyZC5hcHBlbmRDaGlsZChpbmZvQ29udGFpbmVyKTtcblxuICAgICAgICBpZiAoX3Rhc2sucHJpb3JpdHkgPiAwKSB7XG4gICAgICAgICAgICBsZXQgcHJpb3JpdHlDb250YWluZXIgPSBjcmVhdGVDYXJkQ29udGFpbmVyKFsgXCJjYXJkLWNvbnRhaW5lclwiIF0pO1xuICAgICAgICAgICAgaW5mb0NvbnRhaW5lci5hcHBlbmRDaGlsZChwcmlvcml0eUNvbnRhaW5lcik7XG4gICAgXG4gICAgICAgICAgICBsZXQgcHJpb3JpdHlMYWJlbCA9IGNyZWF0ZUNhcmRDb250YWluZXJMYWJlbChcIlByaW9yaXR5XCIsIFsgXCJjYXJkLWxhYmVsXCIgXSk7XG4gICAgICAgICAgICBwcmlvcml0eUNvbnRhaW5lci5hcHBlbmRDaGlsZChwcmlvcml0eUxhYmVsKTtcblxuICAgICAgICAgICAgbGV0IHByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIHByaW9yaXR5LnRleHRDb250ZW50ID0gcHJpb3JpdHlMaXN0W190YXNrLnByaW9yaXR5XTtcbiAgICAgICAgICAgIHByaW9yaXR5LmNsYXNzTGlzdC5hZGQoXCJjYXJkLXByaW9yaXR5XCIsIFwiY2FyZC1lZGl0YWJsZVwiKTtcbiAgICAgICAgICAgIHByaW9yaXR5Q29udGFpbmVyLmFwcGVuZENoaWxkKHByaW9yaXR5KTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBpZiAoX3Rhc2sucHJvZ3Jlc3MgPiAwIHx8IF90YXNrLnVzZVByb2dyZXNzRnJvbVN1YnRhc2tzKSB7XG4gICAgICAgICAgICBsZXQgcHJvZ3Jlc3NDb250YWluZXIgPSBjcmVhdGVDYXJkQ29udGFpbmVyKFsgXCJjYXJkLWNvbnRhaW5lclwiIF0pO1xuICAgICAgICAgICAgaW5mb0NvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9ncmVzc0NvbnRhaW5lcik7XG4gICAgXG4gICAgICAgICAgICBsZXQgcHJvZ3Jlc3NMYWJlbCA9IGNyZWF0ZUNhcmRDb250YWluZXJMYWJlbChcIlByb2dyZXNzXCIsIFsgXCJjYXJkLWxhYmVsXCIgXSk7XG4gICAgICAgICAgICBwcm9ncmVzc0NvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9ncmVzc0xhYmVsKTtcblxuICAgICAgICAgICAgbGV0IHByb2cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgcHJvZy50ZXh0Q29udGVudCA9IHByb2dyZXNzTGlzdFtfdGFzay5wcm9ncmVzc107XG5cbiAgICAgICAgICAgIGlmIChfdGFzay51c2VQcm9ncmVzc0Zyb21TdWJ0YXNrcykge1xuICAgICAgICAgICAgICAgIHByb2cudGV4dENvbnRlbnQgKz0gXCIgKGZyb20gc3VidGFza3MpXCI7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgcHJvZy5jbGFzc0xpc3QuYWRkKFwiY2FyZC1wcm9ncmVzc1wiLCBcImNhcmQtZWRpdGFibGVcIik7XG4gICAgICAgICAgICBwcm9ncmVzc0NvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChfdGFzay5kZXNjcmlwdGlvbi5sZW5ndGgpIHtcbiAgICAgICAgbGV0IGRlc2NDb250YWluZXIgPSBjcmVhdGVDYXJkQ29udGFpbmVyKFsgXCJjYXJkLWNvbnRhaW5lclwiIF0pO1xuICAgICAgICBjYXJkLmFwcGVuZENoaWxkKGRlc2NDb250YWluZXIpO1xuXG4gICAgICAgIGxldCBkZXNjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZGVzYy50ZXh0Q29udGVudCA9IF90YXNrLmRlc2NyaXB0aW9uO1xuICAgICAgICBkZXNjLmNsYXNzTGlzdC5hZGQoXCJjYXJkLWRlc2NyaXB0aW9uXCIsIFwiY2FyZC1jb250ZW50XCIsIFwiY2FyZC1lZGl0YWJsZVwiKTtcbiAgICAgICAgZGVzY0NvbnRhaW5lci5hcHBlbmRDaGlsZChkZXNjKTtcblxuICAgICAgICBsZXQgZGVzY0xhYmVsID0gY3JlYXRlQ2FyZENvbnRhaW5lckxhYmVsKFwiQWJvdXRcIiwgWyBcImNhcmQtbGFiZWxcIiBdKTtcbiAgICAgICAgZGVzY0NvbnRhaW5lci5hcHBlbmRDaGlsZChkZXNjTGFiZWwpO1xuICAgIH1cblxuICAgIGlmIChfdGFzay5ub3Rlcy5sZW5ndGgpIHtcbiAgICAgICAgbGV0IG5vdGVzQ29udGFpbmVyID0gY3JlYXRlQ2FyZENvbnRhaW5lcihbIFwiY2FyZC1jb250YWluZXJcIiBdKTtcbiAgICAgICAgY2FyZC5hcHBlbmRDaGlsZChub3Rlc0NvbnRhaW5lcik7XG5cbiAgICAgICAgbGV0IG5vdGVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbm90ZXMudGV4dENvbnRlbnQgPSBfdGFzay5ub3RlcztcbiAgICAgICAgbm90ZXMuY2xhc3NMaXN0LmFkZChcImNhcmQtbm90ZXNcIiwgXCJjYXJkLWNvbnRlbnRcIiwgXCJjYXJkLWVkaXRhYmxlXCIpO1xuICAgICAgICBub3Rlc0NvbnRhaW5lci5hcHBlbmRDaGlsZChub3Rlcyk7XG5cbiAgICAgICAgbGV0IG5vdGVzTGFiZWwgPSBjcmVhdGVDYXJkQ29udGFpbmVyTGFiZWwoXCJOb3Rlc1wiLCBbIFwiY2FyZC1sYWJlbFwiIF0pO1xuICAgICAgICBub3Rlc0NvbnRhaW5lci5hcHBlbmRDaGlsZChub3Rlc0xhYmVsKTtcbiAgICB9XG5cbiAgICBsZXQgc3VidGFza3MgPSB0YXNrQmluLnF1ZXJ5U2VsZWN0b3IoYC5zdWJ0YXNrcy5pZC0ke190YXNrLmlkfWApO1xuXG4gICAgaWYgKCFzdWJ0YXNrcykge1xuICAgICAgICBzdWJ0YXNrcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIC8vc3VwZXJ0YXNrRGl2LmFwcGVuZENoaWxkKHN1YnRhc2tzKTtcbiAgICAgICAgY2FyZC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmVuZFwiLCBzdWJ0YXNrcyk7XG4gICAgICAgIHN1YnRhc2tzLmNsYXNzTGlzdC5hZGQoXCJzdWJ0YXNrc1wiLCBgaWQtJHtfdGFzay5pZH1gKTtcblxuICAgICAgICBsZXQgc3VidGFza3NIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAvLyBzdWJ0YXNrc0hlYWRlci50ZXh0Q29udGVudCA9IGAke190YXNrLnN1YnRhc2tzLmxlbmd0aH0gc3VidGFza3NgO1xuICAgICAgICBzdWJ0YXNrc0hlYWRlci5jbGFzc0xpc3QuYWRkKFwic3VidGFza3MtaGVhZGVyXCIsIGBpZC0ke190YXNrLmlkfWApO1xuICAgICAgICBzdWJ0YXNrc0hlYWRlci5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBpbmRlbnRTdHIpXG4gICAgICAgIHN1YnRhc2tzLmFwcGVuZENoaWxkKHN1YnRhc2tzSGVhZGVyKTtcblxuICAgICAgICBsZXQgc3VidGFza3NQbHVzU3ZnID0gY3JlYXRlU3ZnKFwiXCIsIFwiU3VidGFza3NcIiwgdHJ1ZSk7XG4gICAgICAgIHN1YnRhc2tzUGx1c1N2Zy5jbGFzc0xpc3QuYWRkKFwic3VidGFza3MtcGx1cy1pbWdcIik7XG4gICAgICAgIHN1YnRhc2tzSGVhZGVyLmFwcGVuZENoaWxkKHN1YnRhc2tzUGx1c1N2Zyk7XG5cbiAgICAgICAgbGV0IHN1YnRhc2tzUGx1c1BhdGggPSBzdWJ0YXNrc1BsdXNTdmcucXVlcnlTZWxlY3RvcihcInBhdGg6bm90KC5iZy1pbWcpXCIpO1xuICAgICAgICBzZXRTdWJ0YXNrRXhwYW5kVmlldyhfdGFzay5zdWJ0YXNrTGlzdC5leHBhbmRlZCwgc3VidGFza3MsIF90YXNrLCBmYWxzZSk7XG5cbiAgICAgICAgbGV0IHN1YnRhc2tzVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHN1YnRhc2tzVGV4dC5jbGFzc0xpc3QuYWRkKFwic3VidGFza3MtdGV4dFwiLCBgaWQtJHtfdGFzay5pZH1gKTtcbiAgICAgICAgc3VidGFza3NIZWFkZXIuYXBwZW5kQ2hpbGQoc3VidGFza3NUZXh0KTtcbiAgICAgICAgXG4gICAgICAgIHN1YnRhc2tzVGV4dC50ZXh0Q29udGVudCA9IGAke190YXNrLnN1YnRhc2tzLmxlbmd0aH0gXG4gICAgICAgICAgICAke190YXNrLnN1YnRhc2tzLmxlbmd0aCA9PSAxID8gXCJzdWJ0YXNrXCIgOiBcInN1YnRhc2tzXCJ9YDtcblxuICAgICAgICBpZiAoIV90YXNrLnN1YnRhc2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgc3VidGFza3NIZWFkZXIuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1YnRhc2tzSGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdWJ0YXNrc1BsdXNTdmcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIF9ldmVudCA9PiB7XG4gICAgICAgIHN1YnRhc2tzSGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBfZXZlbnQgPT4ge1xuICAgICAgICAgICAgaWYgKF9zdGF0ZU1hbmFnZXIuY3VycmVudGx5RWRpdGluZykgcmV0dXJuO1xuXG4gICAgICAgICAgICBfdGFzay5zdWJ0YXNrTGlzdC5leHBhbmRlZCA9ICFfdGFzay5zdWJ0YXNrTGlzdC5leHBhbmRlZDtcbiAgICAgICAgICAgIHNldFN1YnRhc2tFeHBhbmRWaWV3KF90YXNrLnN1YnRhc2tMaXN0LmV4cGFuZGVkLCBzdWJ0YXNrcywgX3Rhc2ssIFxuICAgICAgICAgICAgICAgIF9zdGF0ZU1hbmFnZXIuc2VsZWN0aW9uQWRkVG8pO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzdWJ0YXNrcy5yZW1vdmUoKTtcbiAgICAgICAgY2FyZC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmVuZFwiLCBzdWJ0YXNrcyk7XG4gICAgICAgIGxldCBzdWJ0YXNrc0hlYWRlciA9IHN1YnRhc2tzLnF1ZXJ5U2VsZWN0b3IoXCIuc3VidGFza3MtaGVhZGVyXCIpO1xuICAgICAgICBsZXQgc3VidGFza3NUZXh0ID0gc3VidGFza3MucXVlcnlTZWxlY3RvcihcIi5zdWJ0YXNrcy10ZXh0XCIpO1xuICAgICAgICBcbiAgICAgICAgc3VidGFza3NUZXh0LnRleHRDb250ZW50ID0gYCR7X3Rhc2suc3VidGFza3MubGVuZ3RofSBcbiAgICAgICAgICAgICR7X3Rhc2suc3VidGFza3MubGVuZ3RoID09IDEgPyBcInN1YnRhc2tcIiA6IFwic3VidGFza3NcIn1gO1xuXG4gICAgICAgIGlmICghX3Rhc2suc3VidGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgICBzdWJ0YXNrc0hlYWRlci5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3VidGFza3NIZWFkZXIuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vZXhwYW5kQ2FyZChfdGFzaywgY2FyZCk7XG4gICAgLy9leHBhbmRDYXJkKF90YXNrLCBzdWJ0YXNrcyk7XG5cbiAgICB0YXNrRXhwYW5kU3ZnLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBfZXZlbnQgPT4ge1xuICAgICAgICBpZiAoX3N0YXRlTWFuYWdlci5jdXJyZW50bHlFZGl0aW5nKSByZXR1cm47XG4gICAgICAgIF90YXNrLmV4cGFuZGVkID0gIV90YXNrLmV4cGFuZGVkO1xuICAgICAgICB1cGRhdGVUYXNrRXhwYW5kVmlldyh0YXNrRXhwYW5kUGF0aCwgY2FyZCwgX3Rhc2spO1xuICAgIH0pO1xuXG4gICAgaERpdi5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIF9lID0+IHtcbiAgICAgICAgbGV0IHVuZGVyTW91c2UgPSBkb2N1bWVudC5lbGVtZW50c0Zyb21Qb2ludChfZS5jbGllbnRYLCBfZS5jbGllbnRZKTtcblxuICAgICAgICBmb3IgKGxldCBfZWxlbSBvZiB1bmRlck1vdXNlKSB7XG4gICAgICAgICAgICAvLyBEaXNyZWdhcmQgcG9zaXRpb25zIHRoYXQgYWxzbyBpbnRlcnNlY3QgdGhlIGV4cGFuZCBidXR0b24uXG4gICAgICAgICAgICBpZiAoX2VsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwidGFzay1leHBhbmQtaW1nXCIpKSB7XG4gICAgICAgICAgICAgICAgaERpdi5jbGFzc0xpc3QucmVtb3ZlKFwiaG92ZXItcG9zc2libGVcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaERpdi5jbGFzc0xpc3QuYWRkKFwiaG92ZXItcG9zc2libGVcIik7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcblxuICAgIHN2Zy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgX2V2ZW50ID0+IHtcbiAgICAgICAgLy8gQmVjYXVzZSBtb3VzZW92ZXIgZG9lc24ndCBleGlzdCBvbiBhIHRvdWNoc2NyZWVuLCB0aGUgZWRpdCBidXR0b24gaXNcbiAgICAgICAgLy8gcmV2ZWFsZWQgb25jZSB0aGUgdXNlciBoYXMgdGFwcGVkIHRoZSB0YXNrJ3MgaGVhZGVyIGFuZCBjYW4gb25seSBiZVxuICAgICAgICAvLyBhY3RpdmF0ZWQgb25jZSByZXZlYWxlZC4gSS5lLiB0aGUgYnV0dG9uIGNhbiBvbmx5IGJlIGNsaWNrZWQgaWYgdGhlXG4gICAgICAgIC8vIHNlY29uZC10by1sYXN0IHRvdWNoIHdhcyBvbiB0aGUgYnV0dG9uJ3MgdGFzaydzIGhlYWRlci5cbiAgICAgICAgaWYgKF9ldmVudC5wb2ludGVyVHlwZSA9PSBcInRvdWNoXCIpIHtcbiAgICAgICAgICAgIGlmIChfdGFzay5zZWxlY3RlZCAmJiBfc3RhdGVNYW5hZ2VyLnRvdWNoLnRvdWNoZWRJZFswXSA9PSBfdGFzay5pZCkge1xuICAgICAgICAgICAgICAgIGNyZWF0ZUlucHV0Qm94KF90YXNrLCBfc3RhdGVNYW5hZ2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNyZWF0ZUlucHV0Qm94KF90YXNrLCBfc3RhdGVNYW5hZ2VyKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGFzazogY2FyZCxcbiAgICAgICAgc3VidGFza3M6IHN1YnRhc2tzXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlVGFza0V4cGFuZFZpZXcoX3N2Z1BhdGgsIF9jYXJkLCBfdGFzaykge1xuICAgIGV4cGFuZENhcmQoX3Rhc2ssIF9jYXJkKTtcbiAgICBcbiAgICBpZiAoX3Rhc2suZXhwYW5kZWQpIHtcbiAgICAgICAgX3N2Z1BhdGguc2V0QXR0cmlidXRlKFwiZFwiLCBcIk0xMiwyMkExMCwxMCAwIDAsMSAyLDEyQTEwLDEwIDAgMCwxIDEyLDJBMTAsMTAgMCAwLDEgMjIsMTJBMTAsMTAgMCAwLDEgMTIsMjJNMTcsMTRMMTIsOUw3LDE0SDE3WlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBfc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJkXCIsIFwiTTEyLDJBMTAsMTAgMCAwLDEgMjIsMTJBMTAsMTAgMCAwLDEgMTIsMjJBMTAsMTAgMCAwLDEgMiwxMkExMCwxMCAwIDAsMSAxMiwyTTcsMTBMMTIsMTVMMTcsMTBIN1pcIik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRTdWJ0YXNrRXhwYW5kVmlldyhfZXhwYW5kZWQsIF9jYXJkLCBfdGFzaywgX3JlY3Vyc2l2ZSkge1xuICAgIGxldCBzdWJ0YXNrc1BsdXNQYXRoID0gX2NhcmQucXVlcnlTZWxlY3RvcihcIi5zdWJ0YXNrcy1wbHVzLWltZyA+IHBhdGg6bm90KC5iZy1pbWcpXCIpO1xuICAgIF90YXNrLnN1YnRhc2tMaXN0LmV4cGFuZGVkID0gX2V4cGFuZGVkO1xuICAgIGV4cGFuZENhcmQoX3Rhc2suc3VidGFza0xpc3QsIF9jYXJkKTtcbiAgICBcbiAgICBpZiAoX3Rhc2suc3VidGFza0xpc3QuZXhwYW5kZWQpIHtcbiAgICAgICAgc3VidGFza3NQbHVzUGF0aC5zZXRBdHRyaWJ1dGUoXCJkXCIsIFwiTTE3LDEzSDdWMTFIMTdNMTIsMkExMCwxMCAwIDAsMCAyLDEyQTEwLDEwIDAgMCwwIDEyLDIyQTEwLDEwIDAgMCwwIDIyLDEyQTEwLDEwIDAgMCwwIDEyLDJaXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHN1YnRhc2tzUGx1c1BhdGguc2V0QXR0cmlidXRlKFwiZFwiLCBcIk0xNywxM0gxM1YxN0gxMVYxM0g3VjExSDExVjdIMTNWMTFIMTdNMTIsMkExMCwxMCAwIDAsMCAyLDEyQTEwLDEwIDAgMCwwIDEyLDIyQTEwLDEwIDAgMCwwIDIyLDEyQTEwLDEwIDAgMCwwIDEyLDJaXCIpO1xuICAgIH1cblxuICAgIGlmIChfcmVjdXJzaXZlKSB7XG4gICAgICAgIGZvciAobGV0IHRhc2sgb2YgX3Rhc2suc3VidGFza0xpc3QudGFza3MpIHtcbiAgICAgICAgICAgIGxldCBzdWJjYXJkID0gX2NhcmQucXVlcnlTZWxlY3RvcihgLnN1YnRhc2tzLmlkLSR7dGFzay5pZH1gKTtcbiAgICAgICAgICAgIHNldFN1YnRhc2tFeHBhbmRWaWV3KF9leHBhbmRlZCwgc3ViY2FyZCwgdGFzaywgX3JlY3Vyc2l2ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmcmVlemUoKSB7XG4gICAgZnJvemVuID0gdHJ1ZTtcbiAgICB0YXNrQmluLmNsYXNzTGlzdC5hZGQoXCJmcmVlemVcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0aGF3KCkge1xuICAgIGZyb3plbiA9IGZhbHNlO1xuICAgIHRhc2tCaW4uY2xhc3NMaXN0LnJlbW92ZShcImZyZWV6ZVwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChfdGFza0lkKSB7XG4gICAgbGV0IGNhcmQgPSB0YXNrQmluLnF1ZXJ5U2VsZWN0b3IoYC50YXNrLmlkLSR7X3Rhc2tJZH1gKTtcblxuICAgIGlmIChjYXJkKSB7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuc2VsZWN0KF90YXNrSWQpIHtcbiAgICBsZXQgY2FyZCA9IHRhc2tCaW4ucXVlcnlTZWxlY3RvcihgLnRhc2suaWQtJHtfdGFza0lkfWApO1xuXG4gICAgaWYgKGNhcmQpIHtcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWN0ZWRcIik7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGFza0lkQXRQb3MoX2NsaWVudFgsIF9jbGllbnRZKSB7XG4gICAgbGV0IHVuZGVyTW91c2UgPSBkb2N1bWVudC5lbGVtZW50c0Zyb21Qb2ludChfY2xpZW50WCwgX2NsaWVudFkpO1xuICAgIGxldCB0YXNrRm91bmQgPSBmYWxzZVxuICAgIGxldCBpZCA9IC0xO1xuXG4gICAgZm9yIChsZXQgX2VsZW0gb2YgdW5kZXJNb3VzZSkge1xuICAgICAgICAvLyBEaXNyZWdhcmQgcG9zaXRpb25zIHRoYXQgYWxzbyBpbnRlcnNlY3QgdGhlIGV4cGFuZCBidXR0b24uXG4gICAgICAgIGlmIChfZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoXCJ0YXNrXCIpKSB7XG4gICAgICAgICAgICBsZXQgaWRQb3MgPSBfZWxlbS5jbGFzc05hbWUuaW5kZXhPZihcImlkLVwiKTtcbiAgICAgICAgICAgIGxldCBpZEVuZCA9IF9lbGVtLmNsYXNzTmFtZS5pbmRleE9mKFwiIFwiLCBpZFBvcyk7XG4gICAgICAgICAgICBpZiAoaWRFbmQgPCAwKSBpZEVuZCA9IF9lbGVtLmNsYXNzTmFtZS5sZW5ndGg7XG4gICAgICAgICAgICB0YXNrRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgaWQgPSBOdW1iZXIoX2VsZW0uY2xhc3NOYW1lLnNsaWNlKGlkUG9zICsgMywgaWRFbmQpKTtcbiAgICAgICAgfSBlbHNlIGlmIChfZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoXCJ0YXNrLWV4cGFuZC1pbWdcIikpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAodGFza0ZvdW5kKSB7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVDYXJkQ29udGFpbmVyKF9jbGFzc2VzKSB7XG4gICAgbGV0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoLi4uX2NsYXNzZXMpO1xuICAgIHJldHVybiBjb250YWluZXI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmRDb250YWluZXJMYWJlbChfdGV4dCwgX2NsYXNzZXMpIHtcbiAgICBsZXQgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGxhYmVsLnRleHRDb250ZW50ID0gX3RleHQ7XG4gICAgbGFiZWwuY2xhc3NMaXN0LmFkZCguLi5fY2xhc3Nlcyk7XG4gICAgcmV0dXJuIGxhYmVsO1xufVxuXG5mdW5jdGlvbiBleHBhbmRDYXJkKF90YXNrLCBfZGl2KSB7XG4gICAgaWYgKF90YXNrLmV4cGFuZGVkKSB7XG4gICAgICAgIF9kaXYuY2xhc3NMaXN0LnJlbW92ZShcImNvbGxhcHNlZFwiKTtcbiAgICAgICAgX2Rpdi5jbGFzc0xpc3QuYWRkKFwiZXhwYW5kZWRcIik7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIF9kaXYuY2xhc3NMaXN0LnJlbW92ZShcImV4cGFuZGVkXCIpO1xuICAgIF9kaXYuY2xhc3NMaXN0LmFkZChcImNvbGxhcHNlZFwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUlucHV0Qm94KF90YXNrLCBfc3RhdGVNYW5hZ2VyKSB7XG4gICAgaWYgKF9zdGF0ZU1hbmFnZXIuY3VycmVudGx5RWRpdGluZykgcmV0dXJuO1xuICAgIGZyZWV6ZSgpO1xuICAgIGxldCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIik7XG4gICAgbGV0IGNhcmQgPSBib2R5LnF1ZXJ5U2VsZWN0b3IoYC50YXNrLmlkLSR7X3Rhc2suaWR9YCk7XG4gICAgY2FyZC5jbGFzc0xpc3QuYWRkKFwiZWRpdGluZ1wiKTtcblxuICAgIF90YXNrLmN1cnJlbnRseUVkaXRpbmcgPSB0cnVlO1xuICAgIF9zdGF0ZU1hbmFnZXIuY3VycmVudGx5RWRpdGluZyA9IHRydWU7XG5cbiAgICAvLyBsZXQgY2FyZFNwYWNlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgLy8gY2FyZFNwYWNlci5jbGFzc0xpc3QuYWRkKFwiY2FyZC1zcGFjZXJcIilcbiAgICAvLyBfYm9keS5hcHBlbmRDaGlsZChjYXJkU3BhY2VyKTtcblxuICAgIGxldCBjYXJkSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNhcmRJbnB1dC5jbGFzc0xpc3QuYWRkKFwiY2FyZC1pbnB1dFwiKTtcbiAgICBib2R5LmFwcGVuZENoaWxkKGNhcmRJbnB1dCk7XG5cbiAgICBsZXQgdGl0bGVGaWVsZENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGl0bGVGaWVsZENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZmllbGQtY29udGFpbmVyXCIpO1xuICAgIGNhcmRJbnB1dC5hcHBlbmRDaGlsZCh0aXRsZUZpZWxkQ29udGFpbmVyKTtcblxuICAgIGxldCB0aXRsZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIHRpdGxlTGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwiaW5wdXQtdGl0bGVcIik7XG4gICAgdGl0bGVMYWJlbC50ZXh0Q29udGVudCA9IFwiVGFzayBuYW1lXCI7XG4gICAgdGl0bGVGaWVsZENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aXRsZUxhYmVsKTtcblxuICAgIGxldCB0aXRsZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIHRpdGxlSW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gICAgdGl0bGVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIFwiaW5wdXQtdGl0bGVcIik7XG4gICAgdGl0bGVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImlucHV0LXRpdGxlXCIpO1xuICAgIHRpdGxlSW5wdXQuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgX3Rhc2sudGl0bGUpO1xuICAgIHRpdGxlRmllbGRDb250YWluZXIuYXBwZW5kQ2hpbGQodGl0bGVJbnB1dCk7XG4gICAgdGl0bGVJbnB1dC5mb2N1cygpO1xuICAgIHRpdGxlSW5wdXQuc2V0U2VsZWN0aW9uUmFuZ2UodGl0bGVJbnB1dC52YWx1ZS5sZW5ndGgsIHRpdGxlSW5wdXQudmFsdWUubGVuZ3RoKTtcblxuICAgIGxldCBkdWVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGR1ZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZHVlLWNvbnRhaW5lclwiLCBcImlucHV0LWNvbnRhaW5lclwiKTtcbiAgICBjYXJkSW5wdXQuYXBwZW5kQ2hpbGQoZHVlQ29udGFpbmVyKTtcblxuICAgIGxldCBkYXRlRmllbGRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRhdGVGaWVsZENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZmllbGQtY29udGFpbmVyXCIpO1xuICAgIGR1ZUNvbnRhaW5lci5hcHBlbmRDaGlsZChkYXRlRmllbGRDb250YWluZXIpO1xuXG4gICAgbGV0IGRhdGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICBkYXRlTGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwiaW5wdXQtZGF0ZVwiKTtcbiAgICBkYXRlTGFiZWwudGV4dENvbnRlbnQgPSBcIkR1ZSBkYXRlXCI7XG4gICAgZGF0ZUZpZWxkQ29udGFpbmVyLmFwcGVuZENoaWxkKGRhdGVMYWJlbCk7XG5cbiAgICBsZXQgZGF0ZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGRhdGVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiZGF0ZVwiKTtcbiAgICBkYXRlSW5wdXQuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcImlucHV0LWRhdGVcIik7XG4gICAgZGF0ZUlucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiaW5wdXQtZGF0ZVwiKTtcbiAgICBkYXRlSW5wdXQuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgX3Rhc2suZHVlRGF0ZVN0cik7XG4gICAgZGF0ZUZpZWxkQ29udGFpbmVyLmFwcGVuZENoaWxkKGRhdGVJbnB1dCk7XG5cbiAgICBsZXQgdGltZUZpZWxkQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aW1lRmllbGRDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImZpZWxkLWNvbnRhaW5lclwiKTtcbiAgICBkdWVDb250YWluZXIuYXBwZW5kQ2hpbGQodGltZUZpZWxkQ29udGFpbmVyKTtcblxuICAgIGxldCB0aW1lTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgdGltZUxhYmVsLnNldEF0dHJpYnV0ZShcImZvclwiLCBcImlucHV0LXRpbWVcIik7XG4gICAgdGltZUxhYmVsLnRleHRDb250ZW50ID0gXCJEdWUgdGltZVwiO1xuICAgIHRpbWVGaWVsZENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aW1lTGFiZWwpO1xuXG4gICAgbGV0IHRpbWVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICB0aW1lSW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRpbWVcIik7XG4gICAgdGltZUlucHV0LnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJpbnB1dC10aW1lXCIpO1xuICAgIHRpbWVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImlucHV0LXRpbWVcIik7XG4gICAgdGltZUlucHV0LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIF90YXNrLmR1ZVRpbWVTdHIpO1xuICAgIHRpbWVGaWVsZENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aW1lSW5wdXQpO1xuXG4gICAgbGV0IGRlc2NGaWVsZENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZGVzY0ZpZWxkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJmaWVsZC1jb250YWluZXJcIik7XG4gICAgY2FyZElucHV0LmFwcGVuZENoaWxkKGRlc2NGaWVsZENvbnRhaW5lcik7XG5cbiAgICBsZXQgZGVzY0xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIGRlc2NMYWJlbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgXCJpbnB1dC1kZXNjXCIpO1xuICAgIGRlc2NMYWJlbC50ZXh0Q29udGVudCA9IFwiRGVzY3JpcHRpb25cIjtcbiAgICBkZXNjRmllbGRDb250YWluZXIuYXBwZW5kQ2hpbGQoZGVzY0xhYmVsKTtcblxuICAgIGxldCBkZXNjSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7XG4gICAgZGVzY0lucHV0LnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJpbnB1dC1kZXNjXCIpO1xuICAgIGRlc2NJbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImlucHV0LWRlc2NcIik7XG4gICAgZGVzY0lucHV0LnRleHRDb250ZW50ID0gX3Rhc2suZGVzY3JpcHRpb247XG4gICAgZGVzY0ZpZWxkQ29udGFpbmVyLmFwcGVuZENoaWxkKGRlc2NJbnB1dCk7XG5cbiAgICBsZXQgcmFkaW9Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHJhZGlvQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJyYWRpby1jb250YWluZXJcIiwgXCJpbnB1dC1jb250YWluZXJcIik7XG4gICAgY2FyZElucHV0LmFwcGVuZENoaWxkKHJhZGlvQ29udGFpbmVyKTtcblxuICAgIGxldCBwcmlvcml0eUZpZWxkQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBwcmlvcml0eUZpZWxkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJmaWVsZC1jb250YWluZXJcIik7XG4gICAgcmFkaW9Db250YWluZXIuYXBwZW5kQ2hpbGQocHJpb3JpdHlGaWVsZENvbnRhaW5lcik7XG5cbiAgICBsZXQgcHJpb3JpdHlMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcHJpb3JpdHlMYWJlbC5jbGFzc0xpc3QuYWRkKFwicHNldWRvLWxhYmVsXCIpO1xuICAgIHByaW9yaXR5TGFiZWwudGV4dENvbnRlbnQgPSBcIlByaW9yaXR5XCI7XG4gICAgcHJpb3JpdHlGaWVsZENvbnRhaW5lci5hcHBlbmRDaGlsZChwcmlvcml0eUxhYmVsKTtcblxuICAgIGxldCBwcmlvcml0eUZpZWxkID0gY3JlYXRlUmFkaW9GaWVsZChcInByaW9yaXR5LXJhZGlvXCIsIF90YXNrLnByaW9yaXR5LCBwcmlvcml0eUxpc3QpO1xuICAgIHByaW9yaXR5RmllbGQuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcImlucHV0LXByaW9yaXR5XCIpO1xuICAgIHByaW9yaXR5RmllbGQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJpbnB1dC1wcmlvcml0eVwiKTtcbiAgICBwcmlvcml0eUZpZWxkQ29udGFpbmVyLmFwcGVuZENoaWxkKHByaW9yaXR5RmllbGQpO1xuXG4gICAgbGV0IHByb2dyZXNzRmllbGRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHByb2dyZXNzRmllbGRDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImZpZWxkLWNvbnRhaW5lclwiKTtcbiAgICByYWRpb0NvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9ncmVzc0ZpZWxkQ29udGFpbmVyKTtcblxuICAgIGxldCBwcm9ncmVzc0xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBwcm9ncmVzc0xhYmVsLmNsYXNzTGlzdC5hZGQoXCJwc2V1ZG8tbGFiZWxcIik7XG4gICAgcHJvZ3Jlc3NMYWJlbC50ZXh0Q29udGVudCA9IFwiUHJvZ3Jlc3NcIjtcbiAgICBwcm9ncmVzc0ZpZWxkQ29udGFpbmVyLmFwcGVuZENoaWxkKHByb2dyZXNzTGFiZWwpO1xuXG4gICAgbGV0IHByb2dyZXNzRmllbGQgPSBjcmVhdGVSYWRpb0ZpZWxkKFwicHJvZ3Jlc3MtcmFkaW9cIiwgX3Rhc2sucHJvZ3Jlc3MsIHByb2dyZXNzTGlzdCk7XG4gICAgcHJvZ3Jlc3NGaWVsZC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIFwiaW5wdXQtcHJvZ3Jlc3NcIik7XG4gICAgcHJvZ3Jlc3NGaWVsZC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImlucHV0LXByb2dyZXNzXCIpO1xuICAgIHByb2dyZXNzRmllbGRDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvZ3Jlc3NGaWVsZCk7XG5cbiAgICBsZXQgcHJvZ3Jlc3NDaGVja0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcHJvZ3Jlc3NDaGVja0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwicHJvZ3Jlc3MtY2hlY2stY29udGFpbmVyXCIpO1xuICAgIHByb2dyZXNzRmllbGRDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvZ3Jlc3NDaGVja0NvbnRhaW5lcik7XG5cbiAgICBsZXQgcHJvZ3Jlc3NDaGVjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBwcm9ncmVzc0NoZWNrLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJjaGVja2JveFwiKTtcblxuICAgIGlmIChfdGFzay51c2VQcm9ncmVzc0Zyb21TdWJ0YXNrcykge1xuICAgICAgICBwcm9ncmVzc0NoZWNrLnNldEF0dHJpYnV0ZShcImNoZWNrZWRcIiwgXCJjaGVja2VkXCIpO1xuICAgIH1cblxuICAgIHByb2dyZXNzQ2hlY2suc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJwcm9ncmVzcy1jaGVja1wiKTtcbiAgICBwcm9ncmVzc0NoZWNrLnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJwcm9ncmVzcy1jaGVja1wiKTtcbiAgICBwcm9ncmVzc0NoZWNrLnNldEF0dHJpYnV0ZShcImlkXCIsIFwicHJvZ3Jlc3MtY2hlY2tcIik7XG4gICAgbGV0IHByb2dyZXNzQ2hlY2tMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICBwcm9ncmVzc0NoZWNrTGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwicHJvZ3Jlc3MtY2hlY2tcIik7XG4gICAgcHJvZ3Jlc3NDaGVja0xhYmVsLnRleHRDb250ZW50ID0gXCJTZXQgcHJvZ3Jlc3MgZnJvbSBzdWJ0YXNrc1wiO1xuICAgIHByb2dyZXNzQ2hlY2tDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvZ3Jlc3NDaGVjayk7XG4gICAgcHJvZ3Jlc3NDaGVja0NvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9ncmVzc0NoZWNrTGFiZWwpO1xuXG4gICAgdXBkYXRlUHJvZ3Jlc3NGaWVsZChwcm9ncmVzc0NoZWNrLCBwcm9ncmVzc0ZpZWxkKTtcblxuICAgIGxldCBub3Rlc0ZpZWxkQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBub3Rlc0ZpZWxkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJmaWVsZC1jb250YWluZXJcIik7XG4gICAgY2FyZElucHV0LmFwcGVuZENoaWxkKG5vdGVzRmllbGRDb250YWluZXIpO1xuXG4gICAgbGV0IG5vdGVzTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgbm90ZXNMYWJlbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgXCJpbnB1dC1ub3Rlc1wiKTtcbiAgICBub3Rlc0xhYmVsLnRleHRDb250ZW50ID0gXCJOb3Rlc1wiO1xuICAgIG5vdGVzRmllbGRDb250YWluZXIuYXBwZW5kQ2hpbGQobm90ZXNMYWJlbCk7XG5cbiAgICBsZXQgbm90ZXNJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcbiAgICBub3Rlc0lucHV0LnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJpbnB1dC1ub3Rlc1wiKTtcbiAgICBub3Rlc0lucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiaW5wdXQtbm90ZXNcIik7XG4gICAgbm90ZXNJbnB1dC50ZXh0Q29udGVudCA9IF90YXNrLm5vdGVzO1xuICAgIG5vdGVzRmllbGRDb250YWluZXIuYXBwZW5kQ2hpbGQobm90ZXNJbnB1dCk7XG5cbiAgICBsZXQgYnV0dG9uRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBidXR0b25EaXYuY2xhc3NMaXN0LmFkZChcImlucHV0LWJ1dHRvbnNcIik7XG4gICAgY2FyZElucHV0LmFwcGVuZENoaWxkKGJ1dHRvbkRpdik7XG5cbiAgICBsZXQgY29uZmlybSA9IGNyZWF0ZVN2ZyhcIk0xMiAyQzYuNSAyIDIgNi41IDIgMTJTNi41IDIyIDEyIDIyIDIyIDE3LjUgMjIgMTIgMTcuNSAyIDEyIDJNMTAgMTdMNSAxMkw2LjQxIDEwLjU5TDEwIDE0LjE3TDE3LjU5IDYuNThMMTkgOEwxMCAxN1pcIixcbiAgICAgICAgXCJDb25maXJtXCIsIHRydWUsIFwiaW5wdXQtYnV0dG9uXCIpO1xuICAgIGNvbmZpcm0uY2xhc3NMaXN0LmFkZChcImNvbmZpcm0tZWRpdC1pbWdcIiwgXCJpbnB1dC1idXR0b25cIik7XG4gICAgYnV0dG9uRGl2LmFwcGVuZENoaWxkKGNvbmZpcm0pO1xuXG4gICAgbGV0IGNhbmNlbCA9IGNyZWF0ZVN2ZyhcIk05LDdMMTEsMTJMOSwxN0gxMUwxMiwxNC41TDEzLDE3SDE1TDEzLDEyTDE1LDdIMTNMMTIsOS41TDExLDdIOU0xMiwyQTEwLDEwIDAgMCwxIDIyLDEyQTEwLDEwIDAgMCwxIDEyLDIyQTEwLDEwIDAgMCwxIDIsMTJBMTAsMTAgMCAwLDEgMTIsMlpcIixcbiAgICAgICAgXCJDYW5jZWxcIiwgdHJ1ZSwgXCJpbnB1dC1idXR0b25cIik7XG4gICAgY2FuY2VsLmNsYXNzTGlzdC5hZGQoXCJjb25maXJtLWVkaXQtaW1nXCIsIFwiaW5wdXQtYnV0dG9uXCIpO1xuICAgIGJ1dHRvbkRpdi5hcHBlbmRDaGlsZChjYW5jZWwpO1xuXG4gICAgcHJvZ3Jlc3NDaGVjay5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIF9lID0+IHtcbiAgICAgICAgdXBkYXRlUHJvZ3Jlc3NGaWVsZChwcm9ncmVzc0NoZWNrLCBwcm9ncmVzc0ZpZWxkKTtcbiAgICB9KTtcblxuICAgIGNvbmZpcm0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIF9ldmVudCA9PiB7XG4gICAgICAgIF90YXNrLmN1cnJlbnRseUVkaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgX3N0YXRlTWFuYWdlci5jdXJyZW50bHlFZGl0aW5nID0gZmFsc2U7XG5cbiAgICAgICAgX3Rhc2sudGl0bGUgPSB0aXRsZUlucHV0LnZhbHVlO1xuICAgICAgICBfdGFzay5kdWVEYXRlU3RyID0gZGF0ZUlucHV0LnZhbHVlO1xuICAgICAgICBfdGFzay5kdWVUaW1lU3RyID0gdGltZUlucHV0LnZhbHVlO1xuICAgICAgICBfdGFzay51cGRhdGVEdWUoKTtcbiAgICAgICAgX3Rhc2suZGVzY3JpcHRpb24gPSBkZXNjSW5wdXQudmFsdWU7XG4gICAgICAgIF90YXNrLnByaW9yaXR5ID0gZ2V0UmFkaW9WYWx1ZShwcmlvcml0eUZpZWxkKTtcbiAgICAgICAgX3Rhc2sudXNlUHJvZ3Jlc3NGcm9tU3VidGFza3MgPSBwcm9ncmVzc0NoZWNrLmNoZWNrZWQ7XG5cbiAgICAgICAgaWYgKF90YXNrLnVzZVByb2dyZXNzRnJvbVN1YnRhc2tzKSB7XG4gICAgICAgICAgICBfdGFzay5wcm9ncmVzcyA9IF90YXNrLmdldFByb2dyZXNzUmVjdXJzaXZlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGFzay5wcm9ncmVzcyA9IGdldFJhZGlvVmFsdWUocHJvZ3Jlc3NGaWVsZCk7XG4gICAgICAgIH1cblxuICAgICAgICBfdGFzay5ub3RlcyA9IG5vdGVzSW5wdXQudmFsdWU7XG4gICAgICAgIC8vX3Rhc2suZXhwYW5kZWQgPSBfdGFzay5oYXNDb250ZW50KCk7XG5cbiAgICAgICAgLy8gbGV0IHN1YnRhc2tQcm9ncmVzcyA9IF90YXNrLmdldFByb2dyZXNzUmVjdXJzaXZlKCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwic3VidGFza1Byb2dyZXNzOiBcIiArIHN1YnRhc2tQcm9ncmVzcyk7XG5cbiAgICAgICAgY2FyZElucHV0LnJlbW92ZSgpO1xuICAgICAgICB0aGF3KCk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZShcImVkaXRpbmdcIik7XG4gICAgICAgIF90YXNrLnN1cGVydGFza0xpc3Qud3JpdGVSb290VG9Mb2NhbFN0b3JhZ2UoKTtcbiAgICAgICAgX3Rhc2sucmVmcmVzaERvbShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBjYW5jZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIF9ldmVudCA9PiB7XG4gICAgICAgIF90YXNrLmN1cnJlbnRseUVkaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgX3N0YXRlTWFuYWdlci5jdXJyZW50bHlFZGl0aW5nID0gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICBjYXJkSW5wdXQucmVtb3ZlKCk7XG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LnJlbW92ZShcImVkaXRpbmdcIik7XG4gICAgICAgIHRoYXcoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlUHJvZ3Jlc3NGaWVsZChfY2hlY2ssIF9maWVsZCkge1xuICAgIGlmIChfY2hlY2suY2hlY2tlZCkge1xuICAgICAgICBfZmllbGQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBfZmllbGQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVSYWRpb0ZpZWxkKF9uYW1lLCBfZGVmYXVsdFZhbHVlLCBfbGFiZWxBcnIpIHtcbiAgICBsZXQgZmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmllbGRzZXRcIik7XG4gICAgZmllbGQuY2xhc3NMaXN0LmFkZChgJHtfbmFtZX0tZmllbGRzZXRgKTtcblxuICAgIGxldCByYWRpb3MgPSBbXTtcbiAgICBsZXQgbGFiZWxzID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IF9sYWJlbEFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICByYWRpb3MucHVzaChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIikpO1xuICAgICAgICByYWRpb3NbaV0uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInJhZGlvXCIpO1xuICAgICAgICByYWRpb3NbaV0uc2V0QXR0cmlidXRlKFwiaWRcIiwgYCR7X25hbWV9LSR7aX1gKTtcbiAgICAgICAgcmFkaW9zW2ldLnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgX25hbWUpO1xuICAgICAgICByYWRpb3NbaV0uc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgX2xhYmVsQXJyW2ldKTtcbiAgICAgICAgZmllbGQuYXBwZW5kQ2hpbGQocmFkaW9zW2ldKTtcblxuICAgICAgICBsYWJlbHMucHVzaChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIikpO1xuICAgICAgICBsYWJlbHNbaV0uc2V0QXR0cmlidXRlKFwiZm9yXCIsIGAke19uYW1lfS0ke2l9YCk7XG4gICAgICAgIGxhYmVsc1tpXS50ZXh0Q29udGVudCA9IF9sYWJlbEFycltpXTtcbiAgICAgICAgZmllbGQuYXBwZW5kQ2hpbGQobGFiZWxzW2ldKTtcbiAgICB9XG5cbiAgICByYWRpb3NbX2RlZmF1bHRWYWx1ZV0uc2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLCBcIlwiKTtcblxuICAgIHJldHVybiBmaWVsZDtcbn1cblxuZnVuY3Rpb24gZ2V0UmFkaW9WYWx1ZShfZmllbGRzZXQpIHtcbiAgICBsZXQgcmFkaW9zID0gX2ZpZWxkc2V0LnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFwiKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmFkaW9zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChyYWRpb3NbaV0uY2hlY2tlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN2ZyhfcGF0aCwgX3RpdGxlLCBfdXNlQmcsIF9wYXRoQ2xhc3MpIHtcbiAgICBsZXQgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XG4gICAgc3ZnLnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIiwgXCIwIDAgMjQgMjRcIik7XG4gICAgXG4gICAgbGV0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJ0aXRsZVwiKTtcbiAgICB0aXRsZS50ZXh0Q29udGVudCA9IF90aXRsZTtcbiAgICBzdmcuYXBwZW5kQ2hpbGQodGl0bGUpO1xuICAgIGlmIChfdXNlQmcpIHtcbiAgICAgICAgdmFyIGJnUGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKTtcbiAgICAgICAgYmdQYXRoLnNldEF0dHJpYnV0ZShcImRcIiwgXCJNMTIsNEExMCwxMCAwIDAsMCA0LDEyQTEwLDEwIDAgMCwwIDEyLDIwQTEwLDEwIDAgMCwwIDIwLDEyQTEwLDEwIDAgMCwwIDEyLDRaXCIpO1xuICAgICAgICBiZ1BhdGguY2xhc3NMaXN0LmFkZChcImJnLWltZ1wiKTtcbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKGJnUGF0aCk7XG4gICAgfVxuICAgIGxldCBwYXRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpO1xuICAgIHBhdGguc2V0QXR0cmlidXRlKFwiZFwiLCBfcGF0aCk7XG4gICAgc3ZnLmFwcGVuZENoaWxkKHBhdGgpO1xuXG4gICAgaWYgKF9wYXRoQ2xhc3MgIT0gbnVsbCkge1xuICAgICAgICBwYXRoLmNsYXNzTGlzdC5hZGQoX3BhdGhDbGFzcyk7XG4gICAgICAgIFxuICAgICAgICBpZiAoX3VzZUJnKSB7XG4gICAgICAgICAgICBiZ1BhdGguY2xhc3NMaXN0LmFkZChfcGF0aENsYXNzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdmc7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVByaW9yaXR5U3ZnKF9wcmlvcml0eSkge1xuICAgIGNvbnN0IHByaW9yaXR5UGF0aCA9IFtcbiAgICAgICAgXCJNMTIgMTZDMTMuNjYgMTYgMTUgMTQuNjYgMTUgMTNDMTUgMTEuODggMTQuMzkgMTAuOSAxMy41IDEwLjM5TDMuNzkgNC43N0w5LjMyIDE0LjM1QzkuODIgMTUuMzMgMTAuODMgMTYgMTIgMTZNMTIgM0MxMC4xOSAzIDguNSAzLjUgNy4wMyA0LjMyTDkuMTMgNS41M0MxMCA1LjE5IDExIDUgMTIgNUMxNi40MiA1IDIwIDguNTggMjAgMTNDMjAgMTUuMjEgMTkuMTEgMTcuMjEgMTcuNjYgMTguNjVIMTcuNjVDMTcuMjYgMTkuMDQgMTcuMjYgMTkuNjcgMTcuNjUgMjAuMDZDMTguMDQgMjAuNDUgMTguNjggMjAuNDUgMTkuMDcgMjAuMDdDMjAuODggMTguMjYgMjIgMTUuNzYgMjIgMTNDMjIgNy41IDE3LjUgMyAxMiAzTTIgMTNDMiAxNS43NiAzLjEyIDE4LjI2IDQuOTMgMjAuMDdDNS4zMiAyMC40NSA1Ljk1IDIwLjQ1IDYuMzQgMjAuMDZDNi43MyAxOS42NyA2LjczIDE5LjA0IDYuMzQgMTguNjVDNC44OSAxNy4yIDQgMTUuMjEgNCAxM0M0IDEyIDQuMTkgMTEgNC41NCAxMC4xTDMuMzMgOEMyLjUgOS41IDIgMTEuMTggMiAxM1pcIixcbiAgICAgICAgXCJNMTIgMS4zOEw5LjE0IDEyLjA2QzguOCAxMy4xIDkuMDQgMTQuMjkgOS44NiAxNS4xMkMxMS4wNCAxNi4yOSAxMi45NCAxNi4yOSAxNC4xMSAxNS4xMkMxNC45IDE0LjMzIDE1LjE2IDEzLjIgMTQuODkgMTIuMjFNMTQuNiAzLjM1TDE1LjIyIDUuNjhDMTguMDQgNi45MiAyMCA5LjczIDIwIDEzQzIwIDE1LjIxIDE5LjExIDE3LjIxIDE3LjY2IDE4LjY1SDE3LjY1QzE3LjI2IDE5LjA0IDE3LjI2IDE5LjY3IDE3LjY1IDIwLjA2QzE4LjA0IDIwLjQ1IDE4LjY4IDIwLjQ1IDE5LjA3IDIwLjA3QzIwLjg4IDE4LjI2IDIyIDE1Ljc2IDIyIDEzQzIyIDguMzggMTguODYgNC41IDE0LjYgMy4zNU05LjQgMy4zNkM1LjE1IDQuNSAyIDguNCAyIDEzQzIgMTUuNzYgMy4xMiAxOC4yNiA0LjkzIDIwLjA3QzUuMzIgMjAuNDUgNS45NSAyMC40NSA2LjM0IDIwLjA2QzYuNzMgMTkuNjcgNi43MyAxOS4wNCA2LjM0IDE4LjY1QzQuODkgMTcuMiA0IDE1LjIxIDQgMTNDNCA5LjY1IDUuOTQgNi44NiA4Ljc5IDUuNjVcIixcbiAgICAgICAgXCJNMTIsMTZBMywzIDAgMCwxIDksMTNDOSwxMS44OCA5LjYxLDEwLjkgMTAuNSwxMC4zOUwyMC4yMSw0Ljc3TDE0LjY4LDE0LjM1QzE0LjE4LDE1LjMzIDEzLjE3LDE2IDEyLDE2TTEyLDNDMTMuODEsMyAxNS41LDMuNSAxNi45Nyw0LjMyTDE0Ljg3LDUuNTNDMTQsNS4xOSAxMyw1IDEyLDVBOCw4IDAgMCwwIDQsMTNDNCwxNS4yMSA0Ljg5LDE3LjIxIDYuMzQsMTguNjVINi4zNUM2Ljc0LDE5LjA0IDYuNzQsMTkuNjcgNi4zNSwyMC4wNkM1Ljk2LDIwLjQ1IDUuMzIsMjAuNDUgNC45MywyMC4wN1YyMC4wN0MzLjEyLDE4LjI2IDIsMTUuNzYgMiwxM0ExMCwxMCAwIDAsMSAxMiwzTTIyLDEzQzIyLDE1Ljc2IDIwLjg4LDE4LjI2IDE5LjA3LDIwLjA3VjIwLjA3QzE4LjY4LDIwLjQ1IDE4LjA1LDIwLjQ1IDE3LjY2LDIwLjA2QzE3LjI3LDE5LjY3IDE3LjI3LDE5LjA0IDE3LjY2LDE4LjY1VjE4LjY1QzE5LjExLDE3LjIgMjAsMTUuMjEgMjAsMTNDMjAsMTIgMTkuODEsMTEgMTkuNDYsMTAuMUwyMC42Nyw4QzIxLjUsOS41IDIyLDExLjE4IDIyLDEzWlwiXG4gICAgXTtcblxuICAgIGNvbnN0IHByaW9yaXR5Q2xhc3MgPSBbXG4gICAgICAgIFwicHJpb3JpdHktbG93XCIsXG4gICAgICAgIFwicHJpb3JpdHktbWlkXCIsXG4gICAgICAgIFwicHJpb3JpdHktaGlnaFwiXG4gICAgXTtcblxuICAgIGxldCBwcmlvcml0eVN2ZyA9IGNyZWF0ZVN2Zyhwcmlvcml0eVBhdGhbX3ByaW9yaXR5IC0gMV0sIFxuICAgICAgICBwcmlvcml0eUxpc3RbX3ByaW9yaXR5XSwgZmFsc2UpO1xuICAgIHByaW9yaXR5U3ZnLmNsYXNzTGlzdC5hZGQoXCJwcmlvcml0eS1pbWdcIiwgcHJpb3JpdHlDbGFzc1tfcHJpb3JpdHkgLSAxXSk7XG5cbiAgICByZXR1cm4gcHJpb3JpdHlTdmc7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVByb2dyZXNzU3ZnKF9wcm9ncmVzcykge1xuICAgIGNvbnN0IHByb2dyZXNzUGF0aCA9IFtcbiAgICAgICAgXCJNMTIsMjBBOCw4IDAgMCwxIDQsMTJBOCw4IDAgMCwxIDEyLDRBOCw4IDAgMCwxIDIwLDEyQTgsOCAwIDAsMSAxMiwyME0xMiwyQTEwLDEwIDAgMCwwIDIsMTJBMTAsMTAgMCAwLDAgMTIsMjJBMTAsMTAgMCAwLDAgMjIsMTJBMTAsMTAgMCAwLDAgMTIsMlpcIixcbiAgICAgICAgXCJNOC40NiA4LjQ2QzkuNCA3LjUzIDEwLjY3IDcgMTIgN0MxMy4zMyA3IDE0LjYgNy41MyAxNS41NCA4LjQ2TDguNDYgMTUuNTRDNy41MyAxNC42IDcgMTMuMzMgNyAxMkM3IDEwLjY3IDcuNTMgOS40IDguNDYgOC40Nk04LjE3IDIuNzZDOS4zOSAyLjI2IDEwLjY5IDIgMTIgMkMxMy4zMSAyIDE0LjYxIDIuMjYgMTUuODMgMi43NkMxNy4wNCAzLjI2IDE4LjE0IDQgMTkuMDcgNC45M0MyMCA1Ljg2IDIwLjc0IDYuOTYgMjEuMjQgOC4xN0MyMS43NCA5LjM5IDIyIDEwLjY5IDIyIDEyQzIyIDE0LjY1IDIwLjk1IDE3LjIgMTkuMDcgMTkuMDdDMTcuMiAyMC45NSAxNC42NSAyMiAxMiAyMkMxMC42OSAyMiA5LjM5IDIxLjc0IDguMTcgMjEuMjRDNi45NiAyMC43NCA1Ljg2IDIwIDQuOTMgMTkuMDdDMy4wNSAxNy4yIDIgMTQuNjUgMiAxMkMyIDkuMzUgMy4wNSA2LjggNC45MyA0LjkzQzUuODYgNCA2Ljk2IDMuMjYgOC4xNyAyLjc2TTYuMzQgMTcuNjZDNy44NCAxOS4xNiA5Ljg4IDIwIDEyIDIwQzE0LjEyIDIwIDE2LjE2IDE5LjE2IDE3LjY2IDE3LjY2QzE5LjE2IDE2LjE2IDIwIDE0LjEyIDIwIDEyQzIwIDkuODggMTkuMTYgNy44NCAxNy42NiA2LjM0QzE2LjE2IDQuODQgMTQuMTIgNCAxMiA0QzkuODggNCA3Ljg0IDQuODQgNi4zNCA2LjM0QzQuODQgNy44NCA0IDkuODggNCAxMkM0IDE0LjEyIDQuODQgMTYuMTYgNi4zNCAxNy42NlpcIixcbiAgICAgICAgXCJNMTIsMjBBOCw4IDAgMCwxIDQsMTJBOCw4IDAgMCwxIDEyLDRBOCw4IDAgMCwxIDIwLDEyQTgsOCAwIDAsMSAxMiwyME0xMiwyQTEwLDEwIDAgMCwwIDIsMTJBMTAsMTAgMCAwLDAgMTIsMjJBMTAsMTAgMCAwLDAgMjIsMTJBMTAsMTAgMCAwLDAgMTIsMk0xMiw3QTUsNSAwIDAsMCA3LDEyQTUsNSAwIDAsMCAxMiwxN0E1LDUgMCAwLDAgMTcsMTJBNSw1IDAgMCwwIDEyLDdaXCJcbiAgICBdO1xuXG4gICAgY29uc3QgcHJvZ3Jlc3NDbGFzcyA9IFtcbiAgICAgICAgXCJwcm9ncmVzcy1ub3Qtc3RhcnRlZFwiLFxuICAgICAgICBcInByb2dyZXNzLWluLXByb2dyZXNzXCIsXG4gICAgICAgIFwicHJvZ3Jlc3MtY29tcGxldGVkXCJcbiAgICBdO1xuXG4gICAgbGV0IHByb2dyZXNzU3ZnID0gY3JlYXRlU3ZnKHByb2dyZXNzUGF0aFtfcHJvZ3Jlc3MgLSAxXSwgXG4gICAgICAgIHByb2dyZXNzTGlzdFtfcHJvZ3Jlc3NdLCBmYWxzZSk7XG4gICAgcHJvZ3Jlc3NTdmcuY2xhc3NMaXN0LmFkZChcInByb2dyZXNzLWltZ1wiLCBwcm9ncmVzc0NsYXNzW19wcm9ncmVzcyAtIDFdKTtcblxuICAgIHJldHVybiBwcm9ncmVzc1N2Zztcbn0iLCIvLyBTdHlsZSBtZW51IHByb3BlcnRpZXMgdmlhIENTUy4gRm9udCBzaXplIG11c3QgYmUgZ2l2ZW4gaW4gcHguXG4vL1xuLy8gLm1lbnUge1xuLy8gICAgIGZvbnQtc2l6ZTogMjRweDtcbi8vIH1cbi8vIC5tZW51LXJlY3Qge1xuLy8gICAgIGZpbGw6IGNvbG9yO1xuLy8gfVxuLy8gLm1lbnUtYm9yZGVyIHtcbi8vICAgICBmaWxsOiBjb2xvcjtcbi8vIH1cbi8vIC5tZW51LXRleHQge1xuLy8gICAgIGZpbGw6IGNvbG9yO1xuLy8gfVxuLy8gLm1lbnUtaGlnaGxpZ2h0IHtcbi8vICAgICBmaWxsOiBjb2xvcjtcbi8vIH1cblxuY29uc3QgbmFtZXNwYWNlID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XG4gICAgY2xpY2tSZWxlYXNlV2luZG93O1xuICAgIHN2ZztcbiAgICBncm91cDtcbiAgICBtZW51O1xuICAgIGJvcmRlcjtcbiAgICBtZW51SXRlbXMgPSBbXTtcbiAgICBidXR0b25Eb3duVGltZTtcbiAgICBpc1Zpc2libGUgPSBmYWxzZTtcbiAgICB0aWxlR3JvdXAgPSBudWxsO1xuICAgIGZ1bmN0aW9ucztcbiAgICBpdGVtVGV4dHM7XG4gICAgYm9yZGVyU2l6ZSA9IDE7XG4gICAgc2NhbGUgPSAxO1xuICAgIGZvbnRTaXplID0gMjA7XG4gICAgLy8gbWVudU1hcmdpbiBjcmVhdGVzIGFuIGludmlzaWJsZSwgbm9uLXNlbGVjdGFibGUgYnVmZmVyIHpvbmUgYXJvdW5kIHRoZSBcbiAgICAvLyBtZW51IHNvIHdlIGNhbiBsaXN0ZW4gZm9yIHRoZSBtb3VzZSBsZWF2aW5nIHRoZSBtZW51IGFuZCBkaXNhYmxlIHRoZSBcbiAgICAvLyBoaWdobGlnaHQgd2l0aG91dCBoYXZpbmcgdG8gbGlzdGVuIG92ZXIgdGhlIGVudGlyZSBkb2N1bWVudC5cbiAgICBtZW51TWFyZ2luID0gMjtcbiAgICBtZW51UG9zT2Zmc2V0ID0geyB4OiAtNCwgeTogLTEgfTtcbiAgICBtZW51V2lkdGg7XG4gICAgbWVudUhlaWdodDtcbiAgICBpbml0VGltZTtcbiAgICAvLyBwb3N0SW5pdERlbGF5IHNldHMgYSBkZWxheSBvbiB3aGVuIG1lbnUgaXRlbXMgY2FuIGJlIHRyaWdnZXJlZCBhZnRlciBtZW51XG4gICAgLy8gaW5pdC4gVGhpcyBwcm92aWRlcyBhIHNhZmVndWFyZCBhZ2FpbnN0IGFjY2lkZW50YWxseSBjYXRjaGluZyBhIGNsaWNrIHRoYXRcbiAgICAvLyBvcGVuZWQgdGhlIG1lbnUuXG4gICAgcG9zdEluaXREZWxheSA9IDIwMDtcbiAgICBodG1sO1xuXG4gICAgY29uc3RydWN0b3IgKF9pdGVtVGV4dHMsIF9mdW5jdGlvbnMsIF9jc3NDbGFzc2VzKSB7XG4gICAgICAgIHRoaXMuaHRtbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJodG1sXCIpO1xuICAgICAgICB0aGlzLnN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2UsIFwic3ZnXCIpO1xuICAgICAgICB0aGlzLnN2Zy5jbGFzc0xpc3QuYWRkKFwibWVudVwiKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChfY3NzQ2xhc3Nlcykge1xuICAgICAgICAgICAgdGhpcy5zdmcuY2xhc3NMaXN0LmFkZCguLi5fY3NzQ2xhc3Nlcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN2Zy5zZXRBdHRyaWJ1dGUoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgICAgICAgdGhpcy5jbGlja1JlbGVhc2VXaW5kb3cgPSA1MDA7XG4gICAgICAgIHRoaXMuZ3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlLCBcImdcIik7XG4gICAgICAgIHRoaXMubWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2UsIFwicmVjdFwiKTtcbiAgICAgICAgdGhpcy5ib3JkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlLCBcInJlY3RcIik7XG5cbiAgICAgICAgdGhpcy5ncm91cC5hcHBlbmRDaGlsZCh0aGlzLmJvcmRlcik7XG4gICAgICAgIHRoaXMuZ3JvdXAuYXBwZW5kQ2hpbGQodGhpcy5tZW51KTtcbiAgICAgICAgdGhpcy5ncm91cC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBgbWVudUdyb3VwYCk7XG5cbiAgICAgICAgLy90aGlzLmJvcmRlci5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIFwicmVkXCIpO1xuICAgICAgICB0aGlzLmJvcmRlci5jbGFzc0xpc3QuYWRkKFwibWVudS1ib3JkZXJcIik7XG5cbiAgICAgICAgLy90aGlzLm1lbnUuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBcImdyZWVuXCIpO1xuICAgICAgICB0aGlzLm1lbnUuY2xhc3NMaXN0LmFkZChcIm1lbnUtcmVjdFwiKTtcblxuICAgICAgICB0aGlzLmZ1bmN0aW9ucyA9IF9mdW5jdGlvbnM7XG4gICAgICAgIHRoaXMuaXRlbVRleHRzID0gX2l0ZW1UZXh0cztcblxuICAgICAgICB0aGlzLnN2Zy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIF9lID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlSGlnaGxpZ2h0KF9lLmNsaWVudFgsIF9lLmNsaWVudFkpO1xuICAgICAgICB9KTtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoX2UpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBfZSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1Zpc2libGUgJiYgbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLmluaXRUaW1lID4gXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zdEluaXREZWxheSkge1xuICAgICAgICAgICAgICAgIGxldCBtZW51U2VsZWN0aW9uID0gdGhpcy5nZXRIaWdobGlnaHRlZCgpO1xuICAgICAgICAgICAgICAgIGxldCBtZW51TW91c2VPdmVyID0gZG9jdW1lbnQuZWxlbWVudHNGcm9tUG9pbnQoX2UuY2xpZW50WCwgX2UuY2xpZW50WSk7XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKG1lbnVTZWxlY3Rpb24gJiYgbWVudU1vdXNlT3Zlci5pbmNsdWRlcyhtZW51U2VsZWN0aW9uLnJlY3QpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgdGhpcy5lcmFzZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3ZnLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICBsZXQgY29tcHV0ZWRGb250U2l6ZSA9IFxuICAgICAgICAgICAgd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5zdmcpLmdldFByb3BlcnR5VmFsdWUoXCJmb250LXNpemVcIik7XG4gICAgICAgIFxuICAgICAgICBpZiAoY29tcHV0ZWRGb250U2l6ZSkge1xuICAgICAgICAgICAgbGV0IG51bSA9IFwiXCI7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGNoYXIgb2YgY29tcHV0ZWRGb250U2l6ZSkge1xuICAgICAgICAgICAgICAgIGxldCBjb2RlID0gY2hhci5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChjb2RlID49IDQ4ICYmIGNvZGUgPD0gNTcpIHtcbiAgICAgICAgICAgICAgICAgICAgbnVtICs9IGNoYXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmZvbnRTaXplID0gTnVtYmVyKG51bSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuc3ZnLnNldEF0dHJpYnV0ZShcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcbiAgICAgICAgdGhpcy5zdmcuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgYHBvc2l0aW9uOiBhYnNvbHV0ZTtgKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaXRlbVRleHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmFkZE1lbnVJdGVtKHRoaXMuaXRlbVRleHRzW2ldLCB0aGlzLmZ1bmN0aW9uc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGVpZ2h0ID0gMDtcbiAgICAgICAgbGV0IHdpZHRoID0gMDtcbiAgICAgICAgZm9yIChsZXQgeCBvZiB0aGlzLm1lbnVJdGVtcykge1xuICAgICAgICAgICAgbGV0IG5ld1dpZHRoID0geC5zdmdUZXh0LnRleHQuZ2V0QkJveCgpLndpZHRoICsgeC5zdmdUZXh0LnhNYXJnaW4gKiAyO1xuXG4gICAgICAgICAgICBpZiAobmV3V2lkdGggPiB3aWR0aCkge1xuICAgICAgICAgICAgICAgIHdpZHRoID0gbmV3V2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lbnVJdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5tZW51SXRlbXNbaV0ucmVjdC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCB3aWR0aCk7XG4gICAgICAgICAgICB0aGlzLm1lbnVJdGVtc1tpXS5ncm91cC5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIiwgYHRyYW5zbGF0ZSgwLCAke2hlaWdodH0pYCk7XG4gICAgICAgICAgICBoZWlnaHQgKz0gTnVtYmVyKHRoaXMubWVudUl0ZW1zW2ldLnJlY3QuZ2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIpKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tZW51LnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIGAke3dpZHRofWApO1xuICAgICAgICB0aGlzLm1lbnUuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIGAke2hlaWdodH1gKTtcbiAgICAgICAgdGhpcy5ib3JkZXIuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgYCR7d2lkdGggKyB0aGlzLmJvcmRlclNpemUgKiAyfWApO1xuICAgICAgICB0aGlzLmJvcmRlci5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgYCR7aGVpZ2h0ICsgdGhpcy5ib3JkZXJTaXplICogMn1gKTtcbiAgICAgICAgdGhpcy5ib3JkZXIuc2V0QXR0cmlidXRlKFwieFwiLCBgJHt0aGlzLmJvcmRlclNpemUgKiAtMX1gKTtcbiAgICAgICAgdGhpcy5ib3JkZXIuc2V0QXR0cmlidXRlKFwieVwiLCBgJHt0aGlzLmJvcmRlclNpemUgKiAtMX1gKTtcblxuICAgICAgICB0aGlzLnN2Zy5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCBgJHt3aWR0aCAqIHRoaXMuc2NhbGUgKyB0aGlzLmJvcmRlclNpemUgKiB0aGlzLnNjYWxlfWApO1xuICAgICAgICB0aGlzLnN2Zy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgYCR7aGVpZ2h0ICogdGhpcy5zY2FsZSArIHRoaXMuYm9yZGVyU2l6ZSAqIHRoaXMuc2NhbGV9YCk7XG4gICAgICAgIHRoaXMuc3ZnLnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIiwgXG4gICAgICAgICAgICBgJHt0aGlzLmJvcmRlclNpemUgKiAtMSAtIHRoaXMubWVudU1hcmdpbn0gJHt0aGlzLmJvcmRlclNpemUgKiAtMSAtIFxuICAgICAgICAgICAgdGhpcy5tZW51TWFyZ2lufSAke3dpZHRoICsgdGhpcy5ib3JkZXJTaXplICogMiArIHRoaXMubWVudU1hcmdpbiAqIFxuICAgICAgICAgICAgMn0gJHtoZWlnaHQgKyB0aGlzLmJvcmRlclNpemUgKiAyICsgdGhpcy5tZW51TWFyZ2luICogMn1gKTtcblxuICAgICAgICAvL3RoaXMubWVudVdpZHRoID0gd2lkdGggKyB0aGlzLmJvcmRlclNpemUgKiAyIC0gdGhpcy5tZW51TWFyZ2luICogMjtcbiAgICAgICAgdGhpcy5tZW51V2lkdGggPSB3aWR0aCArIHRoaXMuYm9yZGVyU2l6ZSAqIDIgLSB0aGlzLm1lbnVNYXJnaW4gKiAyO1xuICAgICAgICB0aGlzLm1lbnVIZWlnaHQgPSBoZWlnaHQgKyB0aGlzLmJvcmRlclNpemUgKiAyIC0gdGhpcy5tZW51TWFyZ2luICogMjtcblxuICAgICAgICB0aGlzLmluaXRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfVxuXG4gICAgYnV0dG9uRG93bihfY2xpZW50WCwgX2NsaWVudFkpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlKSB0aGlzLmVyYXNlKCk7XG4gICAgICAgIHRoaXMuaXNWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQodGhpcy5ncm91cCk7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuXG4gICAgICAgIGNvbnN0IGRvY1dpZHRoID0gdGhpcy5odG1sLmNsaWVudFdpZHRoO1xuICAgICAgICBjb25zdCBkb2NIZWlnaHQgPSB0aGlzLmh0bWwuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgIC8vIEFkanVzdG1lbnQgdmFsdWVzIGlmIHRoZSBtZW51IGV4dGVuZHMgb2ZmIHRoZSBzY3JlZW4uXG4gICAgICAgIGxldCB4T2Zmc2V0ID0gMDtcbiAgICAgICAgbGV0IHlPZmZzZXQgPSAwO1xuXG4gICAgICAgIGlmIChfY2xpZW50WCArIHRoaXMubWVudVBvc09mZnNldC54ICsgdGhpcy5tZW51V2lkdGggKyAxID4gZG9jV2lkdGgpIHtcbiAgICAgICAgICAgIHhPZmZzZXQgPSAgZG9jV2lkdGggLSAoX2NsaWVudFggKyB0aGlzLm1lbnVQb3NPZmZzZXQueCArIHRoaXMubWVudVdpZHRoICsgMSk7IFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF9jbGllbnRZICsgdGhpcy5tZW51UG9zT2Zmc2V0LnkgKyB0aGlzLm1lbnVIZWlnaHQgKyAxID4gZG9jSGVpZ2h0KSB7XG4gICAgICAgICAgICB5T2Zmc2V0ID0gIGRvY0hlaWdodCAtIChfY2xpZW50WSArIHRoaXMubWVudVBvc09mZnNldC55ICsgdGhpcy5tZW51SGVpZ2h0ICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN2Zy5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIiwgYHRyYW5zbGF0ZSgke19jbGllbnRYIC0gdGhpcy5tZW51TWFyZ2luICsgXG4gICAgICAgICAgICB0aGlzLm1lbnVQb3NPZmZzZXQueCArIHhPZmZzZXQgKyB3aW5kb3cuc2Nyb2xsWH0sICR7X2NsaWVudFkgLSB0aGlzLm1lbnVNYXJnaW4gKyBcbiAgICAgICAgICAgIHRoaXMubWVudVBvc09mZnNldC55ICsgeU9mZnNldCArIHdpbmRvdy5zY3JvbGxZfSlgKTtcbiAgICAgICAgdGhpcy51cGRhdGVIaWdobGlnaHQoX2NsaWVudFgsIF9jbGllbnRZKTtcbiAgICAgICAgdGhpcy5idXR0b25Eb3duVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH1cblxuICAgIGJ1dHRvblVwKCkge1xuICAgICAgICBpZiAocGVyZm9ybWFuY2Uubm93KCkgLSB0aGlzLmJ1dHRvbkRvd25UaW1lID4gY2xpY2tSZWxlYXNlV2luZG93KSB0aGlzLmVyYXNlKCk7XG4gICAgfTtcblxuICAgIGVyYXNlKCkge1xuICAgICAgICB0aGlzLmdyb3VwLnJlbW92ZSgpO1xuXG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy5tZW51SXRlbXMpIHtcbiAgICAgICAgICAgIGl0ZW0uZ3JvdXAucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN2Zy5zZXRBdHRyaWJ1dGUoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgICAgICAgdGhpcy5tZW51SXRlbXMgPSBbXTtcbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBhZGRNZW51SXRlbShfdGV4dCwgX2Z1bmN0aW9uLCBfaWR4KSB7XG4gICAgICAgIGlmIChfaWR4ID09IG51bGwpIF9pZHggPSB0aGlzLm1lbnVJdGVtcy5sZW5ndGg7XG4gICAgICAgIHRoaXMubWVudUl0ZW1zLnNwbGljZShfaWR4LCAwLCBuZXcgTWVudUl0ZW0oX3RleHQsIHRoaXMuZm9udFNpemUsIFxuICAgICAgICAgICAgdGhpcy5ncm91cCwgX2lkeCwgX2Z1bmN0aW9uKSk7XG4gICAgfVxuXG4gICAgdXBkYXRlSGlnaGxpZ2h0KF9jbGllbnRYLCBfY2xpZW50WSkge1xuICAgICAgICBpZiAodGhpcy5pc1Zpc2libGUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHggb2YgdGhpcy5tZW51SXRlbXMpIHtcbiAgICAgICAgICAgICAgICB4LnVuaGlnaGxpZ2h0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbWVudU1vdXNlT3ZlciA9IGRvY3VtZW50LmVsZW1lbnRzRnJvbVBvaW50KF9jbGllbnRYLCBfY2xpZW50WSk7XG4gICAgICAgICAgICBmb3IgKGxldCB4IG9mIHRoaXMubWVudUl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1lbnVNb3VzZU92ZXIuaW5jbHVkZXMoeC5yZWN0KSkge1xuICAgICAgICAgICAgICAgICAgICB4LmhpZ2hsaWdodCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZ2V0SGlnaGxpZ2h0ZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzVmlzaWJsZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgeCBvZiB0aGlzLm1lbnVJdGVtcykge1xuICAgICAgICAgICAgICAgIGlmICh4LmlzSGlnaGxpZ2h0ZWQpIHJldHVybiB4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuXG4gICAgZ2V0SGlnaGxpZ2h0ZWRUZXh0KCkge1xuICAgICAgICBsZXQgaGlnaGxpZ2h0ZWQgPSB0aGlzLmdldEhpZ2hsaWdodGVkKCk7XG4gICAgICAgIHJldHVybiBoaWdobGlnaHRlZCA/IGhpZ2hsaWdodGVkLnN2Z1RleHQudGV4dC50ZXh0Q29udGVudCA6IHVuZGVmaW5lZDtcbiAgICB9O1xuXG4gICAgYWN0aXZhdGVTZWxlY3Rpb24oX3NlbGVjdGlvbiA9IFwiaGlnaGxpZ2h0ZWRcIikge1xuICAgICAgICBpZiAoX3NlbGVjdGlvbiA9PT0gXCJoaWdobGlnaHRlZFwiKSBfc2VsZWN0aW9uID0gdGhpcy5nZXRIaWdobGlnaHRlZFRleHQoKTtcblxuICAgICAgICBsZXQgYWN0aXZlID0gdGhpcy5tZW51SXRlbXMuZmluZChfZSA9PiBfZS50ZXh0ID09IF9zZWxlY3Rpb24pO1xuICAgICAgICBcbiAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZS5mdW5jdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbn1cblxuY2xhc3MgTWVudUl0ZW0ge1xuICAgIHJlY3Q7XG4gICAgZ3JvdXA7XG4gICAgdGV4dDtcbiAgICBzdmdUZXh0O1xuICAgIGlzSGlnaGxpZ2h0ZWQ7XG4gICAgZnVuY3Rpb25zO1xuXG4gICAgY29uc3RydWN0b3IoX3RleHQsIF9mb250U2l6ZSwgX3BhcmVudCwgX2lkeCwgX2Z1bmN0aW9uKSB7XG4gICAgICAgIHRoaXMudGV4dCA9IF90ZXh0O1xuICAgICAgICB0aGlzLnJlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlLCBcInJlY3RcIik7XG4gICAgICAgIHRoaXMuZ3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlLCBcImdcIik7XG4gICAgICAgIHRoaXMuZ3JvdXAuYXBwZW5kQ2hpbGQodGhpcy5yZWN0KTtcbiAgICAgICAgX3BhcmVudC5hcHBlbmRDaGlsZCh0aGlzLmdyb3VwKTtcbiAgICAgICAgdGhpcy5zdmdUZXh0ID0gbmV3IFNWR1RleHQoX3RleHQsIHRoaXMuZ3JvdXAsIF9pZHgsIF9mb250U2l6ZSk7XG4gICAgICAgIHRoaXMucmVjdC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIFwicmdiYSgwLCAwLCAwLCAwKVwiKTtcbiAgICAgICAgLy90aGlzLnJlY3Quc2V0QXR0cmlidXRlKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG4gICAgICAgIHRoaXMucmVjdC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgYCR7X2ZvbnRTaXplICogMS4yfWApO1xuICAgICAgICB0aGlzLnJlY3QuY2xhc3NMaXN0LmFkZChcIm1lbnUtaXRlbVwiKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuaXNIaWdobGlnaHRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZ1bmN0aW9uID0gX2Z1bmN0aW9uO1xuICAgIH1cblxuICAgIGhpZ2hsaWdodCgpIHtcbiAgICAgICAgLy90aGlzLnJlY3Quc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBcInBpbmtcIik7XG4gICAgICAgIC8vdGhpcy5yZWN0LnNldEF0dHJpYnV0ZShcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcbiAgICAgICAgdGhpcy5yZWN0LmNsYXNzTGlzdC5hZGQoXCJtZW51LWhpZ2hsaWdodFwiKTtcbiAgICAgICAgdGhpcy5pc0hpZ2hsaWdodGVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdW5oaWdobGlnaHQoKSB7XG4gICAgICAgIC8vdGhpcy5yZWN0LnNldEF0dHJpYnV0ZShcImZpbGxcIiwgXCJyZ2JhKDAsIDAsIDAsIDApXCIpO1xuICAgICAgICAvL3RoaXMucmVjdC5zZXRBdHRyaWJ1dGUoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgICAgICAgdGhpcy5yZWN0LmNsYXNzTGlzdC5yZW1vdmUoXCJtZW51LWhpZ2hsaWdodFwiKTtcbiAgICAgICAgdGhpcy5pc0hpZ2hsaWdodGVkID0gZmFsc2U7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gU1ZHVGV4dChfY29udGVudCwgX3BhcmVudCwgX2lkID0gLTEsIF9mb250U2l6ZSA9IDEwKSB7XG4gICAgdGhpcy5mb250U2l6ZSA9IF9mb250U2l6ZTtcbiAgICB0aGlzLnhNYXJnaW4gPSB0aGlzLmZvbnRTaXplICogMC4yO1xuICAgIHRoaXMudGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2UsIFwidGV4dFwiKTtcbiAgICB0aGlzLnRleHQudGV4dENvbnRlbnQgPSBfY29udGVudDtcbiAgICAvL3RoaXMudGV4dC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIFwieWVsbG93XCIpO1xuICAgIHRoaXMudGV4dC5zZXRBdHRyaWJ1dGUoXCJjdXJzb3JcIiwgXCJkZWZhdWx0XCIpO1xuICAgIHRoaXMudGV4dC5jbGFzc0xpc3QuYWRkKGBtZW51LXRleHQtJHtfaWR9YCk7XG4gICAgdGhpcy50ZXh0LmNsYXNzTGlzdC5hZGQoXCJtZW51LXRleHRcIik7XG4gICAgX3BhcmVudC5hcHBlbmRDaGlsZCh0aGlzLnRleHQpO1xuICAgIHRoaXMudGV4dC5zZXRBdHRyaWJ1dGUoXCJ4XCIsIGAke3RoaXMueE1hcmdpbn1gKTtcbiAgICB0aGlzLnRleHQuc2V0QXR0cmlidXRlKFwieVwiLCBgJHt0aGlzLmZvbnRTaXplICogMC45fWApO1xuICAgIHRoaXMudGV4dC5zZXRBdHRyaWJ1dGUoXCJmb250LXNpemVcIiwgYCR7dGhpcy5mb250U2l6ZX1weGApO1xufSIsIi8vIEZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYl9TdG9yYWdlX0FQSS9cbi8vIFVzaW5nX3RoZV9XZWJfU3RvcmFnZV9BUElcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odHlwZSkge1xuICAgIGxldCBzdG9yYWdlO1xuICAgIHRyeSB7XG4gICAgICBzdG9yYWdlID0gd2luZG93W3R5cGVdO1xuICAgICAgY29uc3QgeCA9IFwiX19zdG9yYWdlX3Rlc3RfX1wiO1xuICAgICAgc3RvcmFnZS5zZXRJdGVtKHgsIHgpO1xuICAgICAgc3RvcmFnZS5yZW1vdmVJdGVtKHgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgZSBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbiAmJlxuICAgICAgICAvLyBldmVyeXRoaW5nIGV4Y2VwdCBGaXJlZm94XG4gICAgICAgIChlLmNvZGUgPT09IDIyIHx8XG4gICAgICAgICAgLy8gRmlyZWZveFxuICAgICAgICAgIGUuY29kZSA9PT0gMTAxNCB8fFxuICAgICAgICAgIC8vIHRlc3QgbmFtZSBmaWVsZCB0b28sIGJlY2F1c2UgY29kZSBtaWdodCBub3QgYmUgcHJlc2VudFxuICAgICAgICAgIC8vIGV2ZXJ5dGhpbmcgZXhjZXB0IEZpcmVmb3hcbiAgICAgICAgICBlLm5hbWUgPT09IFwiUXVvdGFFeGNlZWRlZEVycm9yXCIgfHxcbiAgICAgICAgICAvLyBGaXJlZm94XG4gICAgICAgICAgZS5uYW1lID09PSBcIk5TX0VSUk9SX0RPTV9RVU9UQV9SRUFDSEVEXCIpICYmXG4gICAgICAgIC8vIGFja25vd2xlZGdlIFF1b3RhRXhjZWVkZWRFcnJvciBvbmx5IGlmIHRoZXJlJ3Mgc29tZXRoaW5nIGFscmVhZHkgc3RvcmVkXG4gICAgICAgIHN0b3JhZ2UgJiZcbiAgICAgICAgc3RvcmFnZS5sZW5ndGggIT09IDBcbiAgICAgICk7XG4gICAgfVxuICB9IiwiLy8gVGFza1xuICAgIC8vIE1ldGhvZHNcbiAgICAgICAgLy8gZGVsZXRlXG4gICAgICAgIC8vIGNvcHlcbiAgICAgICAgLy8gY3V0XG4gICAgICAgIC8vIHBhc3RlXG4gICAgICAgIC8vIGVkaXRcbiAgICAgICAgLy8gZXhwYW5kXG4gICAgICAgIC8vIHNvcnRTdWJ0YXNrc1xuICAgIC8vIFByb3BlcnRpZXNcbiAgICAgICAgLy8gZHVlXG4gICAgICAgIC8vIHRpdGxlXG4gICAgICAgIC8vIGRlc2NyaXB0aW9uXG4gICAgICAgIC8vIHByaW9yaXR5XG4gICAgICAgIC8vIG5vdGVzXG4gICAgICAgIC8vIHByb2dyZXNzXG4gICAgICAgIC8vIHVzZVByb2dyZXNzRnJvbVN1YnRhc2tzXG4gICAgICAgIC8vIHN1YnRhc2tzXG4gICAgICAgIC8vIGV4cGFuZGVkXG5cbi8vIE1lbnUgKD8pXG5cbi8vIFRvcC1sZXZlbCBhcnJheSBvZiB0YXNrc1xuXG4vLyBET00gbW9kdWxlXG5pbXBvcnQgKiBhcyBkb20gZnJvbSBcIi4vZG9tLmpzXCI7XG5pbXBvcnQgdGltZXpvbmVTdHJpbmcgZnJvbSBcIi4vdGltZXpvbmUtc3RyaW5nLmpzXCI7XG5pbXBvcnQgUmlnaHRDbGlja01lbnUgZnJvbSBcIi4vcmlnaHQtY2xpY2stbWVudS5qc1wiO1xuaW1wb3J0IHN0b3JhZ2VBdmFpbGFibGUgZnJvbSBcIi4vc3RvcmFnZS1hdmFpbGFibGUuanNcIjtcblxuY2xhc3MgVGFzayB7XG4gICAgdGl0bGU7XG4gICAgZHVlRGF0ZTtcbiAgICBkdWVEYXRlU3RyO1xuICAgIGR1ZVRpbWU7XG4gICAgZHVlVGltZVN0cjtcbiAgICBkZXNjcmlwdGlvbjtcbiAgICBwcmlvcml0eTtcbiAgICBwcm9ncmVzcztcbiAgICBub3RlcztcbiAgICBpZDtcbiAgICBkZXB0aDtcbiAgICBjdXJyZW50bHlFZGl0aW5nO1xuICAgIHVzZVByb2dyZXNzRnJvbVN1YnRhc2tzO1xuICAgIHN1YnRhc2tMaXN0O1xuICAgIHN1cGVydGFza0xpc3Q7XG4gICAgZXhwYW5kZWQ7XG4gICAgc2VsZWN0ZWQ7XG4gICAgZG9tRGl2O1xuICAgIHN0YXRpYyBsYXN0SWQgPSAtMTtcblxuICAgIGNvbnN0cnVjdG9yKF90aXRsZSwgX2R1ZURhdGVTdHIsIF9kdWVUaW1lU3RyLCBfZGVzY3JpcHRpb24sIF9wcmlvcml0eSwgX3Byb2dyZXNzLCBcbiAgICAgICAgICAgIF9ub3RlcywgX3N1cGVydGFza0xpc3QsIF9pc0Nsb25lKSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSBfdGl0bGUgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5kdWVEYXRlU3RyID0gX2R1ZURhdGVTdHI7XG4gICAgICAgIHRoaXMuZHVlVGltZVN0ciA9IF9kdWVUaW1lU3RyO1xuICAgICAgICB0aGlzLnVwZGF0ZUR1ZSgpO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gX2Rlc2NyaXB0aW9uIHx8IFwiXCI7XG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSBfcHJpb3JpdHkgfHwgMDtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IF9wcm9ncmVzcyB8fCAwO1xuICAgICAgICB0aGlzLm5vdGVzID0gX25vdGVzIHx8IFwiXCI7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAoX3N1cGVydGFza0xpc3QpIHtcbiAgICAgICAgICAgIF9zdXBlcnRhc2tMaXN0LmFkZCh0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3VwZXJ0YXNrTGlzdCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnJlbnRseUVkaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdWJ0YXNrTGlzdCA9IG5ldyBUYXNrTGlzdCh0aGlzKTtcbiAgICAgICAgdGhpcy5leHBhbmRlZCA9IHRoaXMuaGFzQ29udGVudCgpO1xuICAgICAgICB0aGlzLnVzZVByb2dyZXNzRnJvbVN1YnRhc2tzID0gZmFsc2U7XG5cbiAgICAgICAgLy8gVGFza3MgdGhhdCBsaXZlIGluIHRoZSBjb3B5IGJ1ZmZlciBoYXZlIG5vIElEIHRvIGVuc3VyZSB0aGF0IHBhc3RlZFxuICAgICAgICAvLyB0YXNrcycgSURzIGFyZSBjb250aWd1b3VzIHdpdGhvdXQgaGF2aW5nIHRvIGRlY3JlbWVudCBUYXNrLmxhc3RJZC5cbiAgICAgICAgaWYgKCFfaXNDbG9uZSkge1xuICAgICAgICAgICAgdGhpcy5hc3NpZ25OZXdJZCgpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVEZXB0aCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQbGFjZSBET00gb2JqZWN0IGluIHN1cGVydGFzayBvciByb290IGFycmF5XG4gICAgfVxuXG4gICAgY2xvbmUoX3JlY3Vyc2l2ZSwgX3N1cGVydGFza0xpc3QsIF9pZHgpIHtcbiAgICAgICAgdmFyIGNsb25lZCA9IG5ldyBUYXNrKHRoaXMudGl0bGUsIHRoaXMuZHVlRGF0ZVN0ciwgdGhpcy5kdWVUaW1lU3RyLCBcbiAgICAgICAgICAgIHRoaXMuZGVzY3JpcHRpb24sIHRoaXMucHJpb3JpdHksIHRoaXMucHJvZ3Jlc3MsIHRoaXMubm90ZXMsIFxuICAgICAgICAgICAgbnVsbCwgdHJ1ZSk7XG4gICAgICAgIGNsb25lZC5leHBhbmRlZCA9IHRoaXMuZXhwYW5kZWQ7XG4gICAgICAgIGNsb25lZC5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAvL2Nsb25lZC5leHBhbmRlZCA9IGZhbHNlO1xuICAgICAgICBjbG9uZWQudXNlUHJvZ3Jlc3NGcm9tU3VidGFza3MgPSB0aGlzLnVzZVByb2dyZXNzRnJvbVN1YnRhc2tzO1xuXG4gICAgICAgIGlmIChfc3VwZXJ0YXNrTGlzdCkge1xuICAgICAgICAgICAgX3N1cGVydGFza0xpc3QuYWRkKGNsb25lZCwgX2lkeCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChfcmVjdXJzaXZlKSB7XG4gICAgICAgICAgICBjbG9uZWQuc3VidGFza0xpc3QuZXhwYW5kZWQgPSB0aGlzLnN1YnRhc2tMaXN0LmV4cGFuZGVkO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3VidGFza0xpc3QudGFza3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1YnRhc2tMaXN0LnRhc2tzW2ldLmNsb25lKF9yZWN1cnNpdmUsIGNsb25lZC5zdWJ0YXNrTGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2xvbmVkO1xuICAgIH1cblxuICAgIHVwZGF0ZUR1ZSgpIHtcbiAgICAgICAgLy8gaWYgKCF0aGlzLmR1ZURhdGUgfHwgdGhpcy5kdWVEYXRlLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgLy8gICAgIGxldCB0b2RheSA9IG5ldyBEYXRlKERhdGUubm93KCkpO1xuICAgICAgICAvLyAgICAgbGV0IHBhZExlbiA9IDI7XG4gICAgICAgIC8vICAgICB0aGlzLmR1ZURhdGUgPSBgJHt0b2RheS5nZXRGdWxsWWVhcigpfS0ke1N0cmluZyh0b2RheS5nZXRNb250aCgpICsgMSkuXG4gICAgICAgIC8vICAgICAgICAgcGFkU3RhcnQocGFkTGVuLCBcIjBcIil9LSR7U3RyaW5nKHRvZGF5LmdldERhdGUoKSkucGFkU3RhcnQocGFkTGVuLCBcIjBcIil9YDtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIGlmICghdGhpcy5kdWVUaW1lIHx8IHRoaXMuZHVlVGltZS5sZW5ndGggPCAxKSB7XG4gICAgICAgIC8vICAgICB0aGlzLmR1ZVRpbWUgPSBcIjAwOjAwXCI7XG4gICAgICAgIC8vIH1cblxuICAgICAgICAvLyBsZXQgdGltZXpvbmUgPSB0aW1lem9uZVN0cmluZygpO1xuICAgICAgICAvLyB0aGlzLmRhdGVTdHJpbmcgPSBgJHt0aGlzLmR1ZURhdGV9VCR7dGhpcy5kdWVUaW1lfTowMC4wMDAke3RpbWV6b25lfWA7XG4gICAgICAgIC8vIHRoaXMuZHVlID0gbmV3IERhdGUodGhpcy5kYXRlU3RyaW5nKTtcblxuICAgICAgICBsZXQgdGltZXpvbmUgPSB0aW1lem9uZVN0cmluZygpO1xuXG4gICAgICAgIGlmICh0aGlzLmR1ZURhdGVTdHIgJiYgdGhpcy5kdWVEYXRlU3RyLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IGRhdGVTdHJpbmcgPSBgJHt0aGlzLmR1ZURhdGVTdHJ9VDAwOjAwOjAwJHt0aW1lem9uZX1gO1xuICAgICAgICAgICAgdGhpcy5kdWVEYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kdWVUaW1lU3RyICYmIHRoaXMuZHVlVGltZVN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBkYXRlU3RyaW5nID0gYDIwMDAtMDEtMDFUJHt0aGlzLmR1ZVRpbWVTdHJ9OjAwJHt0aW1lem9uZX1gO1xuICAgICAgICAgICAgdGhpcy5kdWVUaW1lID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVEZXB0aChfcmVjdXJzaXZlKSB7XG4gICAgICAgIHRoaXMuZGVwdGggPSAwO1xuXG4gICAgICAgIGlmICh0aGlzLnN1cGVydGFza0xpc3QgPT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgICAgIGxldCBzdXBlcnRhc2sgPSB0aGlzLnN1cGVydGFza0xpc3Qub3duZXI7XG4gICAgICAgIHdoaWxlIChzdXBlcnRhc2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5kZXB0aCsrO1xuICAgICAgICAgICAgc3VwZXJ0YXNrID0gc3VwZXJ0YXNrLnN1cGVydGFza0xpc3QgPyBzdXBlcnRhc2suc3VwZXJ0YXNrTGlzdC5vd25lciA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlZGl0VGl0bGUoKSB7XG5cbiAgICB9XG5cbiAgICBlZGl0RHVlKCkge1xuXG4gICAgfVxuXG4gICAgZWRpdERlc2NyaXB0aW9uKCkge1xuXG4gICAgfVxuXG4gICAgZWRpdFByb2dyZXNzKCkge1xuXG4gICAgfVxuXG4gICAgZWRpdE5vdGVzKCkge1xuXG4gICAgfVxuXG4gICAgZGVsZXRlKF9yZWN1cnNpdmUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3VwZXJ0YXNrTGlzdCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZG9tRGl2KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb21EaXYudGFzay5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBpZiAoX3JlY3Vyc2l2ZSkgdGhpcy5kb21EaXYuc3VidGFza3MucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdXBlcnRhc2tMaXN0LnJlbW92ZUlkKHRoaXMuaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGhhc0NvbnRlbnQoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5kZXNjcmlwdGlvbiAmJiB0aGlzLmRlc2NyaXB0aW9uICE9IFwiXCIpIHx8XG4gICAgICAgICAgICB0aGlzLnByaW9yaXR5IHx8XG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzIHx8XG4gICAgICAgICAgICAodGhpcy5ub3RlcyAmJiB0aGlzLm5vdGVzLmxlbmd0aClcbiAgICB9XG5cbiAgICBsb2coKSB7XG4gICAgICAgIGxvZ2dlci5sb2dUYXNrKHRoaXMpO1xuICAgIH1cblxuICAgIGFzc2lnbk5ld0lkKCkge1xuICAgICAgICB0aGlzLmlkID0gVGFzay5nZW5lcmF0ZUlkKCk7XG4gICAgfVxuXG4gICAgYXNzaWduTmV3SWRSZWN1cnNpdmUoKSB7XG4gICAgICAgIHRoaXMuYXNzaWduTmV3SWQoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3VidGFza0xpc3QudGFza3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuc3VidGFza0xpc3QudGFza3NbaV0uYXNzaWduTmV3SWRSZWN1cnNpdmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZnJlc2hEb20oX3JlY3Vyc2l2ZSkge1xuICAgICAgICBpZiAodGhpcy5kb21EaXYpIHtcbiAgICAgICAgICAgIHRoaXMuZG9tRGl2LnRhc2sucmVtb3ZlKCk7XG4gICAgICAgICAgICBpZiAoX3JlY3Vyc2l2ZSkgdGhpcy5kb21EaXYuc3VidGFza3MucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy51c2VQcm9ncmVzc0Zyb21TdWJ0YXNrcykge1xuICAgICAgICAgICAgdGhpcy5wcm9ncmVzcyA9IHRoaXMuZ2V0UHJvZ3Jlc3NSZWN1cnNpdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZG9tRGl2ID0gZG9tLmNyZWF0ZUNhcmQodGhpcywgc3RhdGVNYW5hZ2VyKTtcblxuICAgICAgICBpZiAoX3JlY3Vyc2l2ZSkge1xuICAgICAgICAgICAgdGhpcy5zdWJ0YXNrTGlzdC5yZWZyZXNoRG9tKF9yZWN1cnNpdmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXZlbiBpZiBub3QgdWRhdGluZyByZWN1cnNpdmVseSwgd2UgbmVlZCB0byBjaGVjayBhbGwgc3VwZXJ0YXNrcyB0byBcbiAgICAgICAgLy8gc2VlIGlmIHRoZWlyIHByb2dyZXNzIHZhbHVlcyBhcmUgY2hhbmdlZCBiYXNlZCBvbiB0aGlzIHRhc2sncyBwcm9ncmVzc1xuICAgICAgICAvLyBhbmQgdXBkYXRlIHRoZW0gYWNjb3JkaW5nbHkuXG4gICAgICAgIGZvciAobGV0IHRhc2sgb2YgdGhpcy5jaGFpbikge1xuICAgICAgICAgICAgaWYgKHRhc2sudXNlUHJvZ3Jlc3NGcm9tU3VidGFza3MpIHtcbiAgICAgICAgICAgICAgICB0YXNrLnJlZnJlc2hEb20oZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTWFza3Mgc3VidGFzayBsaXN0J3MgYWRkIGZ1bmN0aW9uIGZvciBlYXNlIG9mIHVzZS5cbiAgICBhZGRTdWJ0YXNrKF90YXNrLCBfaWR4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnRhc2tMaXN0LmFkZChfdGFzaywgX2lkeCk7XG4gICAgfVxuXG4gICAgLy8gTWFza3Mgc3VidGFzayBsaXN0J3MgcmVtb3ZlIGZ1bmN0aW9uIGZvciBlYXNlIG9mIHVzZS5cbiAgICByZW1vdmVTdWJ0YXNrSWQoX2lkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnRhc2tMaXN0LnJlbW92ZUlkKF9pZCk7XG4gICAgfVxuXG4gICAgLy8gTWFza3Mgc3VidGFzayBsaXN0J3MgcmVtb3ZlIGZ1bmN0aW9uIGZvciBlYXNlIG9mIHVzZS5cbiAgICByZW1vdmVTdWJ0YXNrSWR4KF9pZHgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VidGFza0xpc3QucmVtb3ZlSWR4KF9pZHgpO1xuICAgIH1cblxuICAgIC8vIGdldFByb2dyZXNzUmVjdXJzaXZlKF9wcm9ncmVzcykge1xuICAgIC8vICAgICBpZiAoX3Byb2dyZXNzID09IG51bGwpIF9wcm9ncmVzcyA9IDA7XG5cbiAgICAvLyAgICAgaWYgKCF0aGlzLnVzZVByb2dyZXNzRnJvbVN1YnRhc2tzICYmIHRoaXMucHJvZ3Jlc3MgPiBfcHJvZ3Jlc3MpIHtcbiAgICAvLyAgICAgICAgIF9wcm9ncmVzcyA9IHRoaXMucHJvZ3Jlc3M7XG4gICAgLy8gICAgIH1cblxuICAgIC8vICAgICBmb3IgKGxldCB0YXNrIG9mIHRoaXMuc3VidGFza0xpc3QudGFza3MpIHtcbiAgICAvLyAgICAgICAgIF9wcm9ncmVzcyA9IHRhc2suZ2V0UHJvZ3Jlc3NSZWN1cnNpdmUoX3Byb2dyZXNzKTtcbiAgICAvLyAgICAgfVxuXG4gICAgLy8gICAgIHJldHVybiBfcHJvZ3Jlc3M7XG4gICAgLy8gfVxuXG4gICAgZ2V0UHJvZ3Jlc3NSZWN1cnNpdmUoX3Byb2dyZXNzKSB7XG4gICAgICAgIGlmIChfcHJvZ3Jlc3MgPT0gbnVsbCkgX3Byb2dyZXNzID0gMDtcblxuICAgICAgICBpZiAoIXRoaXMudXNlUHJvZ3Jlc3NGcm9tU3VidGFza3MgJiYgdGhpcy5wcm9ncmVzcyA+IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb2dyZXNzID09IDEgJiYgKF9wcm9ncmVzcyA9PSAxIHx8IF9wcm9ncmVzcyA9PSAwKSkge1xuICAgICAgICAgICAgICAgIF9wcm9ncmVzcyA9IDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvZ3Jlc3MgPT0gMyAmJiAoX3Byb2dyZXNzID09IDMgfHwgX3Byb2dyZXNzID09IDApKSB7XG4gICAgICAgICAgICAgICAgX3Byb2dyZXNzID0gMztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgX3Byb2dyZXNzID0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IHRhc2sgb2YgdGhpcy5zdWJ0YXNrTGlzdC50YXNrcykge1xuICAgICAgICAgICAgX3Byb2dyZXNzID0gdGFzay5nZXRQcm9ncmVzc1JlY3Vyc2l2ZShfcHJvZ3Jlc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9wcm9ncmVzcztcbiAgICB9XG5cbiAgICAvLyBNYXNrcyBzdWJ0YXNrIGxpc3QncyB0YXNrcyBmb3IgZWFzZSBvZiB1c2UuXG4gICAgZ2V0IHN1YnRhc2tzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJ0YXNrTGlzdC50YXNrcztcbiAgICB9XG5cbiAgICAvLyBNYXNrcyBzdXBlcnRhc2sgbGlzdCdzIG93bmVyIGZvciBlYXNlIG9mIHVzZS5cbiAgICBnZXQgc3VwZXJ0YXNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdXBlcnRhc2tMaXN0ID8gdGhpcy5zdXBlcnRhc2tMaXN0Lm93bmVyIDogbnVsbDtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm5zIGFuIGFycmF5IG9mIGFsbCBvZiBhIHRhc2sncyBzdXBlcnRhc2tzIHVwIHRvIHRoZSByb290IHRhc2suIFRoZVxuICAgIC8vIHJvb3QgdGFzayBpcyB0aGUgbGFzdCBpbiB0aGUgYXJyYXkuXG4gICAgZ2V0IGNoYWluKCkge1xuICAgICAgICBsZXQgc3VwZXJ0YXNrID0gdGhpcy5zdXBlcnRhc2tMaXN0Lm93bmVyO1xuICAgICAgICBsZXQgY2hhaW4gPSBbXTtcblxuICAgICAgICB3aGlsZSAoc3VwZXJ0YXNrKSB7XG4gICAgICAgICAgICBjaGFpbi5wdXNoKHN1cGVydGFzayk7XG4gICAgICAgICAgICBzdXBlcnRhc2sgPSBzdXBlcnRhc2suc3VwZXJ0YXNrTGlzdC5vd25lcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGFpbjtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2VuZXJhdGVJZCgpIHtcbiAgICAgICAgLy8gSWYgb3ZlcmZsb3cgaGFwcGVucywgbm8gaXQgZGlkbid0LlxuICAgICAgICBpZiAoVGFzay5sYXN0SWQgPj0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpIFRhc2subGFzdElkID0gLTE7XG4gICAgICAgIHJldHVybiArK1Rhc2subGFzdElkO1xuICAgIH1cblxuICAgIHN0YXRpYyByZXNldElkcygpIHtcbiAgICAgICAgVGFzay5sYXN0SWQgPSAtMTtcbiAgICB9XG59XG5cbmNsYXNzIFRhc2tMaXN0IHtcbiAgICB0YXNrcztcbiAgICBvd25lcjtcbiAgICBleHBhbmRlZCA9IGZhbHNlO1xuICAgIHN0YXRpYyB3cml0ZUVycm9yU2hvd24gPSBmYWxzZTtcbiAgICBzdGF0aWMgREVGQVVMVF9LRVkgPSBcInRhc2tMaXN0XCI7XG5cbiAgICBjb25zdHJ1Y3Rvcihfb3duZXIsIF90YXNrcykge1xuICAgICAgICB0aGlzLm93bmVyID0gX293bmVyO1xuICAgICAgICAvL3RoaXMudGFza3MgPSBfc3VidGFza3MgfHwgW107XG4gICAgICAgIHRoaXMudGFza3MgPSBbXTtcblxuICAgICAgICBpZiAoX3Rhc2tzKSB7XG4gICAgICAgICAgICBfdGFza3MuZm9yRWFjaChfdGFzayA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoX3Rhc2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzb3J0KCkge1xuXG4gICAgfVxuXG4gICAgY3JlYXRlVGFzayhfaWR4LCBfc2hvd0lucHV0KSB7XG4gICAgICAgIGlmICghX2lkeCkge1xuICAgICAgICAgICAgX2lkeCA9IHRoaXMudGFza3MubGVuZ3RoICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuZXdUYXNrID0gbmV3IFRhc2soKTtcbiAgICAgICAgdGhpcy5hZGQobmV3VGFzaywgX2lkeCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3duZXIpIHtcbiAgICAgICAgICAgIHRoaXMub3duZXIucmVmcmVzaERvbSh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaERvbShmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLndyaXRlUm9vdFRvTG9jYWxTdG9yYWdlKCk7XG5cbiAgICAgICAgaWYgKF9zaG93SW5wdXQpIHtcbiAgICAgICAgICAgIGRvbS5jcmVhdGVJbnB1dEJveChuZXdUYXNrLCBzdGF0ZU1hbmFnZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkKF90YXNrLCBfaWR4KSB7XG4gICAgICAgIGlmIChfaWR4ID09IG51bGwpIHtcbiAgICAgICAgICAgIF9pZHggPSB0aGlzLnRhc2tzLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGFza3Muc3BsaWNlKF9pZHgsIDAsIF90YXNrKTtcbiAgICAgICAgX3Rhc2suc3VwZXJ0YXNrTGlzdCA9IHRoaXM7XG4gICAgICAgIF90YXNrLnVwZGF0ZURlcHRoKHRydWUpO1xuICAgIH1cblxuICAgIGdldFRhc2tJZHgoX3Rhc2spIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRhc2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50YXNrc1tpXS5pZCA9PSBfdGFzay5pZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIHJlbW92ZUlkKF9pZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhgTG9va2luZyBmb3IgaWQgJHtfaWR9IGluIHRhc2tzIGxlbmd0aCAke3RoaXMudGFza3MubGVuZ3RofWApO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudGFza3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRhc2tzW2ldLmlkID09IF9pZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBSZW1vdmluZyBpZCAke19pZH0gYXQgaWR4ICR7aX1gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmVJZHgoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmVtb3ZlSWR4KF9pZHgpIHtcbiAgICAgICAgdGhpcy50YXNrc1tfaWR4XS5zdXBlcnRhc2tMaXN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXNrcy5zcGxpY2UoX2lkeCwgMSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZ2V0VGFza0J5SWQoX2lkLCBfcmVjdXJzaXZlKSB7XG4gICAgICAgIGxldCBpZFRhc2sgPSBudWxsO1xuXG4gICAgICAgIGZvciAobGV0IHRhc2sgb2YgdGhpcy50YXNrcykge1xuICAgICAgICAgICAgaWYgKHRhc2suaWQgPT0gX2lkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhc2s7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF9yZWN1cnNpdmUgJiYgdGFzay5zdWJ0YXNrTGlzdC5oYXNUYXNrcygpKSB7XG4gICAgICAgICAgICAgICAgaWRUYXNrID0gdGFzay5zdWJ0YXNrTGlzdC5nZXRUYXNrQnlJZChfaWQsIF9yZWN1cnNpdmUpO1xuICAgICAgICAgICAgICAgIGlmIChpZFRhc2spIHJldHVybiBpZFRhc2s7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaWRUYXNrO1xuICAgIH1cblxuICAgIGhhc1Rhc2tzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50YXNrcy5sZW5ndGggPj0gMTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm5zIGFuIG9yZGVyZWQgYXJyYXkgb2YgSURzIHRoYXQgcmVmbGVjdHMgdGhlIGN1cnJlbnQgb3JkZXIgb2YgdGFza3NcbiAgICAvLyB3aXRoaW4gdGhlIHRhc2tMaXN0J3MgdHJlZSBzdHJ1Y3R1cmUuXG4gICAgZ2V0SWRPcmRlcihfcmVjdXJzaXZlKSB7XG4gICAgICAgIGNvbnN0IG9yZGVyID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgdGFzayBvZiB0aGlzLnRhc2tzKSB7XG4gICAgICAgICAgICBvcmRlci5wdXNoKHRhc2suaWQpO1xuXG4gICAgICAgICAgICBpZiAoX3JlY3Vyc2l2ZSkge1xuICAgICAgICAgICAgICAgIG9yZGVyLnB1c2goLi4udGFzay5zdWJ0YXNrTGlzdC5nZXRJZE9yZGVyKF9yZWN1cnNpdmUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvcmRlcjtcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMudGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnRhc2tzWzBdLmRlbGV0ZSh0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZnJlc2hEb20oX3JlY3Vyc2l2ZSkge1xuICAgICAgICAvLyBUbyBlbnN1cmUgcHJvcGVyIG9yZGVyLCByZW1vdmUgYWxsIHRhc2tzIGJlZm9yZSByZWRyYXdpbmcgYW55IG9mIHRoZW0uXG4gICAgICAgIHRoaXMudGFza3MuZm9yRWFjaChfdGFzayA9PiB7XG4gICAgICAgICAgICBpZiAoX3Rhc2suZG9tRGl2KSB7XG4gICAgICAgICAgICAgICAgX3Rhc2suZG9tRGl2LnRhc2sucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgaWYgKF9yZWN1cnNpdmUpIF90YXNrLmRvbURpdi5zdWJ0YXNrcy5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy50YXNrcy5mb3JFYWNoKF90YXNrID0+IHtcbiAgICAgICAgICAgIF90YXNrLnJlZnJlc2hEb20oX3JlY3Vyc2l2ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50YXNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy50YXNrc1tpXS5yZWZyZXNoRG9tKF9yZWN1cnNpdmUpO1xuICAgICAgICAgICAgLy8gZG9tLnNldFRhc2taRGVwdGgodGhpcy50YXNrc1tpXSwgNTAwIC0gaSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgYWxsIHRhc2sgcHJvcGVydGllcyB0aGF0IGNhbid0IGJlIHN0cmluZ2lmaWVkIGJ5IEpTT04uIFRoZXNlXG4gICAgLy8gY2FuIGJlIHJlY29uc3RydWN0ZWQgb24gcHJvamVjdCBsb2FkIGV2ZW4gd2l0aG91dCBzYXZpbmcgdGhlbS5cbiAgICBjbG9uZUpzb24oKSB7XG4gICAgICAgIGxldCBqc29uVGFza0xpc3QgPSBuZXcgVGFza0xpc3QobnVsbCwgbnVsbCk7XG4gICAgICAgIGpzb25UYXNrTGlzdC5leHBhbmRlZCA9IHRoaXMuZXhwYW5kZWQ7XG5cbiAgICAgICAgZm9yIChsZXQgdGFzayBvZiB0aGlzLnRhc2tzKSB7XG4gICAgICAgICAgICBsZXQgY2xvbmVkID0gdGFzay5jbG9uZShmYWxzZSwgbnVsbCk7XG4gICAgICAgICAgICBqc29uVGFza0xpc3QuYWRkKGNsb25lZCk7XG4gICAgICAgICAgICBjbG9uZWQuaWQgPSB0YXNrLmlkO1xuICAgICAgICAgICAgY2xvbmVkLmRlcHRoID0gdGFzay5kZXB0aDtcbiAgICAgICAgICAgIGNsb25lZC5kdWVEYXRlID0gbnVsbDtcbiAgICAgICAgICAgIGNsb25lZC5kdWVUaW1lID0gbnVsbDtcbiAgICAgICAgICAgIGNsb25lZC5zdWJ0YXNrTGlzdCA9IHRhc2suc3VidGFza0xpc3QuY2xvbmVKc29uKCk7XG4gICAgICAgICAgICBjbG9uZWQuc3VwZXJ0YXNrTGlzdCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ganNvblRhc2tMaXN0O1xuICAgIH1cblxuICAgIC8vIFJlYnVpbGQgdGFza0xpc3Qgc3RydWN0dXJlIGZyb20gSlNPTiBzdHJpbmcgYW5kIHJlY2FsY3VsYXRlIHRoZSB2YWx1ZXMgXG4gICAgLy8gdGhhdCB3ZXJlbid0IHNhdmVkIGluIHRoZSBzdHJpbmcuIEFueSBjdXJyZW50IGNvbnRlbnRzIG9mIHRoaXMgdGFza0xpc3RcbiAgICAvLyB3aWxsIGJlIGRlbGV0ZWQgYW5kIHJlcGxhY2VkIGJ5IHRoZSBKU09OIGRhdGEuXG4gICAgaW5pdEZyb21Kc29uKF9qc29uT2JqLCBfb3duZXIpIHtcbiAgICAgICAgdGhpcy5vd25lciA9IF9vd25lcjtcbiAgICAgICAgdGhpcy5leHBhbmRlZCA9IF9qc29uT2JqLmV4cGFuZGVkO1xuXG4gICAgICAgIHRoaXMuY2xlYXIoKTtcblxuICAgICAgICBmb3IgKGxldCB0YXNrIG9mIF9qc29uT2JqLnRhc2tzKSB7XG4gICAgICAgICAgICBsZXQgbG9hZGVkVGFzayA9IG5ldyBUYXNrKHRhc2sudGl0bGUsIHRhc2suZHVlRGF0ZVN0ciwgdGFzay5kdWVUaW1lU3RyLFxuICAgICAgICAgICAgICAgIHRhc2suZGVzY3JpcHRpb24sIHRhc2sucHJpb3JpdHksIHRhc2sucHJvZ3Jlc3MsIHRhc2subm90ZXMsXG4gICAgICAgICAgICAgICAgdGhpcywgZmFsc2UpO1xuICAgICAgICAgICAgbG9hZGVkVGFzay5leHBhbmRlZCA9IHRhc2suZXhwYW5kZWQ7XG4gICAgICAgICAgICBsb2FkZWRUYXNrLnVzZVByb2dyZXNzRnJvbVN1YnRhc2tzID0gdGFzay51c2VQcm9ncmVzc0Zyb21TdWJ0YXNrcztcbiAgICAgICAgICAgIGxvYWRlZFRhc2suc3VidGFza0xpc3QuaW5pdEZyb21Kc29uKHRhc2suc3VidGFza0xpc3QsIGxvYWRlZFRhc2spO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgd3JpdGVUb0xvY2FsU3RvcmFnZShfa2V5KSB7XG4gICAgICAgIGlmIChzdG9yYWdlQXZhaWxhYmxlKFwibG9jYWxTdG9yYWdlXCIpKSB7XG4gICAgICAgICAgICBpZiAoIV9rZXkpIHtcbiAgICAgICAgICAgICAgICBfa2V5ID0gVGFza0xpc3QuREVGQVVMVF9LRVk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBqc29uU3RyID0gSlNPTi5zdHJpbmdpZnkodGhpcy5jbG9uZUpzb24oKSk7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShfa2V5LCBqc29uU3RyKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoIVRhc2tMaXN0LndyaXRlRXJyb3JTaG93bikge1xuICAgICAgICAgICAgVGFza0xpc3Qud3JpdGVFcnJvclNob3duID0gdHJ1ZTtcbiAgICAgICAgICAgIGFsZXJ0KFwiWW91ciBicm93c2VyIGVpdGhlciBkb2Vzbid0IHN1cHBvcnQgbG9jYWwgc3RvcmFnZSBvciBoYXMgaXQgZGlzYWJsZWQsIHNvIHlvdXIgdGFza3Mgd2lsbCBub3QgYmUgc2F2ZWQgYWZ0ZXIgbGVhdmluZyB0aGlzIHBhZ2UuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHdyaXRlUm9vdFRvTG9jYWxTdG9yYWdlKF9rZXkpIHtcbiAgICAgICAgaWYgKHRoaXMub3duZXIpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdC53cml0ZVRvTG9jYWxTdG9yYWdlKF9rZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy53cml0ZVRvTG9jYWxTdG9yYWdlKF9rZXkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzdG9yZUZyb21Mb2NhbFN0b3JhZ2UoX2tleSkge1xuICAgICAgICBpZiAoc3RvcmFnZUF2YWlsYWJsZShcImxvY2FsU3RvcmFnZVwiKSkge1xuICAgICAgICAgICAgaWYgKCFfa2V5KSB7XG4gICAgICAgICAgICAgICAgX2tleSA9IFRhc2tMaXN0LkRFRkFVTFRfS0VZO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQganNvbk9iaiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKF9rZXkpO1xuXG4gICAgICAgICAgICBpZiAoanNvbk9iaikge1xuICAgICAgICAgICAgICAgIFRhc2sucmVzZXRJZHMoKTtcbiAgICAgICAgICAgICAgICBsZXQganNvblN0ciA9IEpTT04ucGFyc2UoanNvbk9iaik7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0RnJvbUpzb24oanNvblN0cik7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoRG9tKHRydWUpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY2xlYXJMb2NhbFN0b3JhZ2UoX2tleSkge1xuICAgICAgICBpZiAoc3RvcmFnZUF2YWlsYWJsZShcImxvY2FsU3RvcmFnZVwiKSkge1xuICAgICAgICAgICAgaWYgKCFfa2V5KSB7XG4gICAgICAgICAgICAgICAgX2tleSA9IFRhc2tMaXN0LkRFRkFVTFRfS0VZO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShfa2V5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCByb290KCkge1xuICAgICAgICBpZiAodGhpcy5vd25lcikge1xuICAgICAgICAgICAgaWYgKHRoaXMub3duZXIuY2hhaW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3duZXIuY2hhaW5bdGhpcy5vd25lci5jaGFpbi5sZW5ndGggLSAxXS5zdXBlcnRhc2tMaXN0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vd25lci5zdXBlcnRhc2tMaXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5sZXQgc3RhdGVNYW5hZ2VyID0gKGZ1bmN0aW9uKCkge1xuICAgIGxldCBjdXJyZW50bHlFZGl0aW5nID0gZmFsc2U7XG4gICAgbGV0IHNlbGVjdGlvbkFkZFRvID0gZmFsc2U7XG4gICAgbGV0IHNlbGVjdGlvbk1hc3MgPSBmYWxzZTtcbiAgICBsZXQgdG91Y2ggPSB7XG4gICAgICAgIHRpbWU6IFsgbnVsbCwgbnVsbCBdLFxuICAgICAgICBwb3M6IFsgbnVsbCwgbnVsbCBdLFxuICAgICAgICB0b3VjaGVkSWQ6IFsgbnVsbCwgbnVsbCBdXG4gICAgfTtcblxuICAgIGxldCBzZXRTZWxlY3Rpb25BZGRUbyA9IGZ1bmN0aW9uKF9zdGF0ZSwgX2UpIHtcbiAgICAgICAgaWYgKF9lLmtleSA9PSBcIkNvbnRyb2xcIikge1xuICAgICAgICAgICAgc3RhdGVNYW5hZ2VyLnNlbGVjdGlvbkFkZFRvID0gX3N0YXRlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHNldFNlbGVjdGlvbk1hc3MgPSBmdW5jdGlvbihfc3RhdGUsIF9lKSB7XG4gICAgICAgIGlmIChfZS5rZXkgPT0gXCJTaGlmdFwiKSB7XG4gICAgICAgICAgICBzdGF0ZU1hbmFnZXIuc2VsZWN0aW9uTWFzcyA9IF9zdGF0ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIF9lID0+IHtcbiAgICAgICAgc2V0U2VsZWN0aW9uQWRkVG8uYmluZCh0aGlzLCB0cnVlLCBfZSkoKTtcbiAgICAgICAgc2V0U2VsZWN0aW9uTWFzcy5iaW5kKHRoaXMsIHRydWUsIF9lKSgpO1xuICAgIH0pO1xuICAgIFxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBfZSA9PiB7XG4gICAgICAgIHNldFNlbGVjdGlvbkFkZFRvLmJpbmQodGhpcywgZmFsc2UsIF9lKSgpO1xuICAgICAgICBzZXRTZWxlY3Rpb25NYXNzLmJpbmQodGhpcywgZmFsc2UsIF9lKSgpO1xuICAgIH0pO1xuXG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjdXJyZW50bHlFZGl0aW5nLFxuICAgICAgICBzZWxlY3Rpb25BZGRUbyxcbiAgICAgICAgdG91Y2hcbiAgICB9XG59KSgpO1xuXG5sZXQgbG9nZ2VyID0gKGZ1bmN0aW9uKCkge1xuICAgIGxldCBsb2dUYXNrID0gZnVuY3Rpb24oX3Rhc2ssIF9wcmVwZW5kKSB7XG4gICAgICAgIGlmICghX3ByZXBlbmQpIF9wcmVwZW5kID0gXCJcIjtcbiAgICAgICAgY29uc29sZS5sb2coX3ByZXBlbmQgKyBcIi0tLS0tLS0tLS0tLS0tLS1cIik7XG4gICAgICAgIGNvbnNvbGUubG9nKF9wcmVwZW5kICsgXCJUaXRsZTogXCIgKyBfdGFzay50aXRsZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKF9wcmVwZW5kICsgXCJEdWUgZGF0ZTogXCIgKyBfdGFzay5kdWVEYXRlKTtcbiAgICAgICAgY29uc29sZS5sb2coX3ByZXBlbmQgKyBcIkR1ZSB0aW1lOiBcIiArIF90YXNrLmR1ZVRpbWUpO1xuICAgICAgICBjb25zb2xlLmxvZyhfcHJlcGVuZCArIFwiRGVzY3JpcHRpb246IFwiICsgX3Rhc2suZGVzY3JpcHRpb24pO1xuICAgICAgICBjb25zb2xlLmxvZyhfcHJlcGVuZCArIFwiUHJvZ3Jlc3M6IFwiICsgX3Rhc2sucHJvZ3Jlc3MpO1xuICAgICAgICBjb25zb2xlLmxvZyhfcHJlcGVuZCArIFwiTm90ZXM6ICBcIiArIF90YXNrLm5vdGVzKTtcbiAgICAgICAgY29uc29sZS5sb2coX3ByZXBlbmQgKyBcIklEOiBcIiArIF90YXNrLmlkKTtcbiAgICAgICAgY29uc29sZS5sb2coX3ByZXBlbmQgKyBcIkRlcHRoOiBcIiArIF90YXNrLmRlcHRoKTtcbiAgICAgICAgaWYgKF90YXNrLnN1cGVydGFza0xpc3QgJiYgX3Rhc2suc3VwZXJ0YXNrTGlzdC5vd25lcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coX3ByZXBlbmQgKyBcIlN1cGVydGFzazogKFwiICsgX3Rhc2suc3VwZXJ0YXNrTGlzdC5vd25lci5pZCArIFxuICAgICAgICAgICAgXCIpIFwiICsgX3Rhc2suc3VwZXJ0YXNrTGlzdC5vd25lci50aXRsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhfcHJlcGVuZCArIFwiTm8gc3VwZXJ0YXNrXCIpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoX3Rhc2suc3VidGFza0xpc3QuaGFzVGFza3MoKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coX3ByZXBlbmQgKyBfdGFzay5zdWJ0YXNrTGlzdC50YXNrcy5sZW5ndGggKyBcbiAgICAgICAgICAgICAgICBcIiBzdWJ0YXNrXCIgKyAoX3Rhc2suc3VidGFza0xpc3QudGFza3MubGVuZ3RoICE9IDEgPyBcInM6XCIgOiBcIjpcIikpO1xuXG4gICAgICAgICAgICBfdGFzay5zdWJ0YXNrTGlzdC50YXNrcy5mb3JFYWNoKF9lbGVtID0+IHtcbiAgICAgICAgICAgICAgICBsb2dUYXNrKF9lbGVtLCBfcHJlcGVuZCArIFwiKiAgIFwiKTtcbiAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBsb2dUYXNrXG4gICAgfTtcbn0pKCk7XG5cbmxldCBjb3BpZXIgPSAoZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgYnVmZmVyID0gW107XG5cbiAgICBsZXQgcmVtb3ZlID0gZnVuY3Rpb24oX3Rhc2tzLCBfcmVjdXJzaXZlLCBfcmVmcmVzaCkge1xuICAgICAgICBpZiAoIShfdGFza3MgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgIF90YXNrcyA9IFsgX3Rhc2tzIF07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3JlY3Vyc2l2ZSkge1xuICAgICAgICAgICAgX3Rhc2tzID0gcmVkdWNlUmVjdXJzaXZlSW5wdXQoX3Rhc2tzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByb290ID0gX3Rhc2tzWzBdLnN1cGVydGFza0xpc3Qucm9vdDtcblxuICAgICAgICBmb3IgKGxldCB0YXNrIG9mIF90YXNrcykge1xuICAgICAgICAgICAgbGV0IGluc2VydElkeCA9IHRhc2suc3VwZXJ0YXNrTGlzdC5nZXRUYXNrSWR4KHRhc2spO1xuICAgICAgICAgICAgbGV0IHN1cGVydGFza0xpc3QgPSB0YXNrLnN1cGVydGFza0xpc3Q7XG4gICAgICAgICAgICBsZXQgc3VidGFza0xpc3QgPSB0YXNrLnN1YnRhc2tMaXN0O1xuICAgICAgICAgICAgdGFzay5kZWxldGUodHJ1ZSk7XG4gICAgXG4gICAgICAgICAgICBpZiAoIV9yZWN1cnNpdmUpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1YnRhc2tMaXN0LnRhc2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1cGVydGFza0xpc3QuYWRkKHN1YnRhc2tMaXN0LnRhc2tzW2ldLCBpbnNlcnRJZHgrKyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgaWYgKF9yZWZyZXNoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1cGVydGFza0xpc3Qub3duZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VwZXJ0YXNrTGlzdC5vd25lci5yZWZyZXNoRG9tKHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN1cGVydGFza0xpc3QucmVmcmVzaERvbSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByb290LndyaXRlVG9Mb2NhbFN0b3JhZ2UoKTtcbiAgICB9XG5cbiAgICBsZXQgY29weSA9IGZ1bmN0aW9uKF90YXNrcywgX3JlY3Vyc2l2ZSwgX2dsb2JhbFRhc2tMaXN0KSB7XG4gICAgICAgIGlmICghKF90YXNrcyBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgICAgX3Rhc2tzID0gWyBfdGFza3MgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFyQnVmZmVyKCk7XG5cbiAgICAgICAgaWYgKF9yZWN1cnNpdmUpIHtcbiAgICAgICAgICAgIF90YXNrcyA9IHJlZHVjZVJlY3Vyc2l2ZUlucHV0KF90YXNrcyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbnN1cmUgdGhhdCB0YXNrcyBhcmUgY29waWVkIGluIHZpc3VhbCBvcmRlciBhbmQgbm90IGluIHNlbGVjdGlvbiBvcmRlci5cbiAgICAgICAgbGV0IGlkT3JkZXIgPSBfZ2xvYmFsVGFza0xpc3QuZ2V0SWRPcmRlcih0cnVlKTtcbiAgICAgICAgX3Rhc2tzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGlkT3JkZXIuaW5kZXhPZihhLmlkKSA8IGlkT3JkZXIuaW5kZXhPZihiLmlkKSA/IC0xIDogMTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yIChsZXQgdGFzayBvZiBfdGFza3MpIHtcbiAgICAgICAgICAgIGJ1ZmZlci5wdXNoKHRhc2suY2xvbmUoX3JlY3Vyc2l2ZSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGN1dCA9IGZ1bmN0aW9uKF90YXNrcywgX3JlY3Vyc2l2ZSwgX3JlZnJlc2gsIF9nbG9iYWxUYXNrTGlzdCkge1xuICAgICAgICBpZiAoIShfdGFza3MgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgIF90YXNrcyA9IFsgX3Rhc2tzIF07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvcHkoX3Rhc2tzLCBfcmVjdXJzaXZlLCBfZ2xvYmFsVGFza0xpc3QpO1xuICAgICAgICB0aGlzLnJlbW92ZShfdGFza3MsIF9yZWN1cnNpdmUpO1xuICAgIH1cblxuICAgIGxldCBwYXN0ZSA9IGZ1bmN0aW9uKF90YXNrTGlzdCwgX2lkeCkge1xuICAgICAgICAvLyBBbGxvdyBfdGFza0xpc3QgdG8gYmUgcGFzc2VkIGFzIGl0cyBvd25pbmcgdGFzayBmb3IgZWFzZSBvZiB1c2UuXG4gICAgICAgIGlmIChfdGFza0xpc3QgaW5zdGFuY2VvZiBUYXNrKSB7XG4gICAgICAgICAgICBfdGFza0xpc3QgPSBfdGFza0xpc3Quc3VidGFza0xpc3Q7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgZm9yIChsZXQgYnVmSXRlbSBvZiBidWZmZXIpIHtcbiAgICAgICAgICAgICAgICBsZXQgY2xvbmVkID0gYnVmSXRlbS5jbG9uZSh0cnVlLCBfdGFza0xpc3QsIF9pZHgrKyk7XG4gICAgICAgICAgICAgICAgY2xvbmVkLmFzc2lnbk5ld0lkUmVjdXJzaXZlKCk7XG4gICAgICAgICAgICAgICAgY2xvbmVkLnVwZGF0ZURlcHRoKHRydWUpO1xuICAgICAgICAgICAgICAgIC8vY2xvbmVkLnJlZnJlc2hEb20odHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfdGFza0xpc3Qub3duZXIpIHtcbiAgICAgICAgICAgICAgICBfdGFza0xpc3Qub3duZXIucmVmcmVzaERvbSh0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgX3Rhc2tMaXN0LnJlZnJlc2hEb20odHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90YXNrTGlzdC53cml0ZVJvb3RUb0xvY2FsU3RvcmFnZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBsZXQgcmVkdWNlUmVjdXJzaXZlSW5wdXQgPSBmdW5jdGlvbihfdGFza3MpIHtcbiAgICAgICAgY29uc3QgcmVkdWNlZCA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IHRhc2sgb2YgX3Rhc2tzKSB7XG4gICAgICAgICAgICAvLyBJZiBjb3B5aW5nIHJlY3Vyc2l2ZWx5LCBtYWtlIHN1cmUgd2UncmUgb25seSBjb3B5aW5nIGVhY2ggdGFza1xuICAgICAgICAgICAgLy8gb25jZSwgYmVjYXVzZSB0aGVsZXQgdXNlciBtYXkgaGF2ZSBleHBsaWNpdGx5IHNlbGVjdGVkIHN1YnRhc2tzIHRoYXQgXG4gICAgICAgICAgICAvLyB3aWxsIGFsc28gYmUgYXV0b21hdGljYWxseSBwaWNrZWQgdXAgYnkgdGhlIHJlY3Vyc2lvbi5cbiAgICAgICAgICAgIGxldCBjaGFpbiA9IHRhc2suY2hhaW47XG4gICAgICAgICAgICBsZXQgdGFza0lzU3VidGFzayA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBJZiBhbnkgb2YgdGhlIHNlbGVjdGVkIHRhc2tzIGlzIGZvdW5kIGluIHRoaXMgdGFzaydzIHN1cGVyIFxuICAgICAgICAgICAgLy8gY2hhaW4sIHRoZW4gZG9uJ3QgY29weSB0aGlzIHRhc2sgYmVjYXVzZSBpdCBpcyBhbHJlYWR5IGluY2x1ZGVkXG4gICAgICAgICAgICAvLyBpbiB0aGUgcmVjdXJzaXZlIGNvcHkuXG4gICAgICAgICAgICBmb3IgKGxldCBwb3NzaWJsZVN1cGVyIG9mIF90YXNrcykge1xuICAgICAgICAgICAgICAgIGlmIChjaGFpbi5pbmNsdWRlcyhwb3NzaWJsZVN1cGVyKSkge1xuICAgICAgICAgICAgICAgICAgICB0YXNrSXNTdWJ0YXNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRhc2tJc1N1YnRhc2spIHtcbiAgICAgICAgICAgICAgICByZWR1Y2VkLnB1c2godGFzayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVkdWNlZDtcbiAgICB9XG5cbiAgICBsZXQgY2xlYXJCdWZmZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgYnVmZmVyLnNwbGljZSgwLCBidWZmZXIubGVuZ3RoKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBidWZmZXIsXG4gICAgICAgIHJlbW92ZSxcbiAgICAgICAgY29weSxcbiAgICAgICAgY3V0LFxuICAgICAgICBwYXN0ZSxcbiAgICAgICAgY2xlYXJCdWZmZXJcbiAgICB9XG59KSgpO1xuXG5sZXQgc2VsZWN0aW9uID0gKGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IHNlbGVjdGVkID0gW107XG5cbiAgICBsZXQgYWRkID0gZnVuY3Rpb24oX3Rhc2spIHtcbiAgICAgICAgaWYgKCFjb250YWlucyhfdGFzaykpIHtcbiAgICAgICAgICAgIF90YXNrLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGVjdGVkLnB1c2goX3Rhc2spO1xuICAgICAgICAgICAgZG9tLnNlbGVjdChfdGFzay5pZCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgbGV0IGFkZEV4Y2x1c2l2ZSA9IGZ1bmN0aW9uKF90YXNrKSB7XG4gICAgICAgIGNsZWFyKCk7XG4gICAgICAgIF90YXNrLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgYWRkKF90YXNrKTtcbiAgICB9O1xuXG4gICAgbGV0IHJlbW92ZSA9IGZ1bmN0aW9uKF90YXNrKSB7XG4gICAgICAgIGxldCBpZHggPSBzZWxlY3RlZC5pbmRleE9mKF90YXNrKTtcblxuICAgICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgICAgIHNlbGVjdGVkLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgX3Rhc2suc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGRvbS51bnNlbGVjdChfdGFzay5pZCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICBsZXQgY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZm9yIChsZXQgdGFzayBvZiBzZWxlY3RlZCkge1xuICAgICAgICAgICAgdGFzay5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgZG9tLnVuc2VsZWN0KHRhc2suaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZWN0ZWQuc3BsaWNlKDAsIHNlbGVjdGVkLmxlbmd0aCk7XG4gICAgfTtcblxuICAgIGxldCBjb250YWlucyA9IGZ1bmN0aW9uKF90YXNrKSB7XG4gICAgICAgIHJldHVybiBzZWxlY3RlZC5pbmRleE9mKF90YXNrKSA+PSAwO1xuICAgIH07XG5cbiAgICBsZXQgdXBkYXRlU2VsZWN0aW9uID0gZnVuY3Rpb24oX3Rhc2spIHtcbiAgICAgICAgaWYgKHN0YXRlTWFuYWdlci5zZWxlY3Rpb25NYXNzKSB7XG4gICAgICAgICAgICBpZiAoIXNlbGVjdGlvbi5zZWxlY3RlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24uYWRkRXhjbHVzaXZlKF90YXNrKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGlkT3JkZXIgPSB0YXNrTGlzdC5nZXRJZE9yZGVyKHRydWUpO1xuICAgICAgICAgICAgICAgIGxldCBzdGFydElkeCA9IGlkT3JkZXIuaW5kZXhPZihzZWxlY3Rpb24uc2VsZWN0ZWRbMF0uaWQpO1xuICAgICAgICAgICAgICAgIGxldCBlbmRJZHggPSBpZE9yZGVyLmluZGV4T2YoX3Rhc2suaWQpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChlbmRJZHggPCBzdGFydElkeCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYnVmZmVyID0gc3RhcnRJZHg7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0SWR4ID0gZW5kSWR4O1xuICAgICAgICAgICAgICAgICAgICBlbmRJZHggPSBidWZmZXI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRW5zdXJlIHdlIGFsd2F5cyByZXRhaW4gdGhlIHNhbWUgZmlyc3Qgc2VsZWN0ZWQgdGFzay5cbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24uYWRkRXhjbHVzaXZlKHNlbGVjdGlvbi5zZWxlY3RlZFswXSk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gc3RhcnRJZHg7IGkgPD0gZW5kSWR4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkT3JkZXJbaV0gIT0gc2VsZWN0aW9uLnNlbGVjdGVkWzBdLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb24uYWRkKHRhc2tMaXN0LmdldFRhc2tCeUlkKGlkT3JkZXJbaV0sIHRydWUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgLy8gQWRkIGNsaWNrZWQgdGFzayB0byBzZWxlY3Rpb24uXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGVNYW5hZ2VyLnNlbGVjdGlvbkFkZFRvKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0aW9uLmNvbnRhaW5zKF90YXNrKSkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5yZW1vdmUoX3Rhc2spO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24uYWRkKF90YXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgLy8gU2VsZWN0IG9ubHkgY2xpY2tlZCB0YXNrLlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZWN0aW9uLmFkZEV4Y2x1c2l2ZShfdGFzayk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgdHJpZ2dlck1lbnUgPSBmdW5jdGlvbihfY2xpZW50WCwgX2NsaWVudFksIF9zZWxlY3Rpb25BZGRUbywgX2lzVG91Y2gpIHtcbiAgICAgICAgbGV0IG1lbnU7XG4gICAgICAgIGxldCB0YXNrID0gdGFza0xpc3QuZ2V0VGFza0J5SWQoZG9tLmdldFRhc2tJZEF0UG9zKF9jbGllbnRYLCBcbiAgICAgICAgICAgIF9jbGllbnRZKSwgdHJ1ZSk7XG4gICAgXG4gICAgICAgIGlmICh0YXNrICYmICFzZWxlY3RlZC5pbmNsdWRlcyh0YXNrKSkge1xuICAgICAgICAgICAgdXBkYXRlU2VsZWN0aW9uKHRhc2spO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNsYXNzZXMgPSBudWxsO1xuICAgICAgICBpZiAoX2lzVG91Y2gpIHtcbiAgICAgICAgICAgIGNsYXNzZXMgPSBbIFwidG91Y2gtbWVudVwiIF07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFzayAmJiBzZWxlY3Rpb24uc2VsZWN0ZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICBkb20uZnJlZXplKCk7XG4gICAgICAgICAgICAvL3NlbGVjdGlvbi5hZGQodGFzayk7XG4gICAgICAgICAgICBsZXQgbWVudVRleHRzID0gWyBcIk5ldyB0YXNrIChhYm92ZSlcIiwgXCJOZXcgdGFzayAoYmVsb3cpXCIsIFxuICAgICAgICAgICAgICAgIFwiTmV3IHRhc2sgKGFzIHN1YnRhc2spXCIsIFwiQ29weSAod2l0aCBzdWJ0YXNrcylcIiwgXG4gICAgICAgICAgICAgICAgXCJDb3B5ICh3aXRob3V0IHN1YnRhc2tzKVwiLCBcIkN1dCAod2l0aCBzdWJ0YXNrcylcIiwgXG4gICAgICAgICAgICAgICAgXCJDdXQgKHdpdGhvdXQgc3VidGFza3MpXCIgXTtcbiAgICAgICAgICAgIGxldCBtZW51RnVuY3Rpb25zID0gW1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge3Rhc2suc3VwZXJ0YXNrTGlzdC5jcmVhdGVUYXNrKFxuICAgICAgICAgICAgICAgICAgICB0YXNrLnN1cGVydGFza0xpc3QuZ2V0VGFza0lkeCh0YXNrKSwgdHJ1ZSk7fSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHt0YXNrLnN1cGVydGFza0xpc3QuY3JlYXRlVGFzayhcbiAgICAgICAgICAgICAgICAgICAgdGFzay5zdXBlcnRhc2tMaXN0LmdldFRhc2tJZHgodGFzaykgKyAxLCB0cnVlKTt9LFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge3Rhc2suc3VidGFza0xpc3QuY3JlYXRlVGFzayhudWxsLCB0cnVlKTt9LFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2NvcGllci5jb3B5KHNlbGVjdGlvbi5zZWxlY3RlZCwgdHJ1ZSwgdGFza0xpc3QpO30sXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7Y29waWVyLmNvcHkoc2VsZWN0aW9uLnNlbGVjdGVkLCBmYWxzZSwgdGFza0xpc3QpO30sXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7Y29waWVyLmN1dChzZWxlY3Rpb24uc2VsZWN0ZWQsIHRydWUsIHRydWUsIHRhc2tMaXN0KTt9LFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2NvcGllci5jdXQoc2VsZWN0aW9uLnNlbGVjdGVkLCBmYWxzZSwgdHJ1ZSwgdGFza0xpc3QpO31cbiAgICAgICAgICAgIF07XG4gICAgXG4gICAgICAgICAgICAvLyBPbmx5IHNob3cgcGFzdGUgb3B0aW9uIGlmIHRoZXJlJ3Mgc29tZXRoaW5nIHRvIHBhc3RlLlxuICAgICAgICAgICAgaWYgKGNvcGllci5idWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbWVudVRleHRzLnB1c2goXCJQYXN0ZSAoYWJvdmUpXCIsIFwiUGFzdGUgKGJlbG93KVwiLCBcIlBhc3RlIChhcyBzdWJ0YXNrKVwiKTtcbiAgICAgICAgICAgICAgICBtZW51RnVuY3Rpb25zLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2NvcGllci5wYXN0ZSh0YXNrLnN1cGVydGFza0xpc3QsIFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFzay5zdXBlcnRhc2tMaXN0LmdldFRhc2tJZHgodGFzaykpO30sXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2NvcGllci5wYXN0ZSh0YXNrLnN1cGVydGFza0xpc3QsIFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFzay5zdXBlcnRhc2tMaXN0LmdldFRhc2tJZHgodGFzaykgKyAxKTt9LFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtjb3BpZXIucGFzdGUodGFzay5zdWJ0YXNrTGlzdCk7fVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1lbnVUZXh0cy5wdXNoKFwiRGVsZXRlICh3aXRoIHN1YnRhc2tzKVwiLFxuICAgICAgICAgICAgICAgIFwiRGVsZXRlICh3aXRob3V0IHN1YnRhc2tzKVwiKTtcbiAgICAgICAgICAgIG1lbnVGdW5jdGlvbnMucHVzaChmdW5jdGlvbigpIHtjb3BpZXIucmVtb3ZlKHNlbGVjdGlvbi5zZWxlY3RlZCwgdHJ1ZSwgXG4gICAgICAgICAgICAgICAgICAgIHRydWUpfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtjb3BpZXIucmVtb3ZlKHNlbGVjdGlvbi5zZWxlY3RlZCwgZmFsc2UsIFxuICAgICAgICAgICAgICAgICAgICB0cnVlKX1cbiAgICAgICAgICAgICAgICApO1xuICAgIFxuICAgICAgICAgICAgbWVudSA9IG5ldyBSaWdodENsaWNrTWVudShtZW51VGV4dHMsIG1lbnVGdW5jdGlvbnMsIGNsYXNzZXMpO1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIikuYXBwZW5kQ2hpbGQobWVudS5zdmcpO1xuXG4gICAgICAgICAgICBtZW51LmJ1dHRvbkRvd24oX2NsaWVudFgsIF9jbGllbnRZKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRvbS5mcmVlemUoKTtcbiAgICAgICAgICAgIGxldCBtZW51VGV4dHMgPSBbIFwiTmV3IHRhc2tcIl07XG4gICAgICAgICAgICBsZXQgbWVudUZ1bmN0aW9ucyA9IFtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHt0YXNrTGlzdC5jcmVhdGVUYXNrKHRhc2tMaXN0LnRhc2tzLmxlbmd0aCwgXG4gICAgICAgICAgICAgICAgICAgIHRydWUpO31cbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIGlmIChjb3BpZXIuYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIG1lbnVUZXh0cy5wdXNoKFwiUGFzdGVcIik7XG4gICAgICAgICAgICAgICAgbWVudUZ1bmN0aW9ucy5wdXNoKGZ1bmN0aW9uKCkge2NvcGllci5wYXN0ZSh0YXNrTGlzdCwgXG4gICAgICAgICAgICAgICAgICAgIHRhc2tMaXN0LnRhc2tzLmxlbmd0aCl9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWVudSA9IG5ldyBSaWdodENsaWNrTWVudShtZW51VGV4dHMsIG1lbnVGdW5jdGlvbnMsIGNsYXNzZXMpO1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIikuYXBwZW5kQ2hpbGQobWVudS5zdmcpO1xuICAgICAgICAgICAgbWVudS5idXR0b25Eb3duKF9jbGllbnRYLCBfY2xpZW50WSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIGVsc2UgaWYgKGNvcGllci5idWZmZXIubGVuZ3RoKSB7XG4gICAgICAgIC8vICAgICBkb20uZnJlZXplKCk7XG4gICAgICAgIC8vICAgICBsZXQgbWVudSA9IG5ldyBSaWdodENsaWNrTWVudShbIFwiTmV3IHRhc2tcIiwgXCJQYXN0ZVwiIF0sIFxuICAgICAgICAvLyAgICAgICAgIFtcbiAgICAgICAgLy8gICAgICAgICAgICAgZnVuY3Rpb24oKSB7Y29waWVyLnBhc3RlKHRhc2tMaXN0LCB0YXNrTGlzdC50YXNrcy5sZW5ndGgpfVxuICAgICAgICAvLyAgICAgICAgIF0pO1xuICAgICAgICAvLyAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIikuYXBwZW5kQ2hpbGQobWVudS5zdmcpO1xuICAgICAgICAvLyAgICAgbWVudS5idXR0b25Eb3duKF9jbGllbnRYLCBfY2xpZW50WSk7XG4gICAgICAgIC8vIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzZWxlY3RlZCxcbiAgICAgICAgYWRkLFxuICAgICAgICBhZGRFeGNsdXNpdmUsXG4gICAgICAgIHJlbW92ZSxcbiAgICAgICAgY2xlYXIsXG4gICAgICAgIGNvbnRhaW5zLFxuICAgICAgICB1cGRhdGVTZWxlY3Rpb24sXG4gICAgICAgIHRyaWdnZXJNZW51XG4gICAgfVxufSkoKTtcblxuLy8gbGV0IHRhc2tMaXN0ID0gbmV3IFRhc2tMaXN0KG51bGwsIFsgbmV3IFRhc2soXCJUZXN0IFRhc2tcIikgXSk7XG4vLyB0YXNrTGlzdC50YXNrc1swXS5hZGRTdWJ0YXNrKG5ldyBUYXNrKFwiQW5vdGhlciB0YXNrXCIsIFwiMjAyNC0wMi0wMVwiLCBcIjE3OjAwXCIsXG4vLyAgICAgXCJUaGlzIGlzIGEgdGVzdCB0YXNrLlwiLCAyLCAzLCBcIk5vIG5vdGVzIGZvciB0aGlzIHRhc2suXCIpKTtcbi8vIHRhc2tMaXN0LnRhc2tzWzBdLnN1YnRhc2tzWzBdLmFkZFN1YnRhc2sobmV3IFRhc2soXCJGb3VydGggdGFza1wiKSk7XG4vLyB0YXNrTGlzdC50YXNrc1swXS5zdWJ0YXNrc1swXS5zdWJ0YXNrc1swXS5hZGRTdWJ0YXNrKG5ldyBUYXNrKFwiRmlmdGggdGFza1wiKSk7XG4vLyB0YXNrTGlzdC50YXNrc1swXS5zdWJ0YXNrc1swXS5zdWJ0YXNrc1swXS5hZGRTdWJ0YXNrKG5ldyBUYXNrKFwiU2l4dGggdGFza1wiKSk7XG4vLyB0YXNrTGlzdC50YXNrc1swXS5hZGRTdWJ0YXNrKG5ldyBUYXNrKFwiQSB0aGlyZCB0YXNrXCIpKTtcblxuLy8gdGFza0xpc3QudGFza3MuZm9yRWFjaChfZWxlbSA9PiB7XG4vLyAgICAgX2VsZW0ubG9nKCk7XG4vLyB9KTtcblxubGV0IHRhc2tMaXN0ID0gbmV3IFRhc2tMaXN0KCk7XG50YXNrTGlzdC5yZXN0b3JlRnJvbUxvY2FsU3RvcmFnZSgpO1xuXG5cbnRhc2tMaXN0LnJlZnJlc2hEb20odHJ1ZSk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLCAoX2UpID0+IHtcbiAgICBfZS5wcmV2ZW50RGVmYXVsdCgpO1xufSk7XG5cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIF9lID0+IHtcbiAgICAvLyBsZXQgdGFzayA9IHRhc2tMaXN0LmdldFRhc2tCeUlkKGRvbS5nZXRUYXNrSWRBdFBvcyhfZS5wYWdlWCwgX2UucGFnZVkpLCB0cnVlKTtcbiAgICBsZXQgdGFzayA9IHRhc2tMaXN0LmdldFRhc2tCeUlkKGRvbS5nZXRUYXNrSWRBdFBvcyhfZS5jbGllbnRYLCBfZS5jbGllbnRZKSwgdHJ1ZSk7XG4gICAgLy8gbGV0IHVuZGVyTW91c2UgPSBkb2N1bWVudC5lbGVtZW50c0Zyb21Qb2ludChfZS5wYWdlWCwgX2UucGFnZVkpO1xuICAgIGxldCB1bmRlck1vdXNlID0gZG9jdW1lbnQuZWxlbWVudHNGcm9tUG9pbnQoX2UuY2xpZW50WCwgX2UuY2xpZW50WSk7XG4gICAgXG4gICAgaWYgKCFzdGF0ZU1hbmFnZXIuY3VycmVudGx5RWRpdGluZykge1xuICAgICAgICBpZiAoIV9lLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJpbnB1dC1idXR0b25cIikpIHtcbiAgICAgICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uLnVwZGF0ZVNlbGVjdGlvbih0YXNrKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IG5lZWRDbGVhciA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBlbGVtIG9mIHVuZGVyTW91c2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwidGFzay1leHBhbmQtaW1nXCIpIHx8XG4gICAgICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwic3VidGFza3MtcGx1cy1pbWdcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lZWRDbGVhciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobmVlZENsZWFyKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5jbGVhcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBfZSA9PiB7XG4gICAgaWYgKF9lLmJ1dHRvbiA9PSAwICYmICFzdGF0ZU1hbmFnZXIuY3VycmVudGx5RWRpdGluZykge1xuICAgICAgICBkb20udGhhdygpO1xuICAgIH1cbn0pO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIF9lID0+IHtcbiAgICBpZiAoX2UuYnV0dG9uID09IDIgJiYgIXN0YXRlTWFuYWdlci5jdXJyZW50bHlFZGl0aW5nKSB7XG4gICAgICAgIHNlbGVjdGlvbi50cmlnZ2VyTWVudShfZS5jbGllbnRYLCBfZS5jbGllbnRZLCBzdGF0ZU1hbmFnZXIuc2VsZWN0aW9uQWRkVG8pO1xuICAgIH1cbn0pO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBfZSA9PiB7XG4gICAgc3RhdGVNYW5hZ2VyLnRvdWNoLnRpbWUuc3BsaWNlKDAsIDEpO1xuICAgIHN0YXRlTWFuYWdlci50b3VjaC50aW1lLnB1c2gobmV3IERhdGUoKS5nZXRUaW1lKCkpO1xuXG4gICAgc3RhdGVNYW5hZ2VyLnRvdWNoLnBvcy5zcGxpY2UoMCwgMSk7XG4gICAgLy8gdG91Y2gucG9zLnB1c2goeyB4OiBfZS50b3VjaGVzWzBdLnBhZ2VYLCB5OiBfZS50b3VjaGVzWzBdLnBhZ2VZIH0pO1xuICAgIHN0YXRlTWFuYWdlci50b3VjaC5wb3MucHVzaCh7IHg6IF9lLnRvdWNoZXNbMF0uY2xpZW50WCwgXG4gICAgICAgIHk6IF9lLnRvdWNoZXNbMF0uY2xpZW50WSB9KTtcblxuICAgIGlmIChzdGF0ZU1hbmFnZXIudG91Y2gudGltZVswXSAmJiBcbiAgICAgICAgc3RhdGVNYW5hZ2VyLnRvdWNoLnRpbWVbMV0gLSBzdGF0ZU1hbmFnZXIudG91Y2gudGltZVswXTwgMzAwKSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhzdGF0ZU1hbmFnZXIudG91Y2gucG9zWzFdLnggLSBcbiAgICAgICAgICAgICAgICBzdGF0ZU1hbmFnZXIudG91Y2gucG9zWzBdLngpIDwgNDAgJiZcbiAgICAgICAgICAgICAgICBNYXRoLmFicyhzdGF0ZU1hbmFnZXIudG91Y2gucG9zWzFdLnkgLSBcbiAgICAgICAgICAgICAgICBzdGF0ZU1hbmFnZXIudG91Y2gucG9zWzBdLnkpIDwgNDApIHtcbiAgICAgICAgICAgIHNlbGVjdGlvbi50cmlnZ2VyTWVudShzdGF0ZU1hbmFnZXIudG91Y2gucG9zWzFdLngsIFxuICAgICAgICAgICAgICAgIHN0YXRlTWFuYWdlci50b3VjaC5wb3NbMV0ueSwgc3RhdGVNYW5hZ2VyLnNlbGVjdGlvbkFkZFRvLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRlTWFuYWdlci50b3VjaC50b3VjaGVkSWQuc3BsaWNlKDAsIDEpO1xuICAgIHN0YXRlTWFuYWdlci50b3VjaC50b3VjaGVkSWQucHVzaChkb20uZ2V0VGFza0lkQXRQb3MoX2UudG91Y2hlc1swXS5jbGllbnRYLCBcbiAgICAgICAgX2UudG91Y2hlc1swXS5jbGllbnRZKSk7XG4gICAgY29uc29sZS5sb2coXCJTZXQgbGFzdCB0b3VjaGVkIHRvIFwiICsgc3RhdGVNYW5hZ2VyLnRvdWNoLnRvdWNoZWRJZCk7XG59KTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIF9lID0+IHtcblxufSk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIF9lID0+IHtcbiAgICBpZiAoX2Uua2V5ID09IFwiZVwiKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHNlbGVjdGlvbi5zZWxlY3RlZCk7XG4gICAgfVxufSk7XG5cbmxldCBjbGVhckRhdGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNsZWFyLWRhdGFcIik7XG5jbGVhckRhdGEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIF9lID0+IHtcbiAgICBpZiAoIXN0YXRlTWFuYWdlci5jdXJyZW50bHlFZGl0aW5nKSB7XG4gICAgICAgIGxldCBzaG91bGREZWxldGUgPSBjb25maXJtKFwiVGhpcyB3aWxsIGRlbGV0ZSBhbGwgc2F2ZWQgZGF0YS4gQ29udGludWU/XCIpO1xuXG4gICAgICAgIGlmIChzaG91bGREZWxldGUpIHtcbiAgICAgICAgICAgIHRhc2tMaXN0LmNsZWFyKCk7XG4gICAgICAgICAgICB0YXNrTGlzdC5jbGVhckxvY2FsU3RvcmFnZSgpO1xuICAgICAgICB9XG4gICAgfVxufSk7IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIGxldCBvZmZzZXQgPSBuZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgLy9sZXQgb2Zmc2V0ID0gMDtcbiAgICBsZXQgb2Zmc2V0RGlyID0gb2Zmc2V0IDwgMCA/IC0xIDogMTtcbiAgICBvZmZzZXQgPSBNYXRoLmFicyhvZmZzZXQpO1xuICAgIGxldCBzdHIgPSBgJHtTdHJpbmcoTWF0aC5mbG9vcihvZmZzZXQgLyA2MCkpLnBhZFN0YXJ0KDIsIFwiMFwiKX06JHtTdHJpbmcob2Zmc2V0ICUgNjApLnBhZFN0YXJ0KDIsIFwiMFwiKX1gO1xuXG4gICAgaWYgKG9mZnNldERpciA9PSAxKSB7XG4gICAgICAgIHN0ciA9IFwiLVwiICsgc3RyO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ciA9IFwiK1wiICsgc3RyXG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cjtcbn0iXSwibmFtZXMiOlsidG9rZW4iLCJ0aW1lem9uZSIsInRpbWV6b25lQ2xpcCIsImRhdGVGb3JtYXQiLCJkYXRlIiwibWFzayIsInV0YyIsImdtdCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInRlc3QiLCJ1bmRlZmluZWQiLCJEYXRlIiwiaXNOYU4iLCJUeXBlRXJyb3IiLCJtYXNrU2xpY2UiLCJTdHJpbmciLCJtYXNrcyIsInNsaWNlIiwiXyIsIl9kIiwiRCIsIl9tIiwieSIsIl9IIiwiX00iLCJfcyIsIl9MIiwiX28iLCJnZXRUaW1lem9uZU9mZnNldCIsIl9XIiwiZ2V0V2VlayIsImZsYWdzIiwiZCIsImRkIiwicGFkIiwiZGRkIiwiaTE4biIsImRheU5hbWVzIiwiREREIiwiZ2V0RGF5TmFtZSIsIm0iLCJkYXlOYW1lIiwic2hvcnQiLCJkZGRkIiwiRERERCIsIm1tIiwibW1tIiwibW9udGhOYW1lcyIsIm1tbW0iLCJ5eSIsInl5eXkiLCJoIiwiaGgiLCJIIiwiSEgiLCJNIiwiTU0iLCJzIiwic3MiLCJsIiwiTCIsIk1hdGgiLCJmbG9vciIsInQiLCJ0aW1lTmFtZXMiLCJ0dCIsIlQiLCJUVCIsIloiLCJmb3JtYXRUaW1lem9uZSIsIm8iLCJhYnMiLCJwIiwiUyIsIlciLCJXVyIsIk4iLCJnZXREYXlPZldlZWsiLCJyZXBsYWNlIiwibWF0Y2giLCJkZWZhdWx0Iiwic2hvcnREYXRlIiwicGFkZGVkU2hvcnREYXRlIiwibWVkaXVtRGF0ZSIsImxvbmdEYXRlIiwiZnVsbERhdGUiLCJzaG9ydFRpbWUiLCJtZWRpdW1UaW1lIiwibG9uZ1RpbWUiLCJpc29EYXRlIiwiaXNvVGltZSIsImlzb0RhdGVUaW1lIiwiaXNvVXRjRGF0ZVRpbWUiLCJleHBpcmVzSGVhZGVyRm9ybWF0IiwidmFsIiwibGVuIiwicGFkU3RhcnQiLCJfcmVmIiwiX3JlZiRzaG9ydCIsIl9zaG9ydCIsInRvZGF5IiwieWVzdGVyZGF5Iiwic2V0RGF0ZSIsInRvbW9ycm93IiwidGFyZ2V0VGh1cnNkYXkiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImdldERheSIsImZpcnN0VGh1cnNkYXkiLCJkcyIsInNldEhvdXJzIiwiZ2V0SG91cnMiLCJ3ZWVrRGlmZiIsImRvdyIsInBvcCIsInRhc2tCaW4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwcmlvcml0eUxpc3QiLCJwcm9ncmVzc0xpc3QiLCJmcm96ZW4iLCJ1cGRhdGVUYXNrRXhwYW5kVmlldyIsIl9zdmdQYXRoIiwiX2NhcmQiLCJfdGFzayIsImV4cGFuZENhcmQiLCJleHBhbmRlZCIsInNldEF0dHJpYnV0ZSIsInNldFN1YnRhc2tFeHBhbmRWaWV3IiwiX2V4cGFuZGVkIiwiX3JlY3Vyc2l2ZSIsInN1YnRhc2tzUGx1c1BhdGgiLCJzdWJ0YXNrTGlzdCIsInRhc2siLCJ0YXNrcyIsImlkIiwiZnJlZXplIiwiY2xhc3NMaXN0IiwiYWRkIiwidGhhdyIsInJlbW92ZSIsInVuc2VsZWN0IiwiX3Rhc2tJZCIsImNhcmQiLCJnZXRUYXNrSWRBdFBvcyIsIl9jbGllbnRYIiwiX2NsaWVudFkiLCJ1bmRlck1vdXNlIiwiZWxlbWVudHNGcm9tUG9pbnQiLCJ0YXNrRm91bmQiLCJfZWxlbSIsImNvbnRhaW5zIiwiaWRQb3MiLCJjbGFzc05hbWUiLCJpbmRleE9mIiwiaWRFbmQiLCJOdW1iZXIiLCJjcmVhdGVDYXJkQ29udGFpbmVyIiwiX2NsYXNzZXMiLCJjb250YWluZXIiLCJjcmVhdGVFbGVtZW50IiwiY3JlYXRlQ2FyZENvbnRhaW5lckxhYmVsIiwiX3RleHQiLCJsYWJlbCIsInRleHRDb250ZW50IiwiX2RpdiIsImNyZWF0ZUlucHV0Qm94IiwiX3N0YXRlTWFuYWdlciIsImN1cnJlbnRseUVkaXRpbmciLCJib2R5IiwiY2FyZElucHV0IiwiYXBwZW5kQ2hpbGQiLCJ0aXRsZUZpZWxkQ29udGFpbmVyIiwidGl0bGVMYWJlbCIsInRpdGxlSW5wdXQiLCJ0aXRsZSIsImZvY3VzIiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJ2YWx1ZSIsImR1ZUNvbnRhaW5lciIsImRhdGVGaWVsZENvbnRhaW5lciIsImRhdGVMYWJlbCIsImRhdGVJbnB1dCIsImR1ZURhdGVTdHIiLCJ0aW1lRmllbGRDb250YWluZXIiLCJ0aW1lTGFiZWwiLCJ0aW1lSW5wdXQiLCJkdWVUaW1lU3RyIiwiZGVzY0ZpZWxkQ29udGFpbmVyIiwiZGVzY0xhYmVsIiwiZGVzY0lucHV0IiwiZGVzY3JpcHRpb24iLCJyYWRpb0NvbnRhaW5lciIsInByaW9yaXR5RmllbGRDb250YWluZXIiLCJwcmlvcml0eUxhYmVsIiwicHJpb3JpdHlGaWVsZCIsImNyZWF0ZVJhZGlvRmllbGQiLCJwcmlvcml0eSIsInByb2dyZXNzRmllbGRDb250YWluZXIiLCJwcm9ncmVzc0xhYmVsIiwicHJvZ3Jlc3NGaWVsZCIsInByb2dyZXNzIiwicHJvZ3Jlc3NDaGVja0NvbnRhaW5lciIsInByb2dyZXNzQ2hlY2siLCJ1c2VQcm9ncmVzc0Zyb21TdWJ0YXNrcyIsInByb2dyZXNzQ2hlY2tMYWJlbCIsInVwZGF0ZVByb2dyZXNzRmllbGQiLCJub3Rlc0ZpZWxkQ29udGFpbmVyIiwibm90ZXNMYWJlbCIsIm5vdGVzSW5wdXQiLCJub3RlcyIsImJ1dHRvbkRpdiIsImNvbmZpcm0iLCJjcmVhdGVTdmciLCJjYW5jZWwiLCJhZGRFdmVudExpc3RlbmVyIiwiX2UiLCJfZXZlbnQiLCJ1cGRhdGVEdWUiLCJnZXRSYWRpb1ZhbHVlIiwiY2hlY2tlZCIsImdldFByb2dyZXNzUmVjdXJzaXZlIiwic3VwZXJ0YXNrTGlzdCIsIndyaXRlUm9vdFRvTG9jYWxTdG9yYWdlIiwicmVmcmVzaERvbSIsIl9jaGVjayIsIl9maWVsZCIsInJlbW92ZUF0dHJpYnV0ZSIsIl9uYW1lIiwiX2RlZmF1bHRWYWx1ZSIsIl9sYWJlbEFyciIsImZpZWxkIiwicmFkaW9zIiwibGFiZWxzIiwiaSIsInB1c2giLCJfZmllbGRzZXQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3BhdGgiLCJfdGl0bGUiLCJfdXNlQmciLCJfcGF0aENsYXNzIiwic3ZnIiwiY3JlYXRlRWxlbWVudE5TIiwiYmdQYXRoIiwicGF0aCIsIm5hbWVzcGFjZSIsImNsaWNrUmVsZWFzZVdpbmRvdyIsImdyb3VwIiwibWVudSIsImJvcmRlciIsIm1lbnVJdGVtcyIsImJ1dHRvbkRvd25UaW1lIiwiaXNWaXNpYmxlIiwidGlsZUdyb3VwIiwiZnVuY3Rpb25zIiwiaXRlbVRleHRzIiwiYm9yZGVyU2l6ZSIsInNjYWxlIiwiZm9udFNpemUiLCJtZW51TWFyZ2luIiwibWVudVBvc09mZnNldCIsIngiLCJtZW51V2lkdGgiLCJtZW51SGVpZ2h0IiwiaW5pdFRpbWUiLCJwb3N0SW5pdERlbGF5IiwiaHRtbCIsImNvbnN0cnVjdG9yIiwiX2l0ZW1UZXh0cyIsIl9mdW5jdGlvbnMiLCJfY3NzQ2xhc3NlcyIsInRoaXMiLCJ1cGRhdGVIaWdobGlnaHQiLCJjbGllbnRYIiwiY2xpZW50WSIsIndpbmRvdyIsImVyYXNlIiwiZ2V0VGltZSIsIm1lbnVTZWxlY3Rpb24iLCJnZXRIaWdobGlnaHRlZCIsIm1lbnVNb3VzZU92ZXIiLCJpbmNsdWRlcyIsInJlY3QiLCJhY3RpdmF0ZVNlbGVjdGlvbiIsImluaXQiLCJjb21wdXRlZEZvbnRTaXplIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJudW0iLCJjaGFyIiwiY29kZSIsImNoYXJDb2RlQXQiLCJhZGRNZW51SXRlbSIsImhlaWdodCIsIndpZHRoIiwibmV3V2lkdGgiLCJzdmdUZXh0IiwidGV4dCIsImdldEJCb3giLCJ4TWFyZ2luIiwiZ2V0QXR0cmlidXRlIiwiYnV0dG9uRG93biIsImRvY1dpZHRoIiwiY2xpZW50V2lkdGgiLCJkb2NIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJ4T2Zmc2V0IiwieU9mZnNldCIsInNjcm9sbFgiLCJzY3JvbGxZIiwicGVyZm9ybWFuY2UiLCJub3ciLCJidXR0b25VcCIsIml0ZW0iLCJfZnVuY3Rpb24iLCJfaWR4Iiwic3BsaWNlIiwiTWVudUl0ZW0iLCJ1bmhpZ2hsaWdodCIsImhpZ2hsaWdodCIsImlzSGlnaGxpZ2h0ZWQiLCJnZXRIaWdobGlnaHRlZFRleHQiLCJoaWdobGlnaHRlZCIsIl9zZWxlY3Rpb24iLCJhY3RpdmUiLCJmaW5kIiwiZnVuY3Rpb24iLCJfZm9udFNpemUiLCJfcGFyZW50IiwiU1ZHVGV4dCIsIl9jb250ZW50IiwiX2lkIiwidHlwZSIsInN0b3JhZ2UiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImUiLCJET01FeGNlcHRpb24iLCJuYW1lIiwiVGFzayIsImR1ZURhdGUiLCJkdWVUaW1lIiwiZGVwdGgiLCJzZWxlY3RlZCIsImRvbURpdiIsInN0YXRpYyIsIl9kdWVEYXRlU3RyIiwiX2R1ZVRpbWVTdHIiLCJfZGVzY3JpcHRpb24iLCJfcHJpb3JpdHkiLCJfcHJvZ3Jlc3MiLCJfbm90ZXMiLCJfc3VwZXJ0YXNrTGlzdCIsIl9pc0Nsb25lIiwiVGFza0xpc3QiLCJoYXNDb250ZW50IiwiYXNzaWduTmV3SWQiLCJ1cGRhdGVEZXB0aCIsImNsb25lIiwiY2xvbmVkIiwib2Zmc2V0Iiwib2Zmc2V0RGlyIiwic3RyIiwiZGF0ZVN0cmluZyIsInN1cGVydGFzayIsIm93bmVyIiwiZWRpdFRpdGxlIiwiZWRpdER1ZSIsImVkaXREZXNjcmlwdGlvbiIsImVkaXRQcm9ncmVzcyIsImVkaXROb3RlcyIsInN1YnRhc2tzIiwicmVtb3ZlSWQiLCJsb2ciLCJsb2dnZXIiLCJsb2dUYXNrIiwiZ2VuZXJhdGVJZCIsImFzc2lnbk5ld0lkUmVjdXJzaXZlIiwic3VwZXJ0YXNrRGl2IiwibmVpZ2hib3JJZHgiLCJnZXRUYXNrSWR4IiwibmVpZ2hib3JJZCIsIm5laWdoYm9yRGl2IiwiaW5kZW50U3RyIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwiaERpdiIsInRpdGxlQ29udGFpbmVyIiwicHJpb3JpdHlTdmciLCJjcmVhdGVQcmlvcml0eVN2ZyIsInByb2dyZXNzU3ZnIiwiY3JlYXRlUHJvZ3Jlc3NTdmciLCJoMiIsInRhc2tFeHBhbmRTdmciLCJ0YXNrRXhwYW5kUGF0aCIsImluZm9Db250YWluZXIiLCJwcmlvcml0eUNvbnRhaW5lciIsInByb2dyZXNzQ29udGFpbmVyIiwicHJvZyIsImRlc2NDb250YWluZXIiLCJkZXNjIiwibm90ZXNDb250YWluZXIiLCJzdWJ0YXNrc0hlYWRlciIsInN1YnRhc2tzUGx1c1N2ZyIsInN1YnRhc2tzVGV4dCIsInNlbGVjdGlvbkFkZFRvIiwicG9pbnRlclR5cGUiLCJ0b3VjaCIsInRvdWNoZWRJZCIsInN0YXRlTWFuYWdlciIsImNoYWluIiwiYWRkU3VidGFzayIsInJlbW92ZVN1YnRhc2tJZCIsInJlbW92ZVN1YnRhc2tJZHgiLCJyZW1vdmVJZHgiLCJsYXN0SWQiLCJNQVhfU0FGRV9JTlRFR0VSIiwicmVzZXRJZHMiLCJfb3duZXIiLCJfdGFza3MiLCJmb3JFYWNoIiwic29ydCIsImNyZWF0ZVRhc2siLCJfc2hvd0lucHV0IiwibmV3VGFzayIsImNvbnNvbGUiLCJnZXRUYXNrQnlJZCIsImlkVGFzayIsImhhc1Rhc2tzIiwiZ2V0SWRPcmRlciIsIm9yZGVyIiwiY2xlYXIiLCJkZWxldGUiLCJjbG9uZUpzb24iLCJqc29uVGFza0xpc3QiLCJpbml0RnJvbUpzb24iLCJfanNvbk9iaiIsImxvYWRlZFRhc2siLCJ3cml0ZVRvTG9jYWxTdG9yYWdlIiwiX2tleSIsIkRFRkFVTFRfS0VZIiwianNvblN0ciIsIkpTT04iLCJzdHJpbmdpZnkiLCJsb2NhbFN0b3JhZ2UiLCJ3cml0ZUVycm9yU2hvd24iLCJhbGVydCIsInJvb3QiLCJyZXN0b3JlRnJvbUxvY2FsU3RvcmFnZSIsImpzb25PYmoiLCJnZXRJdGVtIiwicGFyc2UiLCJjbGVhckxvY2FsU3RvcmFnZSIsInNldFNlbGVjdGlvbkFkZFRvIiwiX3N0YXRlIiwia2V5Iiwic2V0U2VsZWN0aW9uTWFzcyIsInNlbGVjdGlvbk1hc3MiLCJiaW5kIiwidGltZSIsInBvcyIsIl9wcmVwZW5kIiwiY29waWVyIiwiYnVmZmVyIiwicmVkdWNlUmVjdXJzaXZlSW5wdXQiLCJyZWR1Y2VkIiwidGFza0lzU3VidGFzayIsInBvc3NpYmxlU3VwZXIiLCJjbGVhckJ1ZmZlciIsIl9yZWZyZXNoIiwiQXJyYXkiLCJpbnNlcnRJZHgiLCJjb3B5IiwiX2dsb2JhbFRhc2tMaXN0IiwiaWRPcmRlciIsImEiLCJiIiwiY3V0IiwicGFzdGUiLCJfdGFza0xpc3QiLCJidWZJdGVtIiwic2VsZWN0aW9uIiwidXBkYXRlU2VsZWN0aW9uIiwidGFza0xpc3QiLCJzdGFydElkeCIsImVuZElkeCIsImFkZEV4Y2x1c2l2ZSIsImlkeCIsInRyaWdnZXJNZW51IiwiX3NlbGVjdGlvbkFkZFRvIiwiX2lzVG91Y2giLCJjbGFzc2VzIiwibWVudVRleHRzIiwibWVudUZ1bmN0aW9ucyIsInByZXZlbnREZWZhdWx0IiwidGFyZ2V0IiwibmVlZENsZWFyIiwiZWxlbSIsImJ1dHRvbiIsInRvdWNoZXMiXSwic291cmNlUm9vdCI6IiJ9